var cee=Object.defineProperty,uee=Object.defineProperties,dee=Object.getOwnPropertyDescriptors,N3=Object.getOwnPropertySymbols,hee=Object.prototype.hasOwnProperty,fee=Object.prototype.propertyIsEnumerable,R3=(qe,q,R)=>q in qe?cee(qe,q,{enumerable:!0,configurable:!0,writable:!0,value:R}):qe[q]=R,Q1=(qe,q)=>{for(var R in q||(q={}))hee.call(q,R)&&R3(qe,R,q[R]);if(N3)for(var R of N3(q))fee.call(q,R)&&R3(qe,R,q[R]);return qe},J1=(qe,q)=>uee(qe,dee(q));(self.webpackChunkFirebaseAuth=self.webpackChunkFirebaseAuth||[]).push([[179],{2011:(qe,q,R)=>{"use strict";R.d(q,{Dh:()=>K,GT:()=>j,cc:()=>Ie,hO:()=>Pe,on:()=>G,pX:()=>V,xv:()=>ue});var d=R(5e3),M=R(127),T=R(5813);qe=R.hmd(qe);const F=["ngOnDestroy"],V=(Ce,Be,Re,Ue={})=>new Proxy(Ce,{get:(je,ge)=>Re.runOutsideAngular(()=>{var Se;if(Ce[ge])return(null===(Se=null==Ue?void 0:Ue.spy)||void 0===Se?void 0:Se.get)&&Ue.spy.get(ge,Ce[ge]),Ce[ge];if(F.indexOf(ge)>-1)return()=>{};const ne=Be.toPromise().then(de=>{const xe=de&&de[ge];return"function"==typeof xe?xe.bind(de):xe&&xe.then?xe.then(ee=>Re.run(()=>ee)):Re.run(()=>xe)});return new Proxy(()=>{},{get:(de,xe)=>ne[xe],apply:(de,xe,ee)=>ne.then(oe=>{var fe;const we=oe&&oe(...ee);return(null===(fe=null==Ue?void 0:Ue.spy)||void 0===fe?void 0:fe.apply)&&Ue.spy.apply(ge,ee,we),we})})})}),j=(Ce,Be)=>{Be.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ue=>{Object.defineProperty(Ce.prototype,Ue,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ue))})})};class W{constructor(Be){return Be}}const K=new d.OlP("angularfire2.app.options"),ue=new d.OlP("angularfire2.app.name");function G(Ce,Be,Re){const je="object"==typeof Re&&Re||{};je.name=je.name||"string"==typeof Re&&Re||"[DEFAULT]";const Se=M.Z.apps.filter(ne=>ne&&ne.name===je.name)[0]||Be.runOutsideAngular(()=>M.Z.initializeApp(Ce,je));try{JSON.stringify(Ce)!==JSON.stringify(Se.options)&&Z("error",`${Se.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ne){}return new W(Se)}const Z=(Ce,...Be)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Be)},te={provide:W,useFactory:G,deps:[K,d.R0b,[new d.FiY,ue]]};let Pe=(()=>{class Ce{constructor(Re){M.Z.registerVersion("angularfire",T.q4.full,"core"),M.Z.registerVersion("angularfire",T.q4.full,"app-compat"),M.Z.registerVersion("angular",d.q4F.full,Re.toString())}static initializeApp(Re,Ue){return{ngModule:Ce,providers:[{provide:K,useValue:Re},{provide:ue,useValue:Ue}]}}}return Ce.\u0275fac=function(Re){return new(Re||Ce)(d.LFG(d.Lbi))},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[te]}),Ce})();function Ie(Ce,Be,Re,Ue,je){const[,ge,Se]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===Ce)||[];if(ge)return function Oe(Ce,Be){try{return Ce.toString()===Be.toString()}catch(Re){return Ce===Be}}(je,Se)||(me("error",`${Be} was already initialized on the ${Re} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:je,was:Se})),ge;{const ne=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ne,je]),ne}}const We=!!qe.hot,me=(Ce,...Be)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(qe,q,R)=>{"use strict";R.d(q,{q4:()=>ea,iC:()=>Eo,HU:()=>sh,vb:()=>vu,JM:()=>_u,u3:()=>sp});var d=R(5e3),M=R(5867),T=R(5861),F=R(9681),V=R(2090),j=R(4859),W=R(1877),K=R(8766);const ue="@firebase/installations",G="0.5.9",te=`w:${G}`,Pe="FIS_v2",Be=new V.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Re(A){return A instanceof V.ZR&&A.code.includes("request-failed")}function Ue({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function je(A){return{token:A.token,requestStatus:2,expiresIn:oe(A.expiresIn),creationTime:Date.now()}}function ge(A,k){return Se.apply(this,arguments)}function Se(){return(Se=(0,T.Z)(function*(A,k){const Q=(yield k.json()).error;return Be.create("request-failed",{requestName:A,serverCode:Q.code,serverMessage:Q.message,serverStatus:Q.status})})).apply(this,arguments)}function ne({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function de(A,{refreshToken:k}){const B=ne(A);return B.append("Authorization",function fe(A){return`${Pe} ${A}`}(k)),B}function xe(A){return ee.apply(this,arguments)}function ee(){return(ee=(0,T.Z)(function*(A){const k=yield A();return k.status>=500&&k.status<600?A():k})).apply(this,arguments)}function oe(A){return Number(A.replace("s","000"))}function we(A,k){return De.apply(this,arguments)}function De(){return(De=(0,T.Z)(function*({appConfig:A,heartbeatServiceProvider:k},{fid:B}){const Q=Ue(A),ye=ne(A),Me=k.getImmediate({optional:!0});if(Me){const Gt=yield Me.getHeartbeatsHeader();Gt&&ye.append("x-firebase-client",Gt)}const ct={method:"POST",headers:ye,body:JSON.stringify({fid:B,authVersion:Pe,appId:A.appId,sdkVersion:te})},Wt=yield xe(()=>fetch(Q,ct));if(Wt.ok){const Gt=yield Wt.json();return{fid:Gt.fid||B,registrationStatus:2,refreshToken:Gt.refreshToken,authToken:je(Gt.authToken)}}throw yield ge("Create Installation",Wt)})).apply(this,arguments)}function Xe(A){return new Promise(k=>{setTimeout(k,A)})}const sn=/^[cdef][\w-]{21}$/;function at(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const B=function dn(A){return function Tt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return sn.test(B)?B:""}catch(A){return""}}function Ln(A){return`${A.appName}!${A.appId}`}const wn=new Map;function an(A,k){const B=Ln(A);yn(B,k),function Sn(A,k){const B=function Fn(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=A=>{yn(A.data.key,A.data.fid)}),ei}();B&&B.postMessage({key:A,fid:k}),function mr(){0===wn.size&&ei&&(ei.close(),ei=null)}()}(B,k)}function yn(A,k){const B=wn.get(A);if(B)for(const Q of B)Q(k)}let ei=null;const re="firebase-installations-store";let _e=null;function pe(){return _e||(_e=(0,K.X3)("firebase-installations-database",1,{upgrade:(A,k)=>{0===k&&A.createObjectStore(re)}})),_e}function bt(A,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,T.Z)(function*(A,k){const B=Ln(A),ye=(yield pe()).transaction(re,"readwrite"),Me=ye.objectStore(re),nt=yield Me.get(B);return yield Me.put(k,B),yield ye.done,(!nt||nt.fid!==k.fid)&&an(A,k.fid),k})).apply(this,arguments)}function vt(A){return At.apply(this,arguments)}function At(){return(At=(0,T.Z)(function*(A){const k=Ln(A),Q=(yield pe()).transaction(re,"readwrite");yield Q.objectStore(re).delete(k),yield Q.done})).apply(this,arguments)}function it(A,k){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,T.Z)(function*(A,k){const B=Ln(A),ye=(yield pe()).transaction(re,"readwrite"),Me=ye.objectStore(re),nt=yield Me.get(B),ct=k(nt);return void 0===ct?yield Me.delete(B):yield Me.put(ct,B),yield ye.done,ct&&(!nt||nt.fid!==ct.fid)&&an(A,ct.fid),ct})).apply(this,arguments)}function ht(A){return jt.apply(this,arguments)}function jt(){return(jt=(0,T.Z)(function*(A){let k;const B=yield it(A.appConfig,Q=>{const ye=kn(Q),Me=kt(A,ye);return k=Me.registrationPromise,Me.installationEntry});return""===B.fid?{installationEntry:yield k}:{installationEntry:B,registrationPromise:k}})).apply(this,arguments)}function kn(A){return si(A||{fid:at(),registrationStatus:0})}function kt(A,k){if(0===k.registrationStatus){if(!navigator.onLine)return{installationEntry:k,registrationPromise:Promise.reject(Be.create("app-offline"))};const B={fid:k.fid,registrationStatus:1,registrationTime:Date.now()},Q=function ut(A,k){return et.apply(this,arguments)}(A,B);return{installationEntry:B,registrationPromise:Q}}return 1===k.registrationStatus?{installationEntry:k,registrationPromise:xn(A)}:{installationEntry:k}}function et(){return(et=(0,T.Z)(function*(A,k){try{const B=yield we(A,k);return bt(A.appConfig,B)}catch(B){throw Re(B)&&409===B.customData.serverCode?yield vt(A.appConfig):yield bt(A.appConfig,{fid:k.fid,registrationStatus:0}),B}})).apply(this,arguments)}function xn(A){return $t.apply(this,arguments)}function $t(){return($t=(0,T.Z)(function*(A){let k=yield Bt(A.appConfig);for(;1===k.registrationStatus;)yield Xe(100),k=yield Bt(A.appConfig);if(0===k.registrationStatus){const{installationEntry:B,registrationPromise:Q}=yield ht(A);return Q||B}return k})).apply(this,arguments)}function Bt(A){return it(A,k=>{if(!k)throw Be.create("installation-not-found");return si(k)})}function si(A){return function pn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Zt(A,k){return Y.apply(this,arguments)}function Y(){return(Y=(0,T.Z)(function*({appConfig:A,heartbeatServiceProvider:k},B){const Q=se(A,B),ye=de(A,B),Me=k.getImmediate({optional:!0});if(Me){const Gt=yield Me.getHeartbeatsHeader();Gt&&ye.append("x-firebase-client",Gt)}const ct={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:te,appId:A.appId}})},Wt=yield xe(()=>fetch(Q,ct));if(Wt.ok)return je(yield Wt.json());throw yield ge("Generate Auth Token",Wt)})).apply(this,arguments)}function se(A,{fid:k}){return`${Ue(A)}/${k}/authTokens:generate`}function X(A){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,T.Z)(function*(A,k=!1){let B;const Q=yield it(A.appConfig,Me=>{if(!Kt(Me))throw Be.create("not-registered");const nt=Me.authToken;if(!k&&Tn(nt))return Me;if(1===nt.requestStatus)return B=ie(A,k),Me;{if(!navigator.onLine)throw Be.create("app-offline");const ct=oi(Me);return B=ft(A,ct),ct}});return B?yield B:Q.authToken})).apply(this,arguments)}function ie(A,k){return be.apply(this,arguments)}function be(){return(be=(0,T.Z)(function*(A,k){let B=yield Ke(A.appConfig);for(;1===B.authToken.requestStatus;)yield Xe(100),B=yield Ke(A.appConfig);const Q=B.authToken;return 0===Q.requestStatus?X(A,k):Q})).apply(this,arguments)}function Ke(A){return it(A,k=>{if(!Kt(k))throw Be.create("not-registered");return function Ae(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(k.authToken)?Object.assign(Object.assign({},k),{authToken:{requestStatus:0}}):k})}function ft(A,k){return St.apply(this,arguments)}function St(){return(St=(0,T.Z)(function*(A,k){try{const B=yield Zt(A,k),Q=Object.assign(Object.assign({},k),{authToken:B});return yield bt(A.appConfig,Q),B}catch(B){if(!Re(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const Q=Object.assign(Object.assign({},k),{authToken:{requestStatus:0}});yield bt(A.appConfig,Q)}else yield vt(A.appConfig);throw B}})).apply(this,arguments)}function Kt(A){return void 0!==A&&2===A.registrationStatus}function Tn(A){return 2===A.requestStatus&&!function Ft(A){const k=Date.now();return k<A.creationTime||A.creationTime+A.expiresIn<k+36e5}(A)}function oi(A){const k={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:k})}function ce(){return(ce=(0,T.Z)(function*(A){const k=A,{installationEntry:B,registrationPromise:Q}=yield ht(k);return Q?Q.catch(console.error):X(k).catch(console.error),B.fid})).apply(this,arguments)}function dt(){return(dt=(0,T.Z)(function*(A,k=!1){const B=A;return yield pt(B),(yield X(B,k)).token})).apply(this,arguments)}function pt(A){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,T.Z)(function*(A){const{registrationPromise:k}=yield ht(A);k&&(yield k)})).apply(this,arguments)}function al(A){return Be.create("missing-app-config-values",{valueName:A})}const Pr="installations",ln=A=>{const k=A.getProvider("app").getImmediate(),B=function Hi(A){if(!A||!A.options)throw al("App Configuration");if(!A.name)throw al("App Name");const k=["projectId","apiKey","appId"];for(const B of k)if(!A.options[B])throw al(B);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(k);return{app:k,appConfig:B,heartbeatServiceProvider:(0,F._getProvider)(k,"heartbeat"),_delete:()=>Promise.resolve()}},Zn=A=>{const k=A.getProvider("app").getImmediate(),B=(0,F._getProvider)(k,Pr).getImmediate();return{getId:()=>function he(A){return ce.apply(this,arguments)}(B),getToken:ye=>function Ge(A){return dt.apply(this,arguments)}(B,ye)}};(function yr(){(0,F._registerComponent)(new j.wA(Pr,ln,"PUBLIC")),(0,F._registerComponent)(new j.wA("installations-internal",Zn,"PRIVATE"))})(),(0,F.registerVersion)(ue,G),(0,F.registerVersion)(ue,G,"esm2017");const Vs="@firebase/remote-config",di=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rd{constructor(k,B,Q,ye){this.client=k,this.storage=B,this.storageCache=Q,this.logger=ye}isCachedDataFresh(k,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Q=Date.now()-B,ye=Q<=k;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Q}. Cache max age millis (minimumFetchIntervalMillis setting): ${k}. Is cache hit: ${ye}.`),ye}fetch(k){var B=this;return(0,T.Z)(function*(){const[Q,ye]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(ye&&B.isCachedDataFresh(k.cacheMaxAgeMillis,Q))return ye;k.eTag=ye&&ye.eTag;const Me=yield B.client.fetch(k),nt=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Me.status&&nt.push(B.storage.setLastSuccessfulFetchResponse(Me)),yield Promise.all(nt),Me})()}}function Jl(A=navigator){return A.languages&&A.languages[0]||A.language}class Ai{constructor(k,B,Q,ye,Me,nt){this.firebaseInstallations=k,this.sdkVersion=B,this.namespace=Q,this.projectId=ye,this.apiKey=Me,this.appId=nt}fetch(k){var B=this;return(0,T.Z)(function*(){const[Q,ye]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,ct={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":k.eTag||"*"},Wt={sdk_version:B.sdkVersion,app_instance_id:Q,app_instance_id_token:ye,app_id:B.appId,language_code:Jl()},Gt={method:"POST",headers:ct,body:JSON.stringify(Wt)},cn=fetch(nt,Gt),Vt=new Promise((Io,fs)=>{k.signal.addEventListener(()=>{const pc=new Error("The operation was aborted.");pc.name="AbortError",fs(pc)})});let qi;try{yield Promise.race([cn,Vt]),qi=yield cn}catch(Io){let fs="fetch-client-network";throw"AbortError"===Io.name&&(fs="fetch-timeout"),di.create(fs,{originalErrorMessage:Io.message})}let li=qi.status;const La=qi.headers.get("ETag")||void 0;let Js,br;if(200===qi.status){let Io;try{Io=yield qi.json()}catch(fs){throw di.create("fetch-client-parse",{originalErrorMessage:fs.message})}Js=Io.entries,br=Io.state}if("INSTANCE_STATE_UNSPECIFIED"===br?li=500:"NO_CHANGE"===br?li=304:("NO_TEMPLATE"===br||"EMPTY_CONFIG"===br)&&(Js={}),304!==li&&200!==li)throw di.create("fetch-status",{httpStatus:li});return{status:li,eTag:La,config:Js}})()}}class Us{constructor(k,B){this.client=k,this.storage=B}fetch(k){var B=this;return(0,T.Z)(function*(){const Q=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(k,Q)})()}attemptFetch(k,{throttleEndTimeMillis:B,backoffCount:Q}){var ye=this;return(0,T.Z)(function*(){yield function Pd(A,k){return new Promise((B,Q)=>{const ye=Math.max(k-Date.now(),0),Me=setTimeout(B,ye);A.addEventListener(()=>{clearTimeout(Me),Q(di.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}(k.signal,B);try{const Me=yield ye.client.fetch(k);return yield ye.storage.deleteThrottleMetadata(),Me}catch(Me){if(!function Tm(A){if(!(A instanceof V.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}(Me))throw Me;const nt={throttleEndTimeMillis:Date.now()+(0,V.$s)(Q),backoffCount:Q+1};return yield ye.storage.setThrottleMetadata(nt),ye.attemptFetch(k,nt)}})()}}class Am{constructor(k,B,Q,ye,Me){this.app=k,this._client=B,this._storageCache=Q,this._storage=ye,this._logger=Me,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ll(A,k){const B=A.target.error||void 0;return di.create(k,{originalErrorMessage:B&&B.message})}const Ca="app_namespace_store";class Ld{constructor(k,B,Q,ye=function km(){return new Promise((A,k)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=Q=>{k(ll(Q,"storage-open"))},B.onsuccess=Q=>{A(Q.target.result)},B.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(B){k(di.create("storage-open",{originalErrorMessage:B}))}})}()){this.appId=k,this.appName=B,this.namespace=Q,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(k){return this.set("last_fetch_status",k)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(k){return this.set("last_successful_fetch_timestamp_millis",k)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(k){return this.set("last_successful_fetch_response",k)}getActiveConfig(){return this.get("active_config")}setActiveConfig(k){return this.set("active_config",k)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(k){return this.set("active_config_etag",k)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(k){return this.set("throttle_metadata",k)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(k){var B=this;return(0,T.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ye,Me)=>{const ct=Q.transaction([Ca],"readonly").objectStore(Ca),Wt=B.createCompositeKey(k);try{const Gt=ct.get(Wt);Gt.onerror=cn=>{Me(ll(cn,"storage-get"))},Gt.onsuccess=cn=>{const Vt=cn.target.result;ye(Vt?Vt.value:void 0)}}catch(Gt){Me(di.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(k,B){var Q=this;return(0,T.Z)(function*(){const ye=yield Q.openDbPromise;return new Promise((Me,nt)=>{const Wt=ye.transaction([Ca],"readwrite").objectStore(Ca),Gt=Q.createCompositeKey(k);try{const cn=Wt.put({compositeKey:Gt,value:B});cn.onerror=Vt=>{nt(ll(Vt,"storage-set"))},cn.onsuccess=()=>{Me()}}catch(cn){nt(di.create("storage-set",{originalErrorMessage:cn&&cn.message}))}})})()}delete(k){var B=this;return(0,T.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ye,Me)=>{const ct=Q.transaction([Ca],"readwrite").objectStore(Ca),Wt=B.createCompositeKey(k);try{const Gt=ct.delete(Wt);Gt.onerror=cn=>{Me(ll(cn,"storage-delete"))},Gt.onsuccess=()=>{ye()}}catch(Gt){Me(di.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(k){return[this.appId,this.appName,this.namespace,k].join()}}class xa{constructor(k){this.storage=k}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var k=this;return(0,T.Z)(function*(){const B=k.storage.getLastFetchStatus(),Q=k.storage.getLastSuccessfulFetchTimestampMillis(),ye=k.storage.getActiveConfig(),Me=yield B;Me&&(k.lastFetchStatus=Me);const nt=yield Q;nt&&(k.lastSuccessfulFetchTimestampMillis=nt);const ct=yield ye;ct&&(k.activeConfig=ct)})()}setLastFetchStatus(k){return this.lastFetchStatus=k,this.storage.setLastFetchStatus(k)}setLastSuccessfulFetchTimestampMillis(k){return this.lastSuccessfulFetchTimestampMillis=k,this.storage.setLastSuccessfulFetchTimestampMillis(k)}setActiveConfig(k){return this.activeConfig=k,this.storage.setActiveConfig(k)}}function b0(){return cl.apply(this,arguments)}function cl(){return(cl=(0,T.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(A){return!1}})).apply(this,arguments)}!function Mm(){(0,F._registerComponent)(new j.wA("remote-config",function A(k,{instanceIdentifier:B}){const Q=k.getProvider("app").getImmediate(),ye=k.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw di.create("registration-window");if(!(0,V.hl)())throw di.create("indexed-db-unavailable");const{projectId:Me,apiKey:nt,appId:ct}=Q.options;if(!Me)throw di.create("registration-project-id");if(!nt)throw di.create("registration-api-key");if(!ct)throw di.create("registration-app-id");const Wt=new Ld(ct,Q.name,B=B||"firebase"),Gt=new xa(Wt),cn=new W.Yd(Vs);cn.logLevel=W.in.ERROR;const Vt=new Ai(ye,F.SDK_VERSION,B,Me,nt,ct),qi=new Us(Vt,Wt),li=new Rd(qi,Wt,Gt,cn),La=new Am(Q,li,Gt,Wt,cn);return function jn(A){const k=(0,V.m9)(A);k._initializePromise||(k._initializePromise=k._storageCache.loadFromStorage().then(()=>{k._isInitializationComplete=!0}))}(La),La},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Vs,"0.3.8"),(0,F.registerVersion)(Vs,"0.3.8","esm2017")}();const po="/firebase-messaging-sw.js",Yr="/firebase-cloud-messaging-push-scope",Ea="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dl="google.c.a.c_id",zf="google.c.a.c_l",Nm="google.c.a.ts",Hs="google.c.a.e";var zs=(()=>{return(A=zs||(zs={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",zs;var A})();function us(A){const k=new Uint8Array(A);return btoa(String.fromCharCode(...k)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vd(A){const B=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Q=atob(B),ye=new Uint8Array(Q.length);for(let Me=0;Me<Q.length;++Me)ye[Me]=Q.charCodeAt(Me);return ye}const cr="fcm_token_details_db",Bd="fcm_token_object_Store";function Ud(A){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,T.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Me=>Me.name).includes(cr))return null;let k=null;return(yield(0,K.X3)(cr,5,{upgrade:(Q=(0,T.Z)(function*(ye,Me,nt,ct){var Wt;if(Me<2||!ye.objectStoreNames.contains(Bd))return;const Gt=ct.objectStore(Bd),cn=yield Gt.index("fcmSenderId").get(A);if(yield Gt.clear(),cn)if(2===Me){const Vt=cn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;k={token:Vt.fcmToken,createTime:null!==(Wt=Vt.createTime)&&void 0!==Wt?Wt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:us(Vt.vapidKey)}}}else if(3===Me){const Vt=cn;k={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:us(Vt.auth),p256dh:us(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:us(Vt.vapidKey)}}}else if(4===Me){const Vt=cn;k={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:us(Vt.auth),p256dh:us(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:us(Vt.vapidKey)}}}}),function(Me,nt,ct,Wt){return Q.apply(this,arguments)})})).close(),yield(0,K.Lj)(cr),yield(0,K.Lj)("fcm_vapid_details_db"),yield(0,K.Lj)("undefined"),ec(k)?k:null;var Q}),Xl.apply(this,arguments)}function ec(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:k}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof k.auth&&k.auth.length>0&&"string"==typeof k.p256dh&&k.p256dh.length>0&&"string"==typeof k.endpoint&&k.endpoint.length>0&&"string"==typeof k.swScope&&k.swScope.length>0&&"string"==typeof k.vapidKey&&k.vapidKey.length>0}const Ws="firebase-messaging-store";let ru=null;function Gn(){return ru||(ru=(0,K.X3)("firebase-messaging-database",1,{upgrade:(A,k)=>{0===k&&A.createObjectStore(Ws)}})),ru}function hl(A){return go.apply(this,arguments)}function go(){return(go=(0,T.Z)(function*(A){const k=zi(A),Q=yield(yield Gn()).transaction(Ws).objectStore(Ws).get(k);if(Q)return Q;{const ye=yield Ud(A.appConfig.senderId);if(ye)return yield Hn(A,ye),ye}})).apply(this,arguments)}function Hn(A,k){return nc.apply(this,arguments)}function nc(){return(nc=(0,T.Z)(function*(A,k){const B=zi(A),ye=(yield Gn()).transaction(Ws,"readwrite");return yield ye.objectStore(Ws).put(k,B),yield ye.done,k})).apply(this,arguments)}function fl(A){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,T.Z)(function*(A){const k=zi(A),Q=(yield Gn()).transaction(Ws,"readwrite");yield Q.objectStore(Ws).delete(k),yield Q.done})).apply(this,arguments)}function zi({appConfig:A}){return A.appId}const fi=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $s(A,k){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,T.Z)(function*(A,k){const B=yield yo(A),Q=zo(k),ye={method:"POST",headers:B,body:JSON.stringify(Q)};let Me;try{Me=yield(yield fetch(mo(A.appConfig),ye)).json()}catch(nt){throw fi.create("token-subscribe-failed",{errorInfo:nt})}if(Me.error)throw fi.create("token-subscribe-failed",{errorInfo:Me.error.message});if(!Me.token)throw fi.create("token-subscribe-no-token");return Me.token})).apply(this,arguments)}function Ia(A,k){return ws.apply(this,arguments)}function ws(){return(ws=(0,T.Z)(function*(A,k){const B=yield yo(A),Q=zo(k.subscriptionOptions),ye={method:"PATCH",headers:B,body:JSON.stringify(Q)};let Me;try{Me=yield(yield fetch(`${mo(A.appConfig)}/${k.token}`,ye)).json()}catch(nt){throw fi.create("token-update-failed",{errorInfo:nt})}if(Me.error)throw fi.create("token-update-failed",{errorInfo:Me.error.message});if(!Me.token)throw fi.create("token-update-no-token");return Me.token})).apply(this,arguments)}function su(A,k){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,T.Z)(function*(A,k){const Q={method:"DELETE",headers:yield yo(A)};try{const Me=yield(yield fetch(`${mo(A.appConfig)}/${k}`,Q)).json();if(Me.error)throw fi.create("token-unsubscribe-failed",{errorInfo:Me.error.message})}catch(ye){throw fi.create("token-unsubscribe-failed",{errorInfo:ye})}})).apply(this,arguments)}function mo({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function yo(A){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.Z)(function*({appConfig:A,installations:k}){const B=yield k.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function zo({p256dh:A,auth:k,endpoint:B,vapidKey:Q}){const ye={web:{endpoint:B,auth:k,p256dh:A}};return Q!==Ea&&(ye.web.applicationPubKey=Q),ye}const rc=6048e5;function jd(A){return pl.apply(this,arguments)}function pl(){return(pl=(0,T.Z)(function*(A){const k=yield sc(A.swRegistration,A.vapidKey),B={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:k.endpoint,auth:us(k.getKey("auth")),p256dh:us(k.getKey("p256dh"))},Q=yield hl(A.firebaseDependencies);if(Q){if(zd(Q.subscriptionOptions,B))return Date.now()>=Q.createTime+rc?Wf(A,{token:Q.token,createTime:Date.now(),subscriptionOptions:B}):Q.token;try{yield su(A.firebaseDependencies,Q.token)}catch(ye){console.warn(ye)}return Ye(A.firebaseDependencies,B)}return Ye(A.firebaseDependencies,B)})).apply(this,arguments)}function Hd(A){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,T.Z)(function*(A){const k=yield hl(A.firebaseDependencies);k&&(yield su(A.firebaseDependencies,k.token),yield fl(A.firebaseDependencies));const B=yield A.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()})).apply(this,arguments)}function Wf(A,k){return _o.apply(this,arguments)}function _o(){return(_o=(0,T.Z)(function*(A,k){try{const B=yield Ia(A.firebaseDependencies,k),Q=Object.assign(Object.assign({},k),{token:B,createTime:Date.now()});return yield Hn(A.firebaseDependencies,Q),B}catch(B){throw yield Hd(A),B}})).apply(this,arguments)}function Ye(A,k){return gn.apply(this,arguments)}function gn(){return(gn=(0,T.Z)(function*(A,k){const Q={token:yield $s(A,k),createTime:Date.now(),subscriptionOptions:k};return yield Hn(A,Q),Q.token})).apply(this,arguments)}function sc(A,k){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,T.Z)(function*(A,k){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vd(k)})})).apply(this,arguments)}function zd(A,k){return k.vapidKey===A.vapidKey&&k.endpoint===A.endpoint&&k.auth===A.auth&&k.p256dh===A.p256dh}function Gs(A){const k={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Cs(A,k){if(!k.notification)return;A.notification={};const B=k.notification.title;B&&(A.notification.title=B);const Q=k.notification.body;Q&&(A.notification.body=Q);const ye=k.notification.image;ye&&(A.notification.image=ye)}(k,A),function ou(A,k){!k.data||(A.data=k.data)}(k,A),function gl(A,k){if(!k.fcmOptions)return;A.fcmOptions={};const B=k.fcmOptions.link;B&&(A.fcmOptions.link=B);const Q=k.fcmOptions.analytics_label;Q&&(A.fcmOptions.analyticsLabel=Q)}(k,A),k}function $f(A){return"object"==typeof A&&!!A&&dl in A}function Wd(A,k){const B=[];for(let Q=0;Q<A.length;Q++)B.push(A.charAt(Q)),Q<k.length&&B.push(k.charAt(Q));return B.join("")}function Wo(A){return fi.create("missing-app-config-values",{valueName:A})}Wd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $i{constructor(k,B,Q){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function $d(A){if(!A||!A.options)throw Wo("App Configuration Object");if(!A.name)throw Wo("App Name");const k=["projectId","apiKey","appId","messagingSenderId"],{options:B}=A;for(const Q of k)if(!B[Q])throw Wo(Q);return{appName:A.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(k);this.firebaseDependencies={app:k,appConfig:ye,installations:B,analyticsProvider:Q}}_delete(){return Promise.resolve()}}function xs(A){return Da.apply(this,arguments)}function Da(){return(Da=(0,T.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(po,{scope:Yr}),A.swRegistration.update().catch(()=>{})}catch(k){throw fi.create("failed-service-worker-registration",{browserErrorMessage:k.message})}})).apply(this,arguments)}function Aa(A,k){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,T.Z)(function*(A,k){if(!k&&!A.swRegistration&&(yield xs(A)),k||!A.swRegistration){if(!(k instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");A.swRegistration=k}})).apply(this,arguments)}function Gf(A,k){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,T.Z)(function*(A,k){k?A.vapidKey=k:A.vapidKey||(A.vapidKey=Ea)})).apply(this,arguments)}function ml(){return(ml=(0,T.Z)(function*(A,k){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield Gf(A,null==k?void 0:k.vapidKey),yield Aa(A,null==k?void 0:k.serviceWorkerRegistration),jd(A)})).apply(this,arguments)}function au(A,k,B){return ka.apply(this,arguments)}function ka(){return(ka=(0,T.Z)(function*(A,k,B){const Q=qd(k);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(Q,{message_id:B[dl],message_name:B[zf],message_time:B[Nm],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qd(A){switch(A){case zs.NOTIFICATION_CLICKED:return"notification_open";case zs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lu(){return(lu=(0,T.Z)(function*(A,k){const B=k.data;if(!B.isFirebaseMessaging)return;A.onMessageHandler&&B.messageType===zs.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Gs(B)):A.onMessageHandler.next(Gs(B)));const Q=B.data;$f(Q)&&"1"===Q[Hs]&&(yield au(A,B.messageType,Q))})).apply(this,arguments)}const yl="@firebase/messaging",$o=A=>{const k=new $i(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function Zd(A,k){return lu.apply(this,arguments)}(k,B)),k},Kd=A=>{const k=A.getProvider("messaging").getImmediate();return{getToken:Q=>function Gd(A,k){return ml.apply(this,arguments)}(k,Q)}};function oc(){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,T.Z)(function*(){try{yield(0,V.eu)()}catch(A){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qf(){(0,F._registerComponent)(new j.wA("messaging",$o,"PUBLIC")),(0,F._registerComponent)(new j.wA("messaging-internal",Kd,"PRIVATE")),(0,F.registerVersion)(yl,"0.9.13"),(0,F.registerVersion)(yl,"0.9.13","esm2017")}();const Qd="analytics",Rm="firebase_id",vl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bl="https://www.googletagmanager.com/gtag/js",Ri=new W.Yd("@firebase/analytics");function Xd(A){return Promise.all(A.map(k=>k.catch(B=>B)))}function Pm(A,k){const B=document.createElement("script");B.src=`${bl}?l=${A}&id=${k}`,B.async=!0,document.head.appendChild(B)}function Ma(A,k,B,Q,ye,Me){return eh.apply(this,arguments)}function eh(){return(eh=(0,T.Z)(function*(A,k,B,Q,ye,Me){const nt=Q[ye];try{if(nt)yield k[nt];else{const Wt=(yield Xd(B)).find(Gt=>Gt.measurementId===ye);Wt&&(yield k[Wt.appId])}}catch(ct){Ri.error(ct)}A("config",ye,Me)})).apply(this,arguments)}function wl(A,k,B,Q,ye){return vo.apply(this,arguments)}function vo(){return(vo=(0,T.Z)(function*(A,k,B,Q,ye){try{let Me=[];if(ye&&ye.send_to){let nt=ye.send_to;Array.isArray(nt)||(nt=[nt]);const ct=yield Xd(B);for(const Wt of nt){const Gt=ct.find(Vt=>Vt.measurementId===Wt),cn=Gt&&k[Gt.appId];if(!cn){Me=[];break}Me.push(cn)}}0===Me.length&&(Me=Object.values(k)),yield Promise.all(Me),A("event",Q,ye||{})}catch(Me){Ri.error(Me)}})).apply(this,arguments)}function qo(){const A=window.document.getElementsByTagName("script");for(const k of Object.values(A))if(k.src&&k.src.includes(bl))return k;return null}const zt=new V.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xl=new class th{constructor(k={},B=1e3){this.throttleMetadata=k,this.intervalMillis=B}getThrottleMetadata(k){return this.throttleMetadata[k]}setThrottleMetadata(k,B){this.throttleMetadata[k]=B}deleteThrottleMetadata(k){delete this.throttleMetadata[k]}};function bo(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function nh(A){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,T.Z)(function*(A){var k;const{appId:B,apiKey:Q}=A,ye={method:"GET",headers:bo(Q)},Me=vl.replace("{app-id}",B),nt=yield fetch(Me,ye);if(200!==nt.status&&304!==nt.status){let ct="";try{const Wt=yield nt.json();(null===(k=Wt.error)||void 0===k?void 0:k.message)&&(ct=Wt.error.message)}catch(Wt){}throw zt.create("config-fetch-failed",{httpStatus:nt.status,responseMessage:ct})}return nt.json()})).apply(this,arguments)}function Yf(A){return Es.apply(this,arguments)}function Es(){return(Es=(0,T.Z)(function*(A,k=xl,B){const{appId:Q,apiKey:ye,measurementId:Me}=A.options;if(!Q)throw zt.create("no-app-id");if(!ye){if(Me)return{measurementId:Me,appId:Q};throw zt.create("no-api-key")}const nt=k.getThrottleMetadata(Q)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new ih;return setTimeout((0,T.Z)(function*(){ct.abort()}),void 0!==B?B:6e4),lc({appId:Q,apiKey:ye,measurementId:Me},nt,ct,k)})).apply(this,arguments)}function lc(A,k,B){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,T.Z)(function*(A,{throttleEndTimeMillis:k,backoffCount:B},Q,ye=xl){const{appId:Me,measurementId:nt}=A;try{yield C0(Q,k)}catch(ct){if(nt)return Ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Me,measurementId:nt};throw ct}try{const ct=yield nh(A);return ye.deleteThrottleMetadata(Me),ct}catch(ct){if(!Qf(ct)){if(ye.deleteThrottleMetadata(Me),nt)return Ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ct.message}]`),{appId:Me,measurementId:nt};throw ct}const Wt=503===Number(ct.customData.httpStatus)?(0,V.$s)(B,ye.intervalMillis,30):(0,V.$s)(B,ye.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+Wt,backoffCount:B+1};return ye.setThrottleMetadata(Me,Gt),Ri.debug(`Calling attemptFetch again in ${Wt} millis`),lc(A,Gt,Q,ye)}})).apply(this,arguments)}function C0(A,k){return new Promise((B,Q)=>{const ye=Math.max(k-Date.now(),0),Me=setTimeout(B,ye);A.addEventListener(()=>{clearTimeout(Me),Q(zt.create("fetch-throttle",{throttleEndTimeMillis:k}))})})}function Qf(A){if(!(A instanceof V.ZR&&A.customData))return!1;const k=Number(A.customData.httpStatus);return 429===k||500===k||503===k||504===k}class ih{constructor(){this.listeners=[]}addEventListener(k){this.listeners.push(k)}abort(){this.listeners.forEach(k=>k())}}function Lm(){return El.apply(this,arguments)}function El(){return(El=(0,T.Z)(function*(){if(!(0,V.hl)())return Ri.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,V.eu)()}catch(A){return Ri.warn(zt.create("indexeddb-unavailable",{errorInfo:A}).message),!1}return!0})).apply(this,arguments)}function Cn(){return(Cn=(0,T.Z)(function*(A,k,B,Q,ye,Me,nt){var ct;const Wt=Yf(A);Wt.then(li=>{B[li.measurementId]=li.appId,A.options.measurementId&&li.measurementId!==A.options.measurementId&&Ri.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${li.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(li=>Ri.error(li)),k.push(Wt);const Gt=Lm().then(li=>{if(li)return Q.getId()}),[cn,Vt]=yield Promise.all([Wt,Gt]);qo()||Pm(Me,cn.measurementId),ye("js",new Date);const qi=null!==(ct=null==nt?void 0:nt.config)&&void 0!==ct?ct:{};return qi.origin="firebase",qi.update=!0,null!=Vt&&(qi[Rm]=Vt),ye("config",cn.measurementId,qi),cn.measurementId})).apply(this,arguments)}class Pi{constructor(k){this.app=k}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},Yo=[];const uu={};let Tl,Br,Qo="dataLayer",Ks=!1;function Na(A,k,B){!function Pt(){const A=[];if((0,V.ru)()&&A.push("This is a browser extension environment."),(0,V.zI)()||A.push("Cookies are not available."),A.length>0){const k=A.map((Q,ye)=>`(${ye+1}) ${Q}`).join(" "),B=zt.create("invalid-analytics-context",{errorInfo:k});Ri.warn(B.message)}}();const Q=A.options.appId;if(!Q)throw zt.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw zt.create("no-api-key");Ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[Q])throw zt.create("already-exists",{id:Q});if(!Ks){!function Zs(A){let k=[];Array.isArray(window[A])?k=window[A]:window[A]=k}(Qo);const{wrappedGtag:Me,gtagCore:nt}=function Om(A,k,B,Q,ye){let Me=function(...nt){window[Q].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(Me=window[ye]),window[ye]=function ac(A,k,B,Q){function Me(){return(Me=(0,T.Z)(function*(nt,ct,Wt){try{"event"===nt?yield wl(A,k,B,ct,Wt):"config"===nt?yield Ma(A,k,B,Q,ct,Wt):A("set",ct)}catch(Gt){Ri.error(Gt)}})).apply(this,arguments)}return function ye(nt,ct,Wt){return Me.apply(this,arguments)}}(Me,A,k,B),{gtagCore:Me,wrappedGtag:window[ye]}}(Qr,Yo,uu,Qo,"gtag");Br=Me,Tl=nt,Ks=!0}return Qr[Q]=function Il(A,k,B,Q,ye,Me,nt){return Cn.apply(this,arguments)}(A,Yo,uu,k,Tl,Qo,B),new Pi(A)}function Dl(){return(Dl=(0,T.Z)(function*(A,k,B,Q,ye){if(ye&&ye.global)A("event",B,Q);else{const Me=yield k;A("event",B,Object.assign(Object.assign({},Q),{send_to:Me}))}})).apply(this,arguments)}function _r(){return hs.apply(this,arguments)}function hs(){return(hs=(0,T.Z)(function*(){if((0,V.ru)()||!(0,V.zI)()||!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(A){return!1}})).apply(this,arguments)}const pu="@firebase/analytics";!function tp(){(0,F._registerComponent)(new j.wA(Qd,(k,{options:B})=>Na(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,F._registerComponent)(new j.wA("analytics-internal",function A(k){try{const B=k.getProvider(Qd).getImmediate();return{logEvent:(Q,ye,Me)=>function Ys(A,k,B,Q){A=(0,V.m9)(A),function Jf(A,k,B,Q,ye){return Dl.apply(this,arguments)}(Br,Qr[A.app.options.appId],k,B,Q).catch(ye=>Ri.error(ye))}(B,Q,ye,Me)}}catch(B){throw zt.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,F.registerVersion)(pu,"0.7.9"),(0,F.registerVersion)(pu,"0.7.9","esm2017")}();var np=R(4408),ip=R(7565);const uc=new class ai extends ip.v{}(class Co extends np.o{constructor(k,B){super(k,B),this.scheduler=k,this.work=B}schedule(k,B=0){return B>0?super.schedule(k,B):(this.delay=B,this.state=k,this.scheduler.flush(this),this)}execute(k,B){return B>0||this.closed?super.execute(k,B):this._execute(k,B)}requestAsyncId(k,B,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(k,B,Q):k.flush(this)}});var rp=R(4986),Al=R(8306),tr=R(8505),vr=R(9468),gu=R(5363);const ea=new d.GfV("7.3.0"),xo="__angularfire_symbol__analyticsIsSupportedValue",Xr="__angularfire_symbol__analyticsIsSupported",Ra="__angularfire_symbol__remoteConfigIsSupportedValue",Sl="__angularfire_symbol__remoteConfigIsSupported",mu="__angularfire_symbol__messagingIsSupportedValue",yu="__angularfire_symbol__messagingIsSupported";function _u(A,k,B){if(k){if(1===k.length)return k[0];const Me=k.filter(nt=>nt.app===B);if(1===Me.length)return Me[0]}return B.container.getProvider(A).getImmediate({optional:!0})}globalThis[Xr]||(globalThis[Xr]=_r().then(A=>globalThis[xo]=A).catch(()=>globalThis[xo]=!1)),globalThis[yu]||(globalThis[yu]=oc().then(A=>globalThis[mu]=A).catch(()=>globalThis[mu]=!1)),globalThis[Sl]||(globalThis[Sl]=b0().then(A=>globalThis[Ra]=A).catch(()=>globalThis[Ra]=!1));const vu=(A,k)=>{const B=k?[k]:(0,M.C6)(),Q=[];return B.forEach(ye=>{ye.container.getProvider(A).instances.forEach(nt=>{Q.includes(nt)||Q.push(nt)})}),Q};function dr(){}class nr{constructor(k,B=uc){this.zone=k,this.delegate=B}now(){return this.delegate.now()}schedule(k,B,Q){const ye=this.zone;return this.delegate.schedule(function(nt){ye.runGuarded(()=>{k.apply(this,[nt])})},B,Q)}}class dc{constructor(k){this.zone=k,this.task=null}call(k,B){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)),B.pipe((0,tr.b)({next:Q,complete:Q,error:Q})).subscribe(k).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sh=(()=>{class A{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new nr(Zone.current)),this.insideAngular=B.run(()=>new nr(Zone.current,rp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(B){return new(B||A)(d.LFG(d.R0b))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Oa(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function es(A){return Oa().ngZone.runOutsideAngular(()=>A())}function jr(A){return Oa().ngZone.run(()=>A())}function Eo(A){return Oa(),function na(A){return function(B){return(B=B.lift(new dc(A.ngZone))).pipe((0,vr.R)(A.outsideAngular),(0,gu.Q)(A.insideAngular))}}(Oa())(A)}const fc=(A,k)=>function(){const Q=arguments;return k&&setTimeout(()=>{"scheduled"===k.state&&k.invoke()},10),jr(()=>A.apply(void 0,Q))},sp=(A,k)=>function(){let B;const Q=arguments;for(let Me=0;Me<arguments.length;Me++)"function"==typeof Q[Me]&&(k&&(B||(B=jr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dr,{},dr,dr)))),Q[Me]=fc(Q[Me],B));const ye=es(()=>A.apply(this,Q));if(!k){if(ye instanceof Al.y){const Me=Oa();return ye.pipe((0,vr.R)(Me.outsideAngular),(0,gu.Q)(Me.insideAngular))}return jr(()=>ye)}return ye instanceof Al.y?ye.pipe(Eo):ye instanceof Promise?jr(()=>new Promise((Me,nt)=>ye.then(ct=>jr(()=>Me(ct)),ct=>jr(()=>nt(ct))))):"function"==typeof ye&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),ye.apply(this,arguments)}:jr(()=>ye)}},5876:(qe,q,R)=>{const M=R(532),T=R(7554),F=R(179),V=R(1036);function j(W,K,ue,G,Z){const te=[].slice.call(arguments,1),Pe=te.length,Ie="function"==typeof te[Pe-1];if(!Ie&&!M())throw new Error("Callback required as last argument");if(!Ie){if(Pe<1)throw new Error("Too few arguments provided");return 1===Pe?(ue=K,K=G=void 0):2===Pe&&!K.getContext&&(G=ue,ue=K,K=void 0),new Promise(function(Oe,We){try{const me=T.create(ue,G);Oe(W(me,K,G))}catch(me){We(me)}})}if(Pe<2)throw new Error("Too few arguments provided");2===Pe?(Z=ue,ue=K,K=G=void 0):3===Pe&&(K.getContext&&void 0===Z?(Z=G,G=void 0):(Z=G,G=ue,ue=K,K=void 0));try{const Oe=T.create(ue,G);Z(null,W(Oe,K,G))}catch(Oe){Z(Oe)}}q.rT=j.bind(null,F.render),q.hz=j.bind(null,F.renderToDataURL),q.toString=j.bind(null,function(W,K,ue){return V.render(W,ue)})},532:qe=>{qe.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(qe,q,R)=>{const d=R(4860).getSymbolSize;q.getRowColCoords=function(T){if(1===T)return[];const F=Math.floor(T/7)+2,V=d(T),j=145===V?26:2*Math.ceil((V-13)/(2*F-2)),W=[V-7];for(let K=1;K<F-1;K++)W[K]=W[K-1]-j;return W.push(6),W.reverse()},q.getPositions=function(T){const F=[],V=q.getRowColCoords(T),j=V.length;for(let W=0;W<j;W++)for(let K=0;K<j;K++)0===W&&0===K||0===W&&K===j-1||W===j-1&&0===K||F.push([V[W],V[K]]);return F}},812:(qe,q,R)=>{const d=R(6906),M=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function T(F){this.mode=d.ALPHANUMERIC,this.data=F}T.getBitsLength=function(V){return 11*Math.floor(V/2)+V%2*6},T.prototype.getLength=function(){return this.data.length},T.prototype.getBitsLength=function(){return T.getBitsLength(this.data.length)},T.prototype.write=function(V){let j;for(j=0;j+2<=this.data.length;j+=2){let W=45*M.indexOf(this.data[j]);W+=M.indexOf(this.data[j+1]),V.put(W,11)}this.data.length%2&&V.put(M.indexOf(this.data[j]),6)},qe.exports=T},3044:qe=>{function q(){this.buffer=[],this.length=0}q.prototype={get:function(R){const d=Math.floor(R/8);return 1==(this.buffer[d]>>>7-R%8&1)},put:function(R,d){for(let M=0;M<d;M++)this.putBit(1==(R>>>d-M-1&1))},getLengthInBits:function(){return this.length},putBit:function(R){const d=Math.floor(this.length/8);this.buffer.length<=d&&this.buffer.push(0),R&&(this.buffer[d]|=128>>>this.length%8),this.length++}},qe.exports=q},1973:qe=>{function q(R){if(!R||R<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=R,this.data=new Uint8Array(R*R),this.reservedBit=new Uint8Array(R*R)}q.prototype.set=function(R,d,M,T){const F=R*this.size+d;this.data[F]=M,T&&(this.reservedBit[F]=!0)},q.prototype.get=function(R,d){return this.data[R*this.size+d]},q.prototype.xor=function(R,d,M){this.data[R*this.size+d]^=M},q.prototype.isReserved=function(R,d){return this.reservedBit[R*this.size+d]},qe.exports=q},1824:(qe,q,R)=>{const d=R(8419),M=R(6906);function T(F){this.mode=M.BYTE,this.data=new Uint8Array(d(F))}T.getBitsLength=function(V){return 8*V},T.prototype.getLength=function(){return this.data.length},T.prototype.getBitsLength=function(){return T.getBitsLength(this.data.length)},T.prototype.write=function(F){for(let V=0,j=this.data.length;V<j;V++)F.put(this.data[V],8)},qe.exports=T},6194:(qe,q,R)=>{const d=R(9020),M=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],T=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];q.getBlocksCount=function(V,j){switch(j){case d.L:return M[4*(V-1)+0];case d.M:return M[4*(V-1)+1];case d.Q:return M[4*(V-1)+2];case d.H:return M[4*(V-1)+3];default:return}},q.getTotalCodewordsCount=function(V,j){switch(j){case d.L:return T[4*(V-1)+0];case d.M:return T[4*(V-1)+1];case d.Q:return T[4*(V-1)+2];case d.H:return T[4*(V-1)+3];default:return}}},9020:(qe,q)=>{q.L={bit:1},q.M={bit:0},q.Q={bit:3},q.H={bit:2},q.isValid=function(M){return M&&void 0!==M.bit&&M.bit>=0&&M.bit<4},q.from=function(M,T){if(q.isValid(M))return M;try{return function R(d){if("string"!=typeof d)throw new Error("Param is not a string");switch(d.toLowerCase()){case"l":case"low":return q.L;case"m":case"medium":return q.M;case"q":case"quartile":return q.Q;case"h":case"high":return q.H;default:throw new Error("Unknown EC Level: "+d)}}(M)}catch(F){return T}}},9172:(qe,q,R)=>{const d=R(4860).getSymbolSize;q.getPositions=function(F){const V=d(F);return[[0,0],[V-7,0],[0,V-7]]}},611:(qe,q,R)=>{const d=R(4860),F=d.getBCHDigit(1335);q.getEncodedBits=function(j,W){const K=j.bit<<3|W;let ue=K<<10;for(;d.getBCHDigit(ue)-F>=0;)ue^=1335<<d.getBCHDigit(ue)-F;return 21522^(K<<10|ue)}},7794:(qe,q)=>{const R=new Uint8Array(512),d=new Uint8Array(256);(function(){let T=1;for(let F=0;F<255;F++)R[F]=T,d[T]=F,T<<=1,256&T&&(T^=285);for(let F=255;F<512;F++)R[F]=R[F-255]})(),q.log=function(T){if(T<1)throw new Error("log("+T+")");return d[T]},q.exp=function(T){return R[T]},q.mul=function(T,F){return 0===T||0===F?0:R[d[T]+d[F]]}},8043:(qe,q,R)=>{const d=R(6906),M=R(4860);function T(F){this.mode=d.KANJI,this.data=F}T.getBitsLength=function(V){return 13*V},T.prototype.getLength=function(){return this.data.length},T.prototype.getBitsLength=function(){return T.getBitsLength(this.data.length)},T.prototype.write=function(F){let V;for(V=0;V<this.data.length;V++){let j=M.toSJIS(this.data[V]);if(j>=33088&&j<=40956)j-=33088;else{if(!(j>=57408&&j<=60351))throw new Error("Invalid SJIS character: "+this.data[V]+"\nMake sure your charset is UTF-8");j-=49472}j=192*(j>>>8&255)+(255&j),F.put(j,13)}},qe.exports=T},7135:(qe,q)=>{q.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function d(M,T,F){switch(M){case q.Patterns.PATTERN000:return(T+F)%2==0;case q.Patterns.PATTERN001:return T%2==0;case q.Patterns.PATTERN010:return F%3==0;case q.Patterns.PATTERN011:return(T+F)%3==0;case q.Patterns.PATTERN100:return(Math.floor(T/2)+Math.floor(F/3))%2==0;case q.Patterns.PATTERN101:return T*F%2+T*F%3==0;case q.Patterns.PATTERN110:return(T*F%2+T*F%3)%2==0;case q.Patterns.PATTERN111:return(T*F%3+(T+F)%2)%2==0;default:throw new Error("bad maskPattern:"+M)}}q.isValid=function(T){return null!=T&&""!==T&&!isNaN(T)&&T>=0&&T<=7},q.from=function(T){return q.isValid(T)?parseInt(T,10):void 0},q.getPenaltyN1=function(T){const F=T.size;let V=0,j=0,W=0,K=null,ue=null;for(let G=0;G<F;G++){j=W=0,K=ue=null;for(let Z=0;Z<F;Z++){let te=T.get(G,Z);te===K?j++:(j>=5&&(V+=j-5+3),K=te,j=1),te=T.get(Z,G),te===ue?W++:(W>=5&&(V+=W-5+3),ue=te,W=1)}j>=5&&(V+=j-5+3),W>=5&&(V+=W-5+3)}return V},q.getPenaltyN2=function(T){const F=T.size;let V=0;for(let j=0;j<F-1;j++)for(let W=0;W<F-1;W++){const K=T.get(j,W)+T.get(j,W+1)+T.get(j+1,W)+T.get(j+1,W+1);(4===K||0===K)&&V++}return 3*V},q.getPenaltyN3=function(T){const F=T.size;let V=0,j=0,W=0;for(let K=0;K<F;K++){j=W=0;for(let ue=0;ue<F;ue++)j=j<<1&2047|T.get(K,ue),ue>=10&&(1488===j||93===j)&&V++,W=W<<1&2047|T.get(ue,K),ue>=10&&(1488===W||93===W)&&V++}return 40*V},q.getPenaltyN4=function(T){let F=0;const V=T.data.length;for(let W=0;W<V;W++)F+=T.data[W];return 10*Math.abs(Math.ceil(100*F/V/5)-10)},q.applyMask=function(T,F){const V=F.size;for(let j=0;j<V;j++)for(let W=0;W<V;W++)F.isReserved(W,j)||F.xor(W,j,d(T,W,j))},q.getBestMask=function(T,F){const V=Object.keys(q.Patterns).length;let j=0,W=1/0;for(let K=0;K<V;K++){F(K),q.applyMask(K,T);const ue=q.getPenaltyN1(T)+q.getPenaltyN2(T)+q.getPenaltyN3(T)+q.getPenaltyN4(T);q.applyMask(K,T),ue<W&&(W=ue,j=K)}return j}},6906:(qe,q,R)=>{const d=R(2316),M=R(4677);q.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},q.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},q.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},q.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},q.MIXED={bit:-1},q.getCharCountIndicator=function(V,j){if(!V.ccBits)throw new Error("Invalid mode: "+V);if(!d.isValid(j))throw new Error("Invalid version: "+j);return j>=1&&j<10?V.ccBits[0]:j<27?V.ccBits[1]:V.ccBits[2]},q.getBestModeForData=function(V){return M.testNumeric(V)?q.NUMERIC:M.testAlphanumeric(V)?q.ALPHANUMERIC:M.testKanji(V)?q.KANJI:q.BYTE},q.toString=function(V){if(V&&V.id)return V.id;throw new Error("Invalid mode")},q.isValid=function(V){return V&&V.bit&&V.ccBits},q.from=function(V,j){if(q.isValid(V))return V;try{return function T(F){if("string"!=typeof F)throw new Error("Param is not a string");switch(F.toLowerCase()){case"numeric":return q.NUMERIC;case"alphanumeric":return q.ALPHANUMERIC;case"kanji":return q.KANJI;case"byte":return q.BYTE;default:throw new Error("Unknown mode: "+F)}}(V)}catch(W){return j}}},6002:(qe,q,R)=>{const d=R(6906);function M(T){this.mode=d.NUMERIC,this.data=T.toString()}M.getBitsLength=function(F){return 10*Math.floor(F/3)+(F%3?F%3*3+1:0)},M.prototype.getLength=function(){return this.data.length},M.prototype.getBitsLength=function(){return M.getBitsLength(this.data.length)},M.prototype.write=function(F){let V,j,W;for(V=0;V+3<=this.data.length;V+=3)j=this.data.substr(V,3),W=parseInt(j,10),F.put(W,10);const K=this.data.length-V;K>0&&(j=this.data.substr(V),W=parseInt(j,10),F.put(W,3*K+1))},qe.exports=M},7793:(qe,q,R)=>{const d=R(7794);q.mul=function(T,F){const V=new Uint8Array(T.length+F.length-1);for(let j=0;j<T.length;j++)for(let W=0;W<F.length;W++)V[j+W]^=d.mul(T[j],F[W]);return V},q.mod=function(T,F){let V=new Uint8Array(T);for(;V.length-F.length>=0;){const j=V[0];for(let K=0;K<F.length;K++)V[K]^=d.mul(F[K],j);let W=0;for(;W<V.length&&0===V[W];)W++;V=V.slice(W)}return V},q.generateECPolynomial=function(T){let F=new Uint8Array([1]);for(let V=0;V<T;V++)F=q.mul(F,new Uint8Array([1,d.exp(V)]));return F}},7554:(qe,q,R)=>{const d=R(4860),M=R(9020),T=R(3044),F=R(1973),V=R(3012),j=R(9172),W=R(7135),K=R(6194),ue=R(8098),G=R(6602),Z=R(611),te=R(6906),Pe=R(9465);function Ce(ge,Se,ne){const de=ge.size,xe=Z.getEncodedBits(Se,ne);let ee,oe;for(ee=0;ee<15;ee++)oe=1==(xe>>ee&1),ge.set(ee<6?ee:ee<8?ee+1:de-15+ee,8,oe,!0),ge.set(8,ee<8?de-ee-1:ee<9?15-ee-1+1:15-ee-1,oe,!0);ge.set(de-8,8,1,!0)}function je(ge,Se,ne,de){let xe;if(Array.isArray(ge))xe=Pe.fromArray(ge);else{if("string"!=typeof ge)throw new Error("Invalid data");{let De=Se;if(!De){const Xe=Pe.rawSplit(ge);De=G.getBestVersionForData(Xe,ne)}xe=Pe.fromString(ge,De||40)}}const ee=G.getBestVersionForData(xe,ne);if(!ee)throw new Error("The amount of data is too big to be stored in a QR Code");if(Se){if(Se<ee)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ee+".\n")}else Se=ee;const oe=function Re(ge,Se,ne){const de=new T;ne.forEach(function(we){de.put(we.mode.bit,4),de.put(we.getLength(),te.getCharCountIndicator(we.mode,ge)),we.write(de)});const oe=8*(d.getSymbolTotalCodewords(ge)-K.getTotalCodewordsCount(ge,Se));for(de.getLengthInBits()+4<=oe&&de.put(0,4);de.getLengthInBits()%8!=0;)de.putBit(0);const fe=(oe-de.getLengthInBits())/8;for(let we=0;we<fe;we++)de.put(we%2?17:236,8);return function Ue(ge,Se,ne){const de=d.getSymbolTotalCodewords(Se),ee=de-K.getTotalCodewordsCount(Se,ne),oe=K.getBlocksCount(Se,ne),we=oe-de%oe,De=Math.floor(de/oe),Xe=Math.floor(ee/oe),Tt=Xe+1,sn=De-Xe,Xt=new ue(sn);let at=0;const dn=new Array(oe),Ln=new Array(oe);let wn=0;const an=new Uint8Array(ge.buffer);for(let ei=0;ei<oe;ei++){const Fn=ei<we?Xe:Tt;dn[ei]=an.slice(at,at+Fn),Ln[ei]=Xt.encode(dn[ei]),at+=Fn,wn=Math.max(wn,Fn)}const Qt=new Uint8Array(de);let yn,Sn,on=0;for(yn=0;yn<wn;yn++)for(Sn=0;Sn<oe;Sn++)yn<dn[Sn].length&&(Qt[on++]=dn[Sn][yn]);for(yn=0;yn<sn;yn++)for(Sn=0;Sn<oe;Sn++)Qt[on++]=Ln[Sn][yn];return Qt}(de,ge,Se)}(Se,ne,xe),fe=d.getSymbolSize(Se),we=new F(fe);return function Ie(ge,Se){const ne=ge.size,de=j.getPositions(Se);for(let xe=0;xe<de.length;xe++){const ee=de[xe][0],oe=de[xe][1];for(let fe=-1;fe<=7;fe++)if(!(ee+fe<=-1||ne<=ee+fe))for(let we=-1;we<=7;we++)oe+we<=-1||ne<=oe+we||ge.set(ee+fe,oe+we,fe>=0&&fe<=6&&(0===we||6===we)||we>=0&&we<=6&&(0===fe||6===fe)||fe>=2&&fe<=4&&we>=2&&we<=4,!0)}}(we,Se),function Oe(ge){const Se=ge.size;for(let ne=8;ne<Se-8;ne++){const de=ne%2==0;ge.set(ne,6,de,!0),ge.set(6,ne,de,!0)}}(we),function We(ge,Se){const ne=V.getPositions(Se);for(let de=0;de<ne.length;de++){const xe=ne[de][0],ee=ne[de][1];for(let oe=-2;oe<=2;oe++)for(let fe=-2;fe<=2;fe++)ge.set(xe+oe,ee+fe,-2===oe||2===oe||-2===fe||2===fe||0===oe&&0===fe,!0)}}(we,Se),Ce(we,ne,0),Se>=7&&function me(ge,Se){const ne=ge.size,de=G.getEncodedBits(Se);let xe,ee,oe;for(let fe=0;fe<18;fe++)xe=Math.floor(fe/3),ee=fe%3+ne-8-3,oe=1==(de>>fe&1),ge.set(xe,ee,oe,!0),ge.set(ee,xe,oe,!0)}(we,Se),function Be(ge,Se){const ne=ge.size;let de=-1,xe=ne-1,ee=7,oe=0;for(let fe=ne-1;fe>0;fe-=2)for(6===fe&&fe--;;){for(let we=0;we<2;we++)if(!ge.isReserved(xe,fe-we)){let De=!1;oe<Se.length&&(De=1==(Se[oe]>>>ee&1)),ge.set(xe,fe-we,De),ee--,-1===ee&&(oe++,ee=7)}if(xe+=de,xe<0||ne<=xe){xe-=de,de=-de;break}}}(we,oe),isNaN(de)&&(de=W.getBestMask(we,Ce.bind(null,we,ne))),W.applyMask(de,we),Ce(we,ne,de),{modules:we,version:Se,errorCorrectionLevel:ne,maskPattern:de,segments:xe}}q.create=function(Se,ne){if(void 0===Se||""===Se)throw new Error("No input text");let xe,ee,de=M.M;return void 0!==ne&&(de=M.from(ne.errorCorrectionLevel,M.M),xe=G.from(ne.version),ee=W.from(ne.maskPattern),ne.toSJISFunc&&d.setToSJISFunction(ne.toSJISFunc)),je(Se,xe,de,ee)}},8098:(qe,q,R)=>{const d=R(7793);function M(T){this.genPoly=void 0,this.degree=T,this.degree&&this.initialize(this.degree)}M.prototype.initialize=function(F){this.degree=F,this.genPoly=d.generateECPolynomial(this.degree)},M.prototype.encode=function(F){if(!this.genPoly)throw new Error("Encoder not initialized");const V=new Uint8Array(F.length+this.degree);V.set(F);const j=d.mod(V,this.genPoly),W=this.degree-j.length;if(W>0){const K=new Uint8Array(this.degree);return K.set(j,W),K}return j},qe.exports=M},4677:(qe,q)=>{const R="[0-9]+";let M="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";M=M.replace(/u/g,"\\u");const T="(?:(?![A-Z0-9 $%*+\\-./:]|"+M+")(?:.|[\r\n]))+";q.KANJI=new RegExp(M,"g"),q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),q.BYTE=new RegExp(T,"g"),q.NUMERIC=new RegExp(R,"g"),q.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const F=new RegExp("^"+M+"$"),V=new RegExp("^"+R+"$"),j=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");q.testKanji=function(K){return F.test(K)},q.testNumeric=function(K){return V.test(K)},q.testAlphanumeric=function(K){return j.test(K)}},9465:(qe,q,R)=>{const d=R(6906),M=R(6002),T=R(812),F=R(1824),V=R(8043),j=R(4677),W=R(4860),K=R(4901);function ue(me){return unescape(encodeURIComponent(me)).length}function G(me,Ce,Be){const Re=[];let Ue;for(;null!==(Ue=me.exec(Be));)Re.push({data:Ue[0],index:Ue.index,mode:Ce,length:Ue[0].length});return Re}function Z(me){const Ce=G(j.NUMERIC,d.NUMERIC,me),Be=G(j.ALPHANUMERIC,d.ALPHANUMERIC,me);let Re,Ue;return W.isKanjiModeEnabled()?(Re=G(j.BYTE,d.BYTE,me),Ue=G(j.KANJI,d.KANJI,me)):(Re=G(j.BYTE_KANJI,d.BYTE,me),Ue=[]),Ce.concat(Be,Re,Ue).sort(function(ge,Se){return ge.index-Se.index}).map(function(ge){return{data:ge.data,mode:ge.mode,length:ge.length}})}function te(me,Ce){switch(Ce){case d.NUMERIC:return M.getBitsLength(me);case d.ALPHANUMERIC:return T.getBitsLength(me);case d.KANJI:return V.getBitsLength(me);case d.BYTE:return F.getBitsLength(me)}}function We(me,Ce){let Be;const Re=d.getBestModeForData(me);if(Be=d.from(Ce,Re),Be!==d.BYTE&&Be.bit<Re.bit)throw new Error('"'+me+'" cannot be encoded with mode '+d.toString(Be)+".\n Suggested mode is: "+d.toString(Re));switch(Be===d.KANJI&&!W.isKanjiModeEnabled()&&(Be=d.BYTE),Be){case d.NUMERIC:return new M(me);case d.ALPHANUMERIC:return new T(me);case d.KANJI:return new V(me);case d.BYTE:return new F(me)}}q.fromArray=function(Ce){return Ce.reduce(function(Be,Re){return"string"==typeof Re?Be.push(We(Re,null)):Re.data&&Be.push(We(Re.data,Re.mode)),Be},[])},q.fromString=function(Ce,Be){const Ue=function Ie(me){const Ce=[];for(let Be=0;Be<me.length;Be++){const Re=me[Be];switch(Re.mode){case d.NUMERIC:Ce.push([Re,{data:Re.data,mode:d.ALPHANUMERIC,length:Re.length},{data:Re.data,mode:d.BYTE,length:Re.length}]);break;case d.ALPHANUMERIC:Ce.push([Re,{data:Re.data,mode:d.BYTE,length:Re.length}]);break;case d.KANJI:Ce.push([Re,{data:Re.data,mode:d.BYTE,length:ue(Re.data)}]);break;case d.BYTE:Ce.push([{data:Re.data,mode:d.BYTE,length:ue(Re.data)}])}}return Ce}(Z(Ce,W.isKanjiModeEnabled())),je=function Oe(me,Ce){const Be={},Re={start:{}};let Ue=["start"];for(let je=0;je<me.length;je++){const ge=me[je],Se=[];for(let ne=0;ne<ge.length;ne++){const de=ge[ne],xe=""+je+ne;Se.push(xe),Be[xe]={node:de,lastCount:0},Re[xe]={};for(let ee=0;ee<Ue.length;ee++){const oe=Ue[ee];Be[oe]&&Be[oe].node.mode===de.mode?(Re[oe][xe]=te(Be[oe].lastCount+de.length,de.mode)-te(Be[oe].lastCount,de.mode),Be[oe].lastCount+=de.length):(Be[oe]&&(Be[oe].lastCount=de.length),Re[oe][xe]=te(de.length,de.mode)+4+d.getCharCountIndicator(de.mode,Ce))}}Ue=Se}for(let je=0;je<Ue.length;je++)Re[Ue[je]].end=0;return{map:Re,table:Be}}(Ue,Be),ge=K.find_path(je.map,"start","end"),Se=[];for(let ne=1;ne<ge.length-1;ne++)Se.push(je.table[ge[ne]].node);return q.fromArray(function Pe(me){return me.reduce(function(Ce,Be){const Re=Ce.length-1>=0?Ce[Ce.length-1]:null;return Re&&Re.mode===Be.mode?(Ce[Ce.length-1].data+=Be.data,Ce):(Ce.push(Be),Ce)},[])}(Se))},q.rawSplit=function(Ce){return q.fromArray(Z(Ce,W.isKanjiModeEnabled()))}},4860:(qe,q)=>{let R;const d=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];q.getSymbolSize=function(T){if(!T)throw new Error('"version" cannot be null or undefined');if(T<1||T>40)throw new Error('"version" should be in range from 1 to 40');return 4*T+17},q.getSymbolTotalCodewords=function(T){return d[T]},q.getBCHDigit=function(M){let T=0;for(;0!==M;)T++,M>>>=1;return T},q.setToSJISFunction=function(T){if("function"!=typeof T)throw new Error('"toSJISFunc" is not a valid function.');R=T},q.isKanjiModeEnabled=function(){return void 0!==R},q.toSJIS=function(T){return R(T)}},2316:(qe,q)=>{q.isValid=function(d){return!isNaN(d)&&d>=1&&d<=40}},6602:(qe,q,R)=>{const d=R(4860),M=R(6194),T=R(9020),F=R(6906),V=R(2316),W=d.getBCHDigit(7973);function ue(te,Pe){return F.getCharCountIndicator(te,Pe)+4}function G(te,Pe){let Ie=0;return te.forEach(function(Oe){Ie+=ue(Oe.mode,Pe)+Oe.getBitsLength()}),Ie}q.from=function(Pe,Ie){return V.isValid(Pe)?parseInt(Pe,10):Ie},q.getCapacity=function(Pe,Ie,Oe){if(!V.isValid(Pe))throw new Error("Invalid QR Code version");void 0===Oe&&(Oe=F.BYTE);const Ce=8*(d.getSymbolTotalCodewords(Pe)-M.getTotalCodewordsCount(Pe,Ie));if(Oe===F.MIXED)return Ce;const Be=Ce-ue(Oe,Pe);switch(Oe){case F.NUMERIC:return Math.floor(Be/10*3);case F.ALPHANUMERIC:return Math.floor(Be/11*2);case F.KANJI:return Math.floor(Be/13);default:return Math.floor(Be/8)}},q.getBestVersionForData=function(Pe,Ie){let Oe;const We=T.from(Ie,T.M);if(Array.isArray(Pe)){if(Pe.length>1)return function Z(te,Pe){for(let Ie=1;Ie<=40;Ie++)if(G(te,Ie)<=q.getCapacity(Ie,Pe,F.MIXED))return Ie}(Pe,We);if(0===Pe.length)return 1;Oe=Pe[0]}else Oe=Pe;return function K(te,Pe,Ie){for(let Oe=1;Oe<=40;Oe++)if(Pe<=q.getCapacity(Oe,Ie,te))return Oe}(Oe.mode,Oe.getLength(),We)},q.getEncodedBits=function(Pe){if(!V.isValid(Pe)||Pe<7)throw new Error("Invalid QR Code version");let Ie=Pe<<12;for(;d.getBCHDigit(Ie)-W>=0;)Ie^=7973<<d.getBCHDigit(Ie)-W;return Pe<<12|Ie}},179:(qe,q,R)=>{const d=R(714);q.render=function(V,j,W){let K=W,ue=j;void 0===K&&(!j||!j.getContext)&&(K=j,j=void 0),j||(ue=function T(){try{return document.createElement("canvas")}catch(F){throw new Error("You need to specify a canvas element")}}()),K=d.getOptions(K);const G=d.getImageWidth(V.modules.size,K),Z=ue.getContext("2d"),te=Z.createImageData(G,G);return d.qrToImageData(te.data,V,K),function M(F,V,j){F.clearRect(0,0,V.width,V.height),V.style||(V.style={}),V.height=j,V.width=j,V.style.height=j+"px",V.style.width=j+"px"}(Z,ue,G),Z.putImageData(te,0,0),ue},q.renderToDataURL=function(V,j,W){let K=W;return void 0===K&&(!j||!j.getContext)&&(K=j,j=void 0),K||(K={}),q.render(V,j,K).toDataURL(K.type||"image/png",(K.rendererOpts||{}).quality)}},1036:(qe,q,R)=>{const d=R(714);function M(V,j){const W=V.a/255,K=j+'="'+V.hex+'"';return W<1?K+" "+j+'-opacity="'+W.toFixed(2).slice(1)+'"':K}function T(V,j,W){let K=V+j;return void 0!==W&&(K+=" "+W),K}q.render=function(j,W,K){const ue=d.getOptions(W),G=j.modules.size,Z=j.modules.data,te=G+2*ue.margin,Pe=ue.color.light.a?"<path "+M(ue.color.light,"fill")+' d="M0 0h'+te+"v"+te+'H0z"/>':"",Ie="<path "+M(ue.color.dark,"stroke")+' d="'+function F(V,j,W){let K="",ue=0,G=!1,Z=0;for(let te=0;te<V.length;te++){const Pe=Math.floor(te%j),Ie=Math.floor(te/j);!Pe&&!G&&(G=!0),V[te]?(Z++,te>0&&Pe>0&&V[te-1]||(K+=G?T("M",Pe+W,.5+Ie+W):T("m",ue,0),ue=0,G=!1),Pe+1<j&&V[te+1]||(K+=T("h",Z),Z=0)):ue++}return K}(Z,G,ue.margin)+'"/>',me='<svg xmlns="http://www.w3.org/2000/svg" '+(ue.width?'width="'+ue.width+'" height="'+ue.width+'" ':"")+'viewBox="0 0 '+te+" "+te+'" shape-rendering="crispEdges">'+Pe+Ie+"</svg>\n";return"function"==typeof K&&K(null,me),me}},714:(qe,q)=>{function R(d){if("number"==typeof d&&(d=d.toString()),"string"!=typeof d)throw new Error("Color should be defined as hex string");let M=d.slice().replace("#","").split("");if(M.length<3||5===M.length||M.length>8)throw new Error("Invalid hex color: "+d);(3===M.length||4===M.length)&&(M=Array.prototype.concat.apply([],M.map(function(F){return[F,F]}))),6===M.length&&M.push("F","F");const T=parseInt(M.join(""),16);return{r:T>>24&255,g:T>>16&255,b:T>>8&255,a:255&T,hex:"#"+M.slice(0,6).join("")}}q.getOptions=function(M){M||(M={}),M.color||(M.color={});const F=M.width&&M.width>=21?M.width:void 0;return{width:F,scale:F?4:M.scale||4,margin:null==M.margin||M.margin<0?4:M.margin,color:{dark:R(M.color.dark||"#000000ff"),light:R(M.color.light||"#ffffffff")},type:M.type,rendererOpts:M.rendererOpts||{}}},q.getScale=function(M,T){return T.width&&T.width>=M+2*T.margin?T.width/(M+2*T.margin):T.scale},q.getImageWidth=function(M,T){const F=q.getScale(M,T);return Math.floor((M+2*T.margin)*F)},q.qrToImageData=function(M,T,F){const V=T.modules.size,j=T.modules.data,W=q.getScale(V,F),K=Math.floor((V+2*F.margin)*W),ue=F.margin*W,G=[F.color.light,F.color.dark];for(let Z=0;Z<K;Z++)for(let te=0;te<K;te++){let Pe=4*(Z*K+te),Ie=F.color.light;Z>=ue&&te>=ue&&Z<K-ue&&te<K-ue&&(Ie=G[j[Math.floor((Z-ue)/W)*V+Math.floor((te-ue)/W)]?1:0]),M[Pe++]=Ie.r,M[Pe++]=Ie.g,M[Pe++]=Ie.b,M[Pe]=Ie.a}}},198:(qe,q,R)=>{"use strict";R.d(q,{$:()=>mo,A:()=>Z,B:()=>Ie,G:()=>Zn,H:()=>Vn,J:()=>Us,L:()=>Tn,M:()=>cl,N:()=>ul,P:()=>xo,Q:()=>dl,R:()=>tp,T:()=>zf,U:()=>Ea,V:()=>zs,W:()=>us,X:()=>Ud,Y:()=>ic,Z:()=>$s,_:()=>Ia,a:()=>Cl,a0:()=>jd,a1:()=>Hd,a2:()=>Wf,a3:()=>Ye,a4:()=>sc,a5:()=>zd,a6:()=>Cs,a7:()=>ou,a8:()=>$f,a9:()=>Wd,aA:()=>fs,aB:()=>li,aC:()=>sp,aD:()=>fc,aE:()=>st,aI:()=>bo,aL:()=>Hs,aa:()=>xs,ab:()=>Aa,ac:()=>Gf,af:()=>au,ag:()=>qd,ah:()=>Zd,ak:()=>Ws,al:()=>cu,an:()=>bl,ao:()=>eh,ap:()=>vi,aq:()=>xe,ar:()=>Jt,as:()=>pt,at:()=>Re,au:()=>oa,av:()=>bu,aw:()=>Ue,ax:()=>ne,ay:()=>oe,az:()=>Ft,b:()=>zt,c:()=>Pa,d:()=>nr,e:()=>vu,f:()=>B,g:()=>Wt,h:()=>Me,i:()=>Na,j:()=>Vt,k:()=>Iu,l:()=>uc,m:()=>rx,n:()=>qm,o:()=>K,r:()=>rp,s:()=>ip,u:()=>gu,v:()=>Yd});var d=R(5861),M=R(2090),T=R(9681),F=R(655),V=R(1877),j=R(4859);const K={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new V.Yd("@firebase/auth");function Be(C,...y){Ce.logLevel<=V.in.ERROR&&Ce.error(`Auth (${T.SDK_VERSION}): ${C}`,...y)}function Re(C,...y){throw Se(C,...y)}function Ue(C,...y){return Se(C,...y)}function je(C,y,v){const E=Object.assign(Object.assign({},Oe()),{[y]:v});return new M.LL("auth","Firebase",E).create(y,{appName:C.name})}function ge(C,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&Re(C,"argument-error"),je(C,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(C,...y){if("string"!=typeof C){const v=y[0],E=[...y.slice(1)];return E[0]&&(E[0].appName=C.name),C._errorFactory.create(v,...E)}return We.create(C,...y)}function ne(C,y,...v){if(!C)throw Se(y,...v)}function de(C){const y="INTERNAL ASSERTION FAILED: "+C;throw Be(y),new Error(y)}function xe(C,y){C||de(y)}const ee=new Map;function oe(C){xe(C instanceof Function,"Expected a class definition");let y=ee.get(C);return y?(xe(y instanceof C,"Instance stored in cache mismatched with class"),y):(y=new C,ee.set(C,y),y)}function De(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Xe(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class at{constructor(y,v){this.shortDelay=y,this.longDelay=v,xe(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function sn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(C,y){xe(C.emulator,"Emulator should always be set here");const{url:v}=C.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class Ln{static initialize(y,v,E){this.fetchImpl=y,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void de("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void de("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void de("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new at(3e4,6e4);function Qt(C,y){return C.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:C.tenantId}):y}function on(C,y,v,E){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(C,y,v,E,O={}){return Sn(C,O,(0,d.Z)(function*(){let z={},Ee={};E&&("GET"===y?Ee=E:z={body:JSON.stringify(E)});const Je=(0,M.xO)(Object.assign({key:C.config.apiKey},Ee)).slice(1),wt=yield C._getAdditionalHeaders();return wt["Content-Type"]="application/json",C.languageCode&&(wt["X-Firebase-Locale"]=C.languageCode),Ln.fetch()(_i(C,C.config.apiHost,v,Je),Object.assign({method:y,headers:wt,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function Sn(C,y,v){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(C,y,v){C._canInitEmulator=!1;const E=Object.assign(Object.assign({},wn),y);try{const O=new $n(C),z=yield Promise.race([v(),O.promise]);O.clearNetworkTimeout();const Ee=yield z.json();if("needConfirmation"in Ee)throw re(C,"account-exists-with-different-credential",Ee);if(z.ok&&!("errorMessage"in Ee))return Ee;{const Je=z.ok?Ee.errorMessage:Ee.error.message,[wt,Nt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw re(C,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===wt)throw re(C,"email-already-in-use",Ee);const fn=E[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Nt)throw je(C,fn,Nt);Re(C,fn)}}catch(O){if(O instanceof M.ZR)throw O;Re(C,"network-request-failed")}})).apply(this,arguments)}function Fn(C,y,v,E){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(C,y,v,E,O={}){const z=yield on(C,y,v,E,O);return"mfaPendingCredential"in z&&Re(C,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function _i(C,y,v,E){const O=`${y}${v}?${E}`;return C.config.emulator?dn(C.config,O):`${C.config.apiScheme}://${O}`}class $n{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(Ue(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function re(C,y,v){const E={appName:C.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const O=Ue(C,y,E);return O.customData._tokenResponse=v,O}function pe(){return(pe=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function bt(C,y){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function vt(C,y){return At.apply(this,arguments)}function At(){return(At=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function it(C){if(C)try{const y=new Date(Number(C));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function jt(){return(jt=(0,d.Z)(function*(C,y=!1){const v=(0,M.m9)(C),E=yield v.getIdToken(y),O=kt(E);ne(O&&O.exp&&O.auth_time&&O.iat,v.auth,"internal-error");const z="object"==typeof O.firebase?O.firebase:void 0,Ee=null==z?void 0:z.sign_in_provider;return{claims:O,token:E,authTime:it(kn(O.auth_time)),issuedAtTime:it(kn(O.iat)),expirationTime:it(kn(O.exp)),signInProvider:Ee||null,signInSecondFactor:(null==z?void 0:z.sign_in_second_factor)||null}})).apply(this,arguments)}function kn(C){return 1e3*Number(C)}function kt(C){const[y,v,E]=C.split(".");if(void 0===y||void 0===v||void 0===E)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,M.tV)(v);return O?JSON.parse(O):(Be("Failed to decode base64 JWT payload"),null)}catch(O){return Be("Caught error parsing JWT payload as JSON",O),null}}function et(C,y){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(C,y,v=!1){if(v)return y;try{return yield y}catch(E){throw E instanceof M.ZR&&$t(E)&&C.auth.currentUser===C&&(yield C.auth.signOut()),E}})).apply(this,arguments)}function $t({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class Bt{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const O=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(y);this.timerId=setTimeout((0,d.Z)(function*(){yield v.iteration()}),E)}iteration(){var y=this;return(0,d.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&y.schedule(!0))}y.schedule()})()}}class si{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=it(this.lastLoginAt),this.creationTime=it(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(C){var y;const v=C.auth,E=yield C.getIdToken(),O=yield et(C,vt(v,{idToken:E}));ne(null==O?void 0:O.users.length,v,"internal-error");const z=O.users[0];C._notifyReloadListener(z);const Ee=(null===(y=z.providerUserInfo)||void 0===y?void 0:y.length)?Ve(z.providerUserInfo):[],Je=X(C.providerData,Ee),fn=!!C.isAnonymous&&!(C.email&&z.passwordHash||(null==Je?void 0:Je.length)),ni={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Je,metadata:new si(z.createdAt,z.lastLoginAt),isAnonymous:fn};Object.assign(C,ni)})).apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(C){const y=(0,M.m9)(C);yield pn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function X(C,y){return[...C.filter(E=>!y.some(O=>O.providerId===E.providerId)),...y]}function Ve(C){return C.map(y=>{var{providerId:v}=y,E=(0,F._T)(y,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function be(){return(be=(0,d.Z)(function*(C,y){const v=yield Sn(C,{},(0,d.Z)(function*(){const E=(0,M.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:O,apiKey:z}=C.config,Ee=_i(C,O,"/v1/token",`key=${z}`),Je=yield C._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(Ee,{method:"POST",headers:Je,body:E})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ne(y.idToken,"internal-error"),ne(void 0!==y.idToken,"internal-error"),ne(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function ut(C){const y=kt(C);return ne(y,"internal-error"),ne(void 0!==y.exp,"internal-error"),ne(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var E=this;return(0,d.Z)(function*(){return ne(!E.accessToken||E.refreshToken,y,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(y,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var E=this;return(0,d.Z)(function*(){const{accessToken:O,refreshToken:z,expiresIn:Ee}=yield function ie(C,y){return be.apply(this,arguments)}(y,v);E.updateTokensAndExpiration(O,z,Number(Ee))})()}updateTokensAndExpiration(y,v,E){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(y,v){const{refreshToken:E,accessToken:O,expirationTime:z}=v,Ee=new Ke;return E&&(ne("string"==typeof E,"internal-error",{appName:y}),Ee.refreshToken=E),O&&(ne("string"==typeof O,"internal-error",{appName:y}),Ee.accessToken=O),z&&(ne("number"==typeof z,"internal-error",{appName:y}),Ee.expirationTime=z),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ke,this.toJSON())}_performRefresh(){return de("not implemented")}}function ft(C,y){ne("string"==typeof C||void 0===C,"internal-error",{appName:y})}class St{constructor(y){var{uid:v,auth:E,stsTokenManager:O}=y,z=(0,F._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new si(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,d.Z)(function*(){const E=yield et(v,v.stsTokenManager.getToken(v.auth,y));return ne(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(y){return function ht(C){return jt.apply(this,arguments)}(this,y)}reload(){return function Y(C){return se.apply(this,arguments)}(this)}_assign(y){this!==y&&(ne(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new St(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var E=this;return(0,d.Z)(function*(){let O=!1;y.idToken&&y.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(y),O=!0),v&&(yield pn(E)),yield E.auth._persistUserIfCurrent(E),O&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var y=this;return(0,d.Z)(function*(){const v=yield y.getIdToken();return yield et(y,function _e(C,y){return pe.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var E,O,z,Ee,Je,wt,Nt,fn;const ni=null!==(E=v.displayName)&&void 0!==E?E:void 0,Ts=null!==(O=v.email)&&void 0!==O?O:void 0,Ds=null!==(z=v.phoneNumber)&&void 0!==z?z:void 0,_c=null!==(Ee=v.photoURL)&&void 0!==Ee?Ee:void 0,vc=null!==(Je=v.tenantId)&&void 0!==Je?Je:void 0,Zm=null!==(wt=v._redirectEventId)&&void 0!==wt?wt:void 0,Tu=null!==(Nt=v.createdAt)&&void 0!==Nt?Nt:void 0,Km=null!==(fn=v.lastLoginAt)&&void 0!==fn?fn:void 0,{uid:Du,emailVerified:fp,isAnonymous:Ym,providerData:Va,stsTokenManager:Au}=v;ne(Du&&Au,y,"internal-error");const pp=Ke.fromJSON(this.name,Au);ne("string"==typeof Du,y,"internal-error"),ft(ni,y.name),ft(Ts,y.name),ne("boolean"==typeof fp,y,"internal-error"),ne("boolean"==typeof Ym,y,"internal-error"),ft(Ds,y.name),ft(_c,y.name),ft(vc,y.name),ft(Zm,y.name),ft(Tu,y.name),ft(Km,y.name);const Su=new St({uid:Du,auth:y,email:Ts,emailVerified:fp,displayName:ni,isAnonymous:Ym,photoURL:_c,phoneNumber:Ds,tenantId:vc,stsTokenManager:pp,createdAt:Tu,lastLoginAt:Km});return Va&&Array.isArray(Va)&&(Su.providerData=Va.map(gp=>Object.assign({},gp))),Zm&&(Su._redirectEventId=Zm),Su}static _fromIdTokenResponse(y,v,E=!1){return(0,d.Z)(function*(){const O=new Ke;O.updateFromServerResponse(v);const z=new St({uid:v.localId,auth:y,stsTokenManager:O,isAnonymous:E});return yield pn(z),z})()}}const Tn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(v,E){var O=this;return(0,d.Z)(function*(){O.storage[v]=E})()}_get(v){var E=this;return(0,d.Z)(function*(){const O=E.storage[v];return void 0===O?null:O})()}_remove(v){var E=this;return(0,d.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return C.type="NONE",C})();function Ft(C,y,v){return`firebase:${C}:${y}:${v}`}class oi{constructor(y,v,E){this.persistence=y,this.auth=v,this.userKey=E;const{config:O,name:z}=this.auth;this.fullUserKey=Ft(this.userKey,O.apiKey,z),this.fullPersistenceKey=Ft("persistence",O.apiKey,z),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,d.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?St._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,d.Z)(function*(){if(v.persistence===y)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,E="authUser"){return(0,d.Z)(function*(){if(!v.length)return new oi(oe(Tn),y,E);const O=(yield Promise.all(v.map(function(){var Nt=(0,d.Z)(function*(fn){if(yield fn._isAvailable())return fn});return function(fn){return Nt.apply(this,arguments)}}()))).filter(Nt=>Nt);let z=O[0]||oe(Tn);const Ee=Ft(E,y.config.apiKey,y.name);let Je=null;for(const Nt of v)try{const fn=yield Nt._get(Ee);if(fn){const ni=St._fromJSON(y,fn);Nt!==z&&(Je=ni),z=Nt;break}}catch(fn){}const wt=O.filter(Nt=>Nt._shouldAllowMigration);return z._shouldAllowMigration&&wt.length?(z=wt[0],Je&&(yield z._set(Ee,Je.toJSON())),yield Promise.all(v.map(function(){var Nt=(0,d.Z)(function*(fn){if(fn!==z)try{yield fn._remove(Ee)}catch(ni){}});return function(fn){return Nt.apply(this,arguments)}}())),new oi(z,y,E)):new oi(z,y,E)})()}}function Ae(C){const y=C.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(dt(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(he(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Mt(y))return"Blackberry";if(en(y))return"Webos";if(ce(y))return"Safari";if((y.includes("chrome/")||Ge(y))&&!y.includes("edge/"))return"Chrome";if(pt(y))return"Android";{const E=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function he(C=(0,M.z$)()){return/firefox\//i.test(C)}function ce(C=(0,M.z$)()){const y=C.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function Ge(C=(0,M.z$)()){return/crios\//i.test(C)}function dt(C=(0,M.z$)()){return/iemobile/i.test(C)}function pt(C=(0,M.z$)()){return/android/i.test(C)}function Mt(C=(0,M.z$)()){return/blackberry/i.test(C)}function en(C=(0,M.z$)()){return/webos/i.test(C)}function Jt(C=(0,M.z$)()){return/iphone|ipad|ipod/i.test(C)}function vi(C=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function lr(C=(0,M.z$)()){return Jt(C)||pt(C)||en(C)||Mt(C)||/windows phone/i.test(C)||dt(C)}function Hi(C,y=[]){let v;switch(C){case"Browser":v=Ae((0,M.z$)());break;case"Worker":v=`${Ae((0,M.z$)())}-${C}`;break;default:v=C}const E=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${T.SDK_VERSION}/${E}`}class al{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const E=z=>new Promise((Ee,Je)=>{try{Ee(y(z))}catch(wt){Je(wt)}});E.onAbort=v,this.queue.push(E);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,d.Z)(function*(){if(v.auth.currentUser===y)return;const E=[];try{for(const O of v.queue)yield O(y),O.onAbort&&E.push(O.onAbort)}catch(O){E.reverse();for(const z of E)try{z()}catch(Ee){}throw v.auth._errorFactory.create("login-blocked",{originalMessage:O.message})}})()}}class Pr{constructor(y,v,E){this.app=y,this.heartbeatServiceProvider=v,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ln(this),this.idTokenSubscription=new ln(this),this.beforeStateQueue=new al(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(y,v){var E=this;return v&&(this._popupRedirectResolver=oe(v)),this._initializationPromise=this.queue((0,d.Z)(function*(){var O,z;if(!E._deleted&&(E.persistenceManager=yield oi.create(E,y),!E._deleted)){if(null===(O=E._popupRedirectResolver)||void 0===O?void 0:O._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(Ee){}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(z=E.currentUser)||void 0===z?void 0:z.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,d.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,d.Z)(function*(){var E;const O=yield v.assertedPersistence.getCurrentUser();let z=O,Ee=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Je=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,wt=null==z?void 0:z._redirectEventId,Nt=yield v.tryRedirectSignIn(y);(!Je||Je===wt)&&(null==Nt?void 0:Nt.user)&&(z=Nt.user,Ee=!0)}if(!z)return v.directlySetCurrentUser(null);if(!z._redirectEventId){if(Ee)try{yield v.beforeStateQueue.runMiddleware(z)}catch(Je){z=O,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Je))}return z?v.reloadAndSetCurrentUserOrClear(z):v.directlySetCurrentUser(null)}return ne(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===z._redirectEventId?v.directlySetCurrentUser(z):v.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(y){var v=this;return(0,d.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(O){yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,d.Z)(function*(){try{yield pn(y)}catch(E){if("auth/network-request-failed"!==E.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function Xt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var y=this;return(0,d.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,d.Z)(function*(){const E=y?(0,M.m9)(y):null;return E&&ne(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(y,v=!1){var E=this;return(0,d.Z)(function*(){if(!E._deleted)return y&&ne(E.tenantId===y.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(y)),E.queue((0,d.Z)(function*(){yield E.directlySetCurrentUser(y),E.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,d.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,d.Z)(function*(){yield v.assertedPersistence.setPersistence(oe(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new M.LL("auth","Firebase",y())}onAuthStateChanged(y,v,E){return this.registerStateListener(this.authStateSubscription,y,v,E)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,E){return this.registerStateListener(this.idTokenSubscription,y,v,E)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var E=this;return(0,d.Z)(function*(){const O=yield E.getOrInitRedirectPersistenceManager(v);return null===y?O.removeCurrentUser():O.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,d.Z)(function*(){if(!v.redirectPersistenceManager){const E=y&&oe(y)||v._popupRedirectResolver;ne(E,v,"argument-error"),v.redirectPersistenceManager=yield oi.create(v,[oe(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,d.Z)(function*(){var E,O;return v._isInitialized&&(yield v.queue((0,d.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===y?v._currentUser:(null===(O=v.redirectUser)||void 0===O?void 0:O._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,d.Z)(function*(){if(y===v.currentUser)return v.queue((0,d.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,E,O){if(this._deleted)return()=>{};const z="function"==typeof v?v:v.next.bind(v),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(Ee,this,"internal-error"),Ee.then(()=>z(this.currentUser)),"function"==typeof v?y.addObserver(v,E,O):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,d.Z)(function*(){v.currentUser&&v.currentUser!==y&&(v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh()),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Hi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,d.Z)(function*(){var v;const E={"X-Client-Version":y.clientVersion};y.app.options.appId&&(E["X-Firebase-gmpid"]=y.app.options.appId);const O=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return O&&(E["X-Firebase-Client"]=O),E})()}}function st(C){return(0,M.m9)(C)}class ln{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,M.ne)(v=>this.observer=v)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zn(C,y,v){const E=st(C);ne(E._canInitEmulator,E,"emulator-config-failed"),ne(/^https?:\/\//.test(y),E,"invalid-emulator-scheme");const O=!!(null==v?void 0:v.disableWarnings),z=yr(y),{host:Ee,port:Je}=function Vs(C){const y=yr(C),v=/(\/\/)?([^?#/]+)/.exec(C.substr(y.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(E);if(O){const z=O[1];return{host:z,port:bi(E.substr(z.length+1))}}{const[z,Ee]=E.split(":");return{host:z,port:bi(Ee)}}}(y);E.config.emulator={url:`${z}//${Ee}${null===Je?"":`:${Je}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Ee,port:Je,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function Bs(){function C(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function yr(C){const y=C.indexOf(":");return y<0?"":C.substr(0,y+1)}function bi(C){if(!C)return null;const y=Number(C);return isNaN(y)?null:y}class Vn{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return de("not implemented")}_getIdTokenResponse(y){return de("not implemented")}_linkToIdToken(y,v){return de("not implemented")}_getReauthenticationResolver(y){return de("not implemented")}}function Fo(C,y){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:resetPassword",Qt(C,y))})).apply(this,arguments)}function tn(C,y){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Bo(C,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:update",Qt(C,y))})).apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithPassword",Qt(C,y))})).apply(this,arguments)}function ho(C,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:sendOobCode",Qt(C,y))})).apply(this,arguments)}function Di(C,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(C,y){return ho(C,y)})).apply(this,arguments)}function Md(C,y){return jo.apply(this,arguments)}function jo(){return(jo=(0,d.Z)(function*(C,y){return ho(C,y)})).apply(this,arguments)}function Zr(C,y){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(C,y){return ho(C,y)})).apply(this,arguments)}function Nd(C,y){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(C,y){return ho(C,y)})).apply(this,arguments)}function Kr(){return(Kr=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithEmailLink",Qt(C,y))})).apply(this,arguments)}function Rd(){return(Rd=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithEmailLink",Qt(C,y))})).apply(this,arguments)}class Jl extends Vn{constructor(y,v,E,O=null){super("password",E),this._email=y,this._password=v,this._tenantId=O}static _fromEmailAndPassword(y,v){return new Jl(y,v,"password")}static _fromEmailAndCode(y,v,E=null){return new Jl(y,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return function wa(C,y){return hi.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function fo(C,y){return Kr.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:Re(y,"internal-error")}})()}_linkToIdToken(y,v){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return tn(y,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ql(C,y){return Rd.apply(this,arguments)}(y,{idToken:v,email:E._email,oobCode:E._password});default:Re(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Ai(C,y){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithIdp",Qt(C,y))})).apply(this,arguments)}class Us extends Vn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new Us(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):Re("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:O}=v,z=(0,F._T)(v,["providerId","signInMethod"]);if(!E||!O)return null;const Ee=new Us(E,O);return Ee.idToken=z.idToken||void 0,Ee.accessToken=z.accessToken||void 0,Ee.secret=z.secret,Ee.nonce=z.nonce,Ee.pendingToken=z.pendingToken||null,Ee}_getIdTokenResponse(y){return Ai(y,this.buildRequest())}_linkToIdToken(y,v){const E=this.buildRequest();return E.idToken=v,Ai(y,E)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Ai(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,M.xO)(v)}return y}}function Dm(C,y){return nu.apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:sendVerificationCode",Qt(C,y))})).apply(this,arguments)}function ll(){return(ll=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,y))})).apply(this,arguments)}function Od(){return(Od=(0,d.Z)(function*(C,y){const v=yield Fn(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,y));if(v.temporaryProof)throw re(C,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Sm={USER_NOT_FOUND:"user-not-found"};function Ld(){return(Ld=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithPhoneNumber",Qt(C,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Sm)})).apply(this,arguments)}class xa extends Vn{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new xa({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new xa({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function Am(C,y){return ll.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function Ca(C,y){return Od.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function km(C,y){return Ld.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:E,verificationCode:O}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:E,code:O}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:E,phoneNumber:O,temporaryProof:z}=y;return E||v||O||z?new xa({verificationId:v,verificationCode:E,phoneNumber:O,temporaryProof:z}):null}}class js{constructor(y){var v,E,O,z,Ee,Je;const wt=(0,M.zd)((0,M.pd)(y)),Nt=null!==(v=wt.apiKey)&&void 0!==v?v:null,fn=null!==(E=wt.oobCode)&&void 0!==E?E:null,ni=function Mm(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=wt.mode)&&void 0!==O?O:null);ne(Nt&&fn&&ni,"argument-error"),this.apiKey=Nt,this.operation=ni,this.code=fn,this.continueUrl=null!==(z=wt.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(Ee=wt.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(Je=wt.tenantId)&&void 0!==Je?Je:null}static parseLink(y){const v=function Hf(C){const y=(0,M.zd)((0,M.pd)(C)).link,v=y?(0,M.zd)((0,M.pd)(y)).deep_link_id:null,E=(0,M.zd)((0,M.pd)(C)).deep_link_id;return(E?(0,M.zd)((0,M.pd)(E)).link:null)||E||v||y||C}(y);try{return new js(v)}catch(E){return null}}}let cl=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(v,E){return Jl._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const O=js.parseLink(E);return ne(O,"argument-error"),Jl._fromEmailAndCode(v,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class po{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Yr extends po{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class Ea extends Yr{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return ne("providerId"in v&&"signInMethod"in v,"argument-error"),Us._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return ne(y.idToken||y.accessToken,"argument-error"),Us._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return Ea.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return Ea.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:O,pendingToken:z,nonce:Ee,providerId:Je}=y;if(!E&&!O&&!v&&!z||!Je)return null;try{return new Ea(Je)._credential({idToken:v,accessToken:E,nonce:Ee,pendingToken:z})}catch(wt){return null}}}let ul=(()=>{class C extends Yr{constructor(){super("facebook.com")}static credential(v){return Us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(E){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),dl=(()=>{class C extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return Us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:O}=v;if(!E&&!O)return null;try{return C.credential(E,O)}catch(z){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),zf=(()=>{class C extends Yr{constructor(){super("github.com")}static credential(v){return Us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return C.credential(v.oauthAccessToken)}catch(E){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Hs extends Vn{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Ai(y,this.buildRequest())}_linkToIdToken(y,v){const E=this.buildRequest();return E.idToken=v,Ai(y,E)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Ai(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:E,signInMethod:O,pendingToken:z}=v;return E&&O&&z&&E===O?new Hs(E,z):null}static _create(y,v){return new Hs(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zs extends po{constructor(y){ne(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return zs.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return zs.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=Hs.fromJSON(y);return ne(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:E}=y;if(!v||!E)return null;try{return Hs._create(E,v)}catch(O){return null}}}let us=(()=>{class C extends Yr{constructor(){super("twitter.com")}static credential(v,E){return Us._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:O}=v;if(!E||!O)return null;try{return C.credential(E,O)}catch(z){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Vd(C,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signUp",Qt(C,y))})).apply(this,arguments)}class Xi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,E,O=!1){return(0,d.Z)(function*(){const z=yield St._fromIdTokenResponse(y,E,O),Ee=Bd(E);return new Xi({user:z,providerId:Ee,_tokenResponse:E,operationType:v})})()}static _forOperation(y,v,E){return(0,d.Z)(function*(){yield y._updateTokensIfNecessary(E,!0);const O=Bd(E);return new Xi({user:y,providerId:O,_tokenResponse:E,operationType:v})})()}}function Bd(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ud(C){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(C){var y;const v=st(C);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new Xi({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield Vd(v,{returnSecureToken:!0}),O=yield Xi._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class ec extends M.ZR{constructor(y,v,E,O){var z;super(v.code,v.message),this.operationType=E,this.user=O,Object.setPrototypeOf(this,ec.prototype),this.customData={appName:y.name,tenantId:null!==(z=y.tenantId)&&void 0!==z?z:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(y,v,E,O){return new ec(y,v,E,O)}}function tc(C,y,v,E){return("reauthenticate"===y?v._getReauthenticationResolver(C):v._getIdTokenResponse(C)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?ec._fromErrorAndOperation(C,z,y,E):z})}function iu(C){return new Set(C.map(({providerId:y})=>y).filter(y=>!!y))}function Ws(C,y){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(C,y){const v=(0,M.m9)(C);yield go(!0,v,y);const{providerUserInfo:E}=yield bt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),O=iu(E||[]);return v.providerData=v.providerData.filter(z=>O.has(z.providerId)),O.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Gn(C,y){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(C,y,v=!1){const E=yield et(C,y._linkToIdToken(C.auth,yield C.getIdToken()),v);return Xi._forOperation(C,"link",E)})).apply(this,arguments)}function go(C,y,v){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(C,y,v){yield pn(y);const O=!1===C?"provider-already-linked":"no-such-provider";ne(iu(y.providerData).has(v)===C,y.auth,O)})).apply(this,arguments)}function nc(C,y){return fl.apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(C,y,v=!1){const{auth:E}=C,O="reauthenticate";try{const z=yield et(C,tc(E,O,y,C),v);ne(z.idToken,E,"internal-error");const Ee=kt(z.idToken);ne(Ee,E,"internal-error");const{sub:Je}=Ee;return ne(C.uid===Je,E,"user-mismatch"),Xi._forOperation(C,O,z)}catch(z){throw"auth/user-not-found"===(null==z?void 0:z.code)&&Re(E,"user-mismatch"),z}})).apply(this,arguments)}function Ho(C,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(C,y,v=!1){const E="signIn",O=yield tc(C,E,y),z=yield Xi._fromIdTokenResponse(C,E,O);return v||(yield C._updateCurrentUser(z.user)),z})).apply(this,arguments)}function ic(C,y){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(C,y){return Ho(st(C),y)})).apply(this,arguments)}function $s(C,y){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(C,y){const v=(0,M.m9)(C);return yield go(!1,v,y.providerId),Gn(v,y)})).apply(this,arguments)}function Ia(C,y){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(C,y){return nc((0,M.m9)(C),y)})).apply(this,arguments)}function su(C,y){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(C,y){return Fn(C,"POST","/v1/accounts:signInWithCustomToken",Qt(C,y))})).apply(this,arguments)}function mo(C,y){return yo.apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(C,y){const v=st(C),E=yield su(v,{token:y,returnSecureToken:!0}),O=yield Xi._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}class Rt{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?zo._fromServerResponse(y,v):Re(y,"internal-error")}}class zo extends Rt{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new zo(v)}}function rc(C,y,v){var E;ne((null===(E=v.url)||void 0===E?void 0:E.length)>0,C,"invalid-continue-uri"),ne(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(ne(v.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(ne(v.android.packageName.length>0,C,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function jd(C,y,v){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C),O={requestType:"PASSWORD_RESET",email:y};v&&rc(E,O,v),yield Md(E,O)})).apply(this,arguments)}function Hd(C,y,v){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(C,y,v){yield Fo((0,M.m9)(C),{oobCode:y,newPassword:v})})).apply(this,arguments)}function Wf(C,y){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(C,y){yield Bo((0,M.m9)(C),{oobCode:y})})).apply(this,arguments)}function Ye(C,y){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(C,y){const v=(0,M.m9)(C),E=yield Fo(v,{oobCode:y}),O=E.requestType;switch(ne(O,v,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(E.mfaInfo,v,"internal-error");default:ne(E.email,v,"internal-error")}let z=null;return E.mfaInfo&&(z=Rt._fromServerResponse(st(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:z},operation:O}})).apply(this,arguments)}function sc(C,y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(C,y){const{data:v}=yield Ye((0,M.m9)(C),y);return v.email})).apply(this,arguments)}function zd(C,y,v){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(C,y,v){const E=st(C),O=yield Vd(E,{returnSecureToken:!0,email:y,password:v}),z=yield Xi._fromIdTokenResponse(E,"signIn",O);return yield E._updateCurrentUser(z.user),z})).apply(this,arguments)}function Cs(C,y,v){return ic((0,M.m9)(C),cl.credential(y,v))}function ou(C,y,v){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C),O={requestType:"EMAIL_SIGNIN",email:y};ne(v.handleCodeInApp,E,"argument-error"),v&&rc(E,O,v),yield Zr(E,O)})).apply(this,arguments)}function $f(C,y){const v=js.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Wd(C,y,v){return $d.apply(this,arguments)}function $d(){return($d=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C),O=cl.credentialWithLink(y,v||De());return ne(O._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),ic(E,O)})).apply(this,arguments)}function Wo(C,y){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:createAuthUri",Qt(C,y))})).apply(this,arguments)}function xs(C,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.Z)(function*(C,y){const E={identifier:y,continueUri:Xe()?De():"http://localhost"},{signinMethods:O}=yield Wo((0,M.m9)(C),E);return O||[]})).apply(this,arguments)}function Aa(C,y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(C,y){const v=(0,M.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};y&&rc(v.auth,O,y);const{email:z}=yield Di(v.auth,O);z!==C.email&&(yield C.reload())})).apply(this,arguments)}function Gf(C,y,v){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:y};v&&rc(E.auth,z,v);const{email:Ee}=yield Nd(E.auth,z);Ee!==C.email&&(yield C.reload())})).apply(this,arguments)}function Gd(C,y){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(C,y){return on(C,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function au(C,y){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(C,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const E=(0,M.m9)(C),z={idToken:yield E.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},Ee=yield et(E,Gd(E.auth,z));E.displayName=Ee.displayName||null,E.photoURL=Ee.photoUrl||null;const Je=E.providerData.find(({providerId:wt})=>"password"===wt);Je&&(Je.displayName=E.displayName,Je.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Ee)})).apply(this,arguments)}function qd(C,y){return lu((0,M.m9)(C),y,null)}function Zd(C,y){return lu((0,M.m9)(C),null,y)}function lu(C,y,v){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(C,y,v){const{auth:E}=C,z={idToken:yield C.getIdToken(),returnSecureToken:!0};y&&(z.email=y),v&&(z.password=v);const Ee=yield et(C,tn(E,z));yield C._updateTokensIfNecessary(Ee,!0)})).apply(this,arguments)}class $o{constructor(y,v,E={}){this.isNewUser=y,this.providerId=v,this.profile=E}}class Kd extends $o{constructor(y,v,E,O){super(y,v,E),this.username=O}}class qf extends $o{constructor(y,v){super(y,"facebook.com",v)}}class oc extends Kd{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Vr extends $o{constructor(y,v){super(y,"google.com",v)}}class Zf extends Kd{constructor(y,v,E){super(y,"twitter.com",v,E)}}function cu(C){const{user:y,_tokenResponse:v}=C;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function _l(C){var y,v;if(!C)return null;const{providerId:E}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},z=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!E&&(null==C?void 0:C.idToken)){const Ee=null===(v=null===(y=kt(C.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ee)return new $o(z,"anonymous"!==Ee&&"custom"!==Ee?Ee:null)}if(!E)return null;switch(E){case"facebook.com":return new qf(z,O);case"github.com":return new oc(z,O);case"google.com":return new Vr(z,O);case"twitter.com":return new Zf(z,O,C.screenName||null);case"custom":case"anonymous":return new $o(z,null);default:return new $o(z,E,O)}}(v)}function Yd(C,y,v,E){return(0,M.m9)(C).onAuthStateChanged(y,v,E)}class qs{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new qs("enroll",y)}static _fromMfaPendingCredential(y){return new qs("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,E;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return qs._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(E=y.multiFactorSession)||void 0===E?void 0:E.idToken)return qs._fromIdtoken(y.multiFactorSession.idToken)}return null}}class vl{constructor(y,v,E){this.session=y,this.hints=v,this.signInResolver=E}static _fromError(y,v){const E=st(y),O=v.customData._serverResponse,z=(O.mfaInfo||[]).map(Je=>Rt._fromServerResponse(E,Je));ne(O.mfaPendingCredential,E,"internal-error");const Ee=qs._fromMfaPendingCredential(O.mfaPendingCredential);return new vl(Ee,z,function(){var Je=(0,d.Z)(function*(wt){const Nt=yield wt._process(E,Ee);delete O.mfaInfo,delete O.mfaPendingCredential;const fn=Object.assign(Object.assign({},O),{idToken:Nt.idToken,refreshToken:Nt.refreshToken});switch(v.operationType){case"signIn":const ni=yield Xi._fromIdTokenResponse(E,v.operationType,fn);return yield E._updateCurrentUser(ni.user),ni;case"reauthenticate":return ne(v.user,E,"internal-error"),Xi._forOperation(v.user,v.operationType,fn);default:Re(E,"internal-error")}});return function(wt){return Je.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,d.Z)(function*(){return v.signInResolver(y)})()}}function bl(C,y){var v;const E=(0,M.m9)(C),O=y;return ne(y.customData.operationType,E,"argument-error"),ne(null===(v=O.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),vl._fromError(E,O)}function Ri(C,y){return on(C,"POST","/v2/accounts/mfaEnrollment:start",Qt(C,y))}class Zs{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>Rt._fromServerResponse(y.auth,E)))})}static _fromUser(y){return new Zs(y)}getSession(){var y=this;return(0,d.Z)(function*(){return qs._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var E=this;return(0,d.Z)(function*(){const O=y,z=yield E.getSession(),Ee=yield et(E.user,O._process(E.user.auth,z,v));return yield E.user._updateTokensIfNecessary(Ee),E.user.reload()})()}unenroll(y){var v=this;return(0,d.Z)(function*(){const E="string"==typeof y?y:y.uid,O=yield v.user.getIdToken(),z=yield et(v.user,function Pm(C,y){return on(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(C,y))}(v.user.auth,{idToken:O,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Ee})=>Ee!==E),yield v.user._updateTokensIfNecessary(z);try{yield v.user.reload()}catch(Ee){if("auth/user-token-expired"!==Ee.code)throw Ee}})()}}const Ma=new WeakMap;function eh(C){const y=(0,M.m9)(C);return Ma.has(y)||Ma.set(y,Zs._fromUser(y)),Ma.get(y)}const wl="__sak";class vo{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(wl,"1"),this.storage.removeItem(wl),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const zt=(()=>{class C extends vo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ac(){const C=(0,M.z$)();return ce(C)||Jt(C)}()&&function bs(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=lr(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const O=this.storage.getItem(E),z=this.localCache[E];O!==z&&v(E,z,O)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((Je,wt,Nt)=>{this.notifyListeners(Je,Nt)});const O=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(O);if(v.newValue!==Je)null!==v.newValue?this.storage.setItem(O,v.newValue):this.storage.removeItem(O);else if(this.localCache[O]===v.newValue&&!E)return}const z=()=>{const Je=this.storage.getItem(O);!E&&this.localCache[O]===Je||this.notifyListeners(O,Je)},Ee=this.storage.getItem(O);!function hn(){return(0,M.w1)()&&10===document.documentMode}()||Ee===v.newValue||v.newValue===v.oldValue?z():setTimeout(z,10)}notifyListeners(v,E){this.localCache[v]=E;const O=this.listeners[v];if(O)for(const z of Array.from(O))z(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var O=()=>super._set,z=this;return(0,d.Z)(function*(){yield O().call(z,v,E),z.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,O=this;return(0,d.Z)(function*(){const z=yield E().call(O,v);return O.localCache[v]=JSON.stringify(z),z})()}_remove(v){var E=()=>super._remove,O=this;return(0,d.Z)(function*(){yield E().call(O,v),delete O.localCache[v]})()}}return C.type="LOCAL",C})(),Cl=(()=>{class C extends vo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return C.type="SESSION",C})();let xl=(()=>{class C{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(z=>z.isListeningto(v));if(E)return E;const O=new C(v);return this.receivers.push(O),O}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,d.Z)(function*(){const O=v,{eventId:z,eventType:Ee,data:Je}=O.data,wt=E.handlersMap[Ee];if(!(null==wt?void 0:wt.size))return;O.ports[0].postMessage({status:"ack",eventId:z,eventType:Ee});const Nt=Array.from(wt).map(function(){var ni=(0,d.Z)(function*(Ts){return Ts(O.origin,Je)});return function(Ts){return ni.apply(this,arguments)}}()),fn=yield function th(C){return Promise.all(C.map(function(){var y=(0,d.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return y.apply(this,arguments)}}()))}(Nt);O.ports[0].postMessage({status:"done",eventId:z,eventType:Ee,response:fn})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function bo(C="",y=10){let v="";for(let E=0;E<y;E++)v+=Math.floor(10*Math.random());return C+v}class nh{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,E=50){var O=this;return(0,d.Z)(function*(){const z="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let Ee,Je;return new Promise((wt,Nt)=>{const fn=bo("",20);z.port1.start();const ni=setTimeout(()=>{Nt(new Error("unsupported_event"))},E);Je={messageChannel:z,onMessage(Ts){const Ds=Ts;if(Ds.data.eventId===fn)switch(Ds.data.status){case"ack":clearTimeout(ni),Ee=setTimeout(()=>{Nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),wt(Ds.data.response);break;default:clearTimeout(ni),clearTimeout(Ee),Nt(new Error("invalid_response"))}}},O.handlers.add(Je),z.port1.addEventListener("message",Je.onMessage),O.target.postMessage({eventType:y,eventId:fn,data:v},[z.port2])}).finally(()=>{Je&&O.removeMessageHandler(Je)})})()}}function Kn(){return window}function Es(){return void 0!==Kn().WorkerGlobalScope&&"function"==typeof Kn().importScripts}function Ko(){return(Ko=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ih="firebaseLocalStorageDb",El="firebaseLocalStorage",Il="fbase_key";class Cn{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Pi(C,y){return C.transaction([El],y?"readwrite":"readonly").objectStore(El)}function Yo(){const C=indexedDB.open(ih,1);return new Promise((y,v)=>{C.addEventListener("error",()=>{v(C.error)}),C.addEventListener("upgradeneeded",()=>{const E=C.result;try{E.createObjectStore(El,{keyPath:Il})}catch(O){v(O)}}),C.addEventListener("success",(0,d.Z)(function*(){const E=C.result;E.objectStoreNames.contains(El)?y(E):(E.close(),yield function Qr(){const C=indexedDB.deleteDatabase(ih);return new Cn(C).toPromise()}(),y(yield Yo()))}))})}function uu(C,y,v){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(C,y,v){const E=Pi(C,!0).put({[Il]:y,value:v});return new Cn(E).toPromise()})).apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(C,y){const v=Pi(C,!1).get(y),E=yield new Cn(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Br(C,y){const v=Pi(C,!0).delete(y);return new Cn(v).toPromise()}const Na=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,d.Z)(function*(){return v.db||(v.db=yield Yo()),v.db})()}_withRetries(v){var E=this;return(0,d.Z)(function*(){let O=0;for(;;)try{const z=yield E._openDb();return yield v(z)}catch(z){if(O++>3)throw z;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,d.Z)(function*(){return Es()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,d.Z)(function*(){v.receiver=xl._getInstance(function Qf(){return Es()?self:null}()),v.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(O,z){return{keyProcessed:(yield v._poll()).includes(z.key)}});return function(O,z){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(O,z){return["keyChanged"]});return function(O,z){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,d.Z)(function*(){var E,O;if(v.activeServiceWorker=yield function lc(){return Ko.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new nh(v.activeServiceWorker);const z=yield v.sender._send("ping",{},800);!z||(null===(E=z[0])||void 0===E?void 0:E.fulfilled)&&(null===(O=z[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function C0(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Yo();return yield uu(v,wl,"1"),yield Br(v,wl),!0}catch(v){}return!1})()}_withPendingWrite(v){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var O=this;return(0,d.Z)(function*(){return O._withPendingWrite((0,d.Z)(function*(){return yield O._withRetries(z=>uu(z,v,E)),O.localCache[v]=E,O.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,d.Z)(function*(){const O=yield E._withRetries(z=>function cc(C,y){return Tl.apply(this,arguments)}(z,v));return E.localCache[v]=O,O})()}_remove(v){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(O=>Br(O,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,d.Z)(function*(){const E=yield v._withRetries(Ee=>{const Je=Pi(Ee,!1).getAll();return new Cn(Je).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const O=[],z=new Set;for(const{fbase_key:Ee,value:Je}of E)z.add(Ee),JSON.stringify(v.localCache[Ee])!==JSON.stringify(Je)&&(v.notifyListeners(Ee,Je),O.push(Ee));for(const Ee of Object.keys(v.localCache))v.localCache[Ee]&&!z.has(Ee)&&(v.notifyListeners(Ee,null),O.push(Ee));return O})()}notifyListeners(v,E){this.localCache[v]=E;const O=this.listeners[v];if(O)for(const z of Array.from(O))z(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Jf(C,y){return on(C,"POST","/v2/accounts/mfaSignIn:start",Qt(C,y))}function Is(){return(Is=(0,d.Z)(function*(C){return(yield on(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jr(C){return new Promise((y,v)=>{const E=document.createElement("script");E.setAttribute("src",C),E.onload=y,E.onerror=O=>{const z=Ue("internal-error");z.customData=O,v(z)},E.type="text/javascript",E.charset="UTF-8",function hu(){var C,y;return null!==(y=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==y?y:document}().appendChild(E)})}function Ur(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ds=1e12;class Xf{constructor(y){this.auth=y,this.counter=ds,this._widgets=new Map}render(y,v){const E=this.counter;return this._widgets.set(E,new fu(y,this.auth.name,v||{})),this.counter++,E}reset(y){var v;const E=y||ds;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(y){var v;return(null===(v=this._widgets.get(y||ds))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,d.Z)(function*(){var E;return null===(E=v._widgets.get(y||ds))||void 0===E||E.execute(),""})()}}class fu{constructor(y,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof y?document.getElementById(y):y;ne(O,"argument-error",{appName:v}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _r(C){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<C;E++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hs=Ur("rcb"),ep=new at(3e4,6e4);class Xo{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kn().grecaptcha}load(y,v=""){return ne(function x0(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Kn().grecaptcha):new Promise((E,O)=>{const z=Kn().setTimeout(()=>{O(Ue(y,"network-request-failed"))},ep.get());Kn()[hs]=()=>{Kn().clearTimeout(z),delete Kn()[hs];const Je=Kn().grecaptcha;if(!Je)return void O(Ue(y,"internal-error"));const wt=Je.render;Je.render=(Nt,fn)=>{const ni=wt(Nt,fn);return this.counter++,ni},this.hostLanguage=v,E(Je)},Jr(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:hs,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(z),O(Ue(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Kn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ys{load(y){return(0,d.Z)(function*(){return new Xf(y)})()}clearedOneInstance(){}}const pu="recaptcha",rh={theme:"light",type:"image"};class tp{constructor(y,v=Object.assign({},rh),E){this.parameters=v,this.type=pu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=st(E),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof y?document.getElementById(y):y;ne(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ys:new Xo,this.validateStartingState()}verify(){var y=this;return(0,d.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),E=y.getAssertedRecaptcha();return E.getResponse(v)||new Promise(z=>{const Ee=Je=>{!Je||(y.tokenChangeListeners.delete(Ee),z(Je))};y.tokenChangeListeners.add(Ee),y.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof y)y(v);else if("string"==typeof y){const E=Kn()[y];"function"==typeof E&&E(v)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,d.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,d.Z)(function*(){ne(Xe()&&!Es(),y.auth,"internal-error"),yield function np(){let C=null;return new Promise(y=>{"complete"!==document.readyState?(C=()=>y(),window.addEventListener("load",C)):y()}).catch(y=>{throw C&&window.removeEventListener("load",C),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function du(C){return Is.apply(this,arguments)}(y.auth);ne(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Co{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=xa._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function ip(C,y,v){return ai.apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(C,y,v){const E=st(C),O=yield tr(E,y,(0,M.m9)(v));return new Co(O,z=>ic(E,z))})).apply(this,arguments)}function uc(C,y,v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C);yield go(!1,E,"phone");const O=yield tr(E.auth,y,(0,M.m9)(v));return new Co(O,z=>$s(E,z))})).apply(this,arguments)}function rp(C,y,v){return Al.apply(this,arguments)}function Al(){return(Al=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C),O=yield tr(E.auth,y,(0,M.m9)(v));return new Co(O,z=>Ia(E,z))})).apply(this,arguments)}function tr(C,y,v){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(C,y,v){var E;const O=yield v.verify();try{let z;if(ne("string"==typeof O,C,"argument-error"),ne(v.type===pu,C,"argument-error"),z="string"==typeof y?{phoneNumber:y}:y,"session"in z){const Ee=z.session;if("phoneNumber"in z)return ne("enroll"===Ee.type,C,"internal-error"),(yield Ri(C,{idToken:Ee.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{ne("signin"===Ee.type,C,"internal-error");const Je=(null===(E=z.multiFactorHint)||void 0===E?void 0:E.uid)||z.multiFactorUid;return ne(Je,C,"missing-multi-factor-info"),(yield Jf(C,{mfaPendingCredential:Ee.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ee}=yield Dm(C,{phoneNumber:z.phoneNumber,recaptchaToken:O});return Ee}}finally{v._reset()}})).apply(this,arguments)}function gu(C,y){return ea.apply(this,arguments)}function ea(){return(ea=(0,d.Z)(function*(C,y){yield Gn((0,M.m9)(C),y)})).apply(this,arguments)}let xo=(()=>{class C{constructor(v){this.providerId=C.PROVIDER_ID,this.auth=st(v)}verifyPhoneNumber(v,E){return tr(this.auth,v,(0,M.m9)(E))}static credential(v,E){return xa._fromVerification(v,E)}static credentialFromResult(v){return C.credentialFromTaggedObject(v)}static credentialFromError(v){return C.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:O}=v;return E&&O?xa._fromTokenResponse(E,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Xr(C,y){return y?oe(y):(ne(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Ra extends Vn{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Ai(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Ai(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Ai(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Sl(C){return Ho(C.auth,new Ra(C),C.bypassAuthState)}function mu(C){const{auth:y,user:v}=C;return ne(v,y,"internal-error"),nc(v,new Ra(C),C.bypassAuthState)}function yu(C){return ta.apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(C){const{auth:y,user:v}=C;return ne(v,y,"internal-error"),Gn(v,new Ra(C),C.bypassAuthState)})).apply(this,arguments)}class ur{constructor(y,v,E,O,z=!1){this.auth=y,this.resolver=E,this.user=O,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,d.Z)(function*(E,O){y.pendingPromise={resolve:E,reject:O};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(z){y.reject(z)}});return function(E,O){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:O,postBody:z,tenantId:Ee,error:Je,type:wt}=y;if(Je)return void v.reject(Je);const Nt={auth:v.auth,requestUri:E,sessionId:O,tenantId:Ee||void 0,postBody:z||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(wt)(Nt))}catch(fn){v.reject(fn)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Sl;case"linkViaPopup":case"linkViaRedirect":return yu;case"reauthViaPopup":case"reauthViaRedirect":return mu;default:Re(this.auth,"internal-error")}}resolve(y){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kl=new at(2e3,1e4);function Pa(C,y,v){return _u.apply(this,arguments)}function _u(){return(_u=(0,d.Z)(function*(C,y,v){const E=st(C);ge(C,y,po);const O=Xr(E,v);return new sh(E,"signInViaPopup",y,O).executeNotNull()})).apply(this,arguments)}function vu(C,y,v){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C);ge(E.auth,y,po);const O=Xr(E.auth,v);return new sh(E.auth,"reauthViaPopup",y,O,E).executeNotNull()})).apply(this,arguments)}function nr(C,y,v){return dc.apply(this,arguments)}function dc(){return(dc=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C);ge(E.auth,y,po);const O=Xr(E.auth,v);return new sh(E.auth,"linkViaPopup",y,O,E).executeNotNull()})).apply(this,arguments)}let sh=(()=>{class C extends ur{constructor(v,E,O,z,Ee){super(v,E,z,Ee),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var v=this;return(0,d.Z)(function*(){const E=yield v.execute();return ne(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,d.Z)(function*(){xe(1===v.filter.length,"Popup operations only handle one event");const E=bo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(O=>{v.reject(O)}),v.resolver._isIframeWebStorageSupported(v.auth,O=>{O||v.reject(Ue(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,O;this.pollId=(null===(O=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===O?void 0:O.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,kl.get())};v()}}return C.currentPopupAction=null,C})();const es=new Map;class jr extends ur{constructor(y,v,E=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,d.Z)(function*(){let E=es.get(v.auth._key());if(!E){try{const z=(yield function Ml(C,y){return hc.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;E=()=>Promise.resolve(z)}catch(O){E=()=>Promise.reject(O)}es.set(v.auth._key(),E)}return v.bypassAuthState||es.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(E,y);if("unknown"!==y.type){if(y.eventId){const O=yield E.auth._redirectUserForId(y.eventId);if(O)return E.user=O,v().call(E,y);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function hc(){return(hc=(0,d.Z)(function*(C,y){const v=k(y),E=A(C);if(!(yield E._isAvailable()))return!1;const O="true"===(yield E._get(v));return yield E._remove(v),O})).apply(this,arguments)}function Eo(C,y){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(C,y){return A(C)._set(k(y),"true")})).apply(this,arguments)}function fc(){es.clear()}function sp(C,y){es.set(C._key(),y)}function A(C){return oe(C._redirectPersistence)}function k(C){return Ft("pendingRedirect",C.config.apiKey,C.name)}function B(C,y,v){return function Q(C,y,v){return ye.apply(this,arguments)}(C,y,v)}function ye(){return(ye=(0,d.Z)(function*(C,y,v){const E=st(C);ge(C,y,po);const O=Xr(E,v);return yield Eo(O,E),O._openRedirect(E,y,"signInViaRedirect")})).apply(this,arguments)}function Me(C,y,v){return function nt(C,y,v){return ct.apply(this,arguments)}(C,y,v)}function ct(){return(ct=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C);ge(E.auth,y,po);const O=Xr(E.auth,v);yield Eo(O,E.auth);const z=yield Js(E);return O._openRedirect(E.auth,y,"reauthViaRedirect",z)})).apply(this,arguments)}function Wt(C,y,v){return function Gt(C,y,v){return cn.apply(this,arguments)}(C,y,v)}function cn(){return(cn=(0,d.Z)(function*(C,y,v){const E=(0,M.m9)(C);ge(E.auth,y,po);const O=Xr(E.auth,v);yield go(!1,E,y.providerId),yield Eo(O,E.auth);const z=yield Js(E);return O._openRedirect(E.auth,y,"linkViaRedirect",z)})).apply(this,arguments)}function Vt(C,y){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(C,y){return yield st(C)._initializationPromise,li(C,y,!1)})).apply(this,arguments)}function li(C,y){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(C,y,v=!1){const E=st(C),O=Xr(E,y),Ee=yield new jr(E,O,v).execute();return Ee&&!v&&(delete Ee.user._redirectEventId,yield E._persistUserIfCurrent(Ee.user),yield E._setRedirectUser(null,y)),Ee})).apply(this,arguments)}function Js(C){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)(function*(C){const y=bo(`${C.uid}:::`);return C._redirectEventId=y,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),y})).apply(this,arguments)}class fs{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(y,E)&&(v=!0,this.sendToConsumer(y,E),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function oh(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return op(C);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var E;if(y.error&&!op(y)){const O=(null===(E=y.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(Ue(this.auth,O))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const E=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&E}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pc(y))}saveEventToCache(y){this.cachedEventUids.add(pc(y)),this.lastProcessedEventTime=Date.now()}}function pc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(y=>y).join("-")}function op({type:C,error:y}){return"unknown"===C&&"auth/no-auth-event"===(null==y?void 0:y.code)}function bu(C){return ap.apply(this,arguments)}function ap(){return(ap=(0,d.Z)(function*(C,y={}){return on(C,"GET","/v1/projects",y)})).apply(this,arguments)}const E0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fm=/^https?/;function ia(){return(ia=(0,d.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:y}=yield bu(C);for(const v of y)try{if(I0(v))return}catch(E){}Re(C,"unauthorized-domain")})).apply(this,arguments)}function I0(C){const y=De(),{protocol:v,hostname:E}=new URL(y);if(C.startsWith("chrome-extension://")){const Ee=new URL(C);return""===Ee.hostname&&""===E?"chrome-extension:"===v&&C.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&Ee.hostname===E}if(!Fm.test(v))return!1;if(E0.test(C))return E===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(E)}const T0=new at(3e4,6e4);function Cu(){const C=Kn().___jsl;if(null==C?void 0:C.H)for(const y of Object.keys(C.H))if(C.H[y].r=C.H[y].r||[],C.H[y].L=C.H[y].L||[],C.H[y].r=[...C.H[y].L],C.CP)for(let v=0;v<C.CP.length;v++)C.CP[v]=null}let Vm=null;function cp(C){return Vm=Vm||function lp(C){return new Promise((y,v)=>{var E,O,z;function Ee(){Cu(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Cu(),v(Ue(C,"network-request-failed"))},timeout:T0.get()})}if(null===(O=null===(E=Kn().gapi)||void 0===E?void 0:E.iframes)||void 0===O?void 0:O.Iframe)y(gapi.iframes.getContext());else{if(!(null===(z=Kn().gapi)||void 0===z?void 0:z.load)){const Je=Ur("iframefcb");return Kn()[Je]=()=>{gapi.load?Ee():v(Ue(C,"network-request-failed"))},Jr(`https://apis.google.com/js/api.js?onload=${Je}`).catch(wt=>v(wt))}Ee()}}).catch(y=>{throw Vm=null,y})}(C),Vm}const xu=new at(5e3,15e3),Nl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function up(C){const y=C.config;ne(y.authDomain,C,"auth-domain-config-required");const v=y.emulator?dn(y,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,E={apiKey:y.apiKey,appName:C.name,v:T.SDK_VERSION},O=gc.get(C.config.apiHost);O&&(E.eid=O);const z=C._getFrameworks();return z.length&&(E.fw=z.join(",")),`${v}?${(0,M.xO)(E).slice(1)}`}function lh(){return lh=(0,d.Z)(function*(C){const y=yield cp(C),v=Kn().gapi;return ne(v,C,"internal-error"),y.open({where:document.body,url:up(C),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nl,dontclear:!0},E=>new Promise(function(){var O=(0,d.Z)(function*(z,Ee){yield E.restyle({setHideOnLeave:!1});const Je=Ue(C,"network-request-failed"),wt=Kn().setTimeout(()=>{Ee(Je)},xu.get());function Nt(){Kn().clearTimeout(wt),z(E)}E.ping(Nt).then(Nt,()=>{Ee(Je)})});return function(z,Ee){return O.apply(this,arguments)}}()))}),lh.apply(this,arguments)}const Eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sa{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function oa(C,y,v,E,O,z){ne(C.config.authDomain,C,"auth-domain-config-required"),ne(C.config.apiKey,C,"invalid-api-key");const Ee={apiKey:C.config.apiKey,appName:C.name,authType:v,redirectUrl:E,v:T.SDK_VERSION,eventId:O};if(y instanceof po){y.setDefaultLanguage(C.languageCode),Ee.providerId=y.providerId||"",(0,M.xb)(y.getCustomParameters())||(Ee.customParameters=JSON.stringify(y.getCustomParameters()));for(const[wt,Nt]of Object.entries(z||{}))Ee[wt]=Nt}if(y instanceof Yr){const wt=y.getScopes().filter(Nt=>""!==Nt);wt.length>0&&(Ee.scopes=wt.join(","))}C.tenantId&&(Ee.tid=C.tenantId);const Je=Ee;for(const wt of Object.keys(Je))void 0===Je[wt]&&delete Je[wt];return`${function aa({config:C}){return C.emulator?dn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,M.xO)(Je).slice(1)}`}const Fa="webStorageSupport",Iu=class yc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cl,this._completeRedirectFn=li,this._overrideRedirectResult=sp}_openPopup(y,v,E,O){var z=this;return(0,d.Z)(function*(){var Ee;xe(null===(Ee=z.eventManagers[y._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const Je=oa(y,v,E,De(),O);return function jm(C,y,v,E=500,O=600){const z=Math.max((window.screen.availHeight-O)/2,0).toString(),Ee=Math.max((window.screen.availWidth-E)/2,0).toString();let Je="";const wt=Object.assign(Object.assign({},Eu),{width:E.toString(),height:O.toString(),top:z,left:Ee}),Nt=(0,M.z$)().toLowerCase();v&&(Je=Ge(Nt)?"_blank":v),he(Nt)&&(y=y||"http://localhost",wt.scrollbars="yes");const fn=Object.entries(wt).reduce((Ts,[Ds,_c])=>`${Ts}${Ds}=${_c},`,"");if(function Rr(C=(0,M.z$)()){var y;return Jt(C)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(Nt)&&"_self"!==Je)return function Hm(C,y){const v=document.createElement("a");v.href=C,v.target=y;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(y||"",Je),new sa(null);const ni=window.open(y||"",Je,fn);ne(ni,C,"popup-blocked");try{ni.focus()}catch(Ts){}return new sa(ni)}(y,Je,bo())})()}_openRedirect(y,v,E,O){var z=this;return(0,d.Z)(function*(){return yield z._originValidation(y),function Yf(C){Kn().location.href=C}(oa(y,v,E,De(),O)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:O,promise:z}=this.eventManagers[v];return O?Promise.resolve(O):(xe(z,"If manager is not set, promise should be"),z)}const E=this.initAndGetManager(y);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(y){var v=this;return(0,d.Z)(function*(){const E=yield function Bm(C){return lh.apply(this,arguments)}(y),O=new fs(y);return E.register("authEvent",z=>(ne(null==z?void 0:z.authEvent,y,"invalid-auth-event"),{status:O.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:O},v.iframes[y._key()]=E,O})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(Fa,{type:Fa},O=>{var z;const Ee=null===(z=null==O?void 0:O[0])||void 0===z?void 0:z[Fa];void 0!==Ee&&v(!!Ee),Re(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function wu(C){return ia.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return lr()||ce()||Jt()}};class Wm extends class zm{constructor(y){this.factorId=y}_process(y,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,E);case"signin":return this._finalizeSignIn(y,v.credential);default:return de("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Wm(y)}_finalizeEnroll(y,v,E){return function Xd(C,y){return on(C,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(C,y))}(y,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function Dl(C,y){return on(C,"POST","/v2/accounts/mfaSignIn:finalize",Qt(C,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rx=(()=>{class C{constructor(){}static assertion(v){return Wm._fromCredential(v)}}return C.FACTOR_ID="phone",C})();var D0="@firebase/auth";class A0{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,d.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(E=>{var O;y((null===(O=E)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qm(C=(0,T.getApp)()){const y=(0,T._getProvider)(C,"auth");return y.isInitialized()?y.getImmediate():function fe(C,y){const v=(0,T._getProvider)(C,"auth");if(v.isInitialized()){const O=v.getImmediate(),z=v.getOptions();if((0,M.vZ)(z,null!=y?y:{}))return O;Re(O,"already-initialized")}return v.initialize({options:y})}(C,{popupRedirectResolver:Iu,persistence:[Na,zt,Cl]})}!function S0(C){(0,T._registerComponent)(new j.wA("auth",(y,{options:v})=>{const E=y.getProvider("app").getImmediate(),O=y.getProvider("heartbeat"),{apiKey:z,authDomain:Ee}=E.options;return((Je,wt)=>{ne(z&&!z.includes(":"),"invalid-api-key",{appName:Je.name}),ne(!(null==Ee?void 0:Ee.includes(":")),"argument-error",{appName:Je.name});const Nt={apiKey:z,authDomain:Ee,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hi(C)},fn=new Pr(Je,wt,Nt);return function we(C,y){const v=(null==y?void 0:y.persistence)||[],E=(Array.isArray(v)?v:[v]).map(oe);(null==y?void 0:y.errorMap)&&C._updateErrorMap(y.errorMap),C._initializeWithPersistence(E,null==y?void 0:y.popupRedirectResolver)}(fn,v),fn})(E,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,E)=>{y.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new j.wA("auth-internal",y=>{const v=st(y.getProvider("auth").getImmediate());return new A0(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(D0,"0.20.1",function Gm(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,T.registerVersion)(D0,"0.20.1","esm2017")}("Browser")},2090:(qe,q,R)=>{"use strict";R.d(q,{$s:()=>Bt,BH:()=>Pe,DV:()=>on,Dv:()=>At,G6:()=>ne,GJ:()=>an,L:()=>K,LL:()=>De,Mn:()=>ge,Pz:()=>Xt,Sg:()=>Ie,UG:()=>me,UI:()=>Sn,US:()=>j,Wj:()=>ht,Yr:()=>Se,ZB:()=>Z,ZR:()=>we,b$:()=>Re,cI:()=>sn,d:()=>Ue,dS:()=>kn,eu:()=>xe,g5:()=>T,gK:()=>it,gQ:()=>re,h$:()=>W,hl:()=>de,hu:()=>M,jU:()=>Ce,lb:()=>jt,m9:()=>Zt,ne:()=>_e,p$:()=>G,pd:()=>$n,r3:()=>Qt,ru:()=>Be,tV:()=>ue,uI:()=>We,ug:()=>kt,vZ:()=>ei,w1:()=>je,w9:()=>wn,xO:()=>mr,xb:()=>yn,z$:()=>Oe,zI:()=>ee,zd:()=>_i});const M=function(Y,se){if(!Y)throw T(se)},T=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},F=function(Y){const se=[];let X=0;for(let Ve=0;Ve<Y.length;Ve++){let ie=Y.charCodeAt(Ve);ie<128?se[X++]=ie:ie<2048?(se[X++]=ie>>6|192,se[X++]=63&ie|128):55296==(64512&ie)&&Ve+1<Y.length&&56320==(64512&Y.charCodeAt(Ve+1))?(ie=65536+((1023&ie)<<10)+(1023&Y.charCodeAt(++Ve)),se[X++]=ie>>18|240,se[X++]=ie>>12&63|128,se[X++]=ie>>6&63|128,se[X++]=63&ie|128):(se[X++]=ie>>12|224,se[X++]=ie>>6&63|128,se[X++]=63&ie|128)}return se},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,se){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let ie=0;ie<Y.length;ie+=3){const be=Y[ie],Ke=ie+1<Y.length,ft=Ke?Y[ie+1]:0,St=ie+2<Y.length,Kt=St?Y[ie+2]:0;let oi=(15&ft)<<2|Kt>>6,Ae=63&Kt;St||(Ae=64,Ke||(oi=64)),Ve.push(X[be>>2],X[(3&be)<<4|ft>>4],X[oi],X[Ae])}return Ve.join("")},encodeString(Y,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(Y):this.encodeByteArray(F(Y),se)},decodeString(Y,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(Y):function(Y){const se=[];let X=0,Ve=0;for(;X<Y.length;){const ie=Y[X++];if(ie<128)se[Ve++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const be=Y[X++];se[Ve++]=String.fromCharCode((31&ie)<<6|63&be)}else if(ie>239&&ie<365){const St=((7&ie)<<18|(63&Y[X++])<<12|(63&Y[X++])<<6|63&Y[X++])-65536;se[Ve++]=String.fromCharCode(55296+(St>>10)),se[Ve++]=String.fromCharCode(56320+(1023&St))}else{const be=Y[X++],Ke=Y[X++];se[Ve++]=String.fromCharCode((15&ie)<<12|(63&be)<<6|63&Ke)}}return se.join("")}(this.decodeStringToByteArray(Y,se))},decodeStringToByteArray(Y,se){this.init_();const X=se?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let ie=0;ie<Y.length;){const be=X[Y.charAt(ie++)],ft=ie<Y.length?X[Y.charAt(ie)]:0;++ie;const Kt=ie<Y.length?X[Y.charAt(ie)]:64;++ie;const Ft=ie<Y.length?X[Y.charAt(ie)]:64;if(++ie,null==be||null==ft||null==Kt||null==Ft)throw Error();Ve.push(be<<2|ft>>4),64!==Kt&&(Ve.push(ft<<4&240|Kt>>2),64!==Ft&&Ve.push(Kt<<6&192|Ft))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},W=function(Y){const se=F(Y);return j.encodeByteArray(se,!0)},K=function(Y){return W(Y).replace(/\./g,"")},ue=function(Y){try{return j.decodeString(Y,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function G(Y){return Z(void 0,Y)}function Z(Y,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return se}for(const X in se)!se.hasOwnProperty(X)||!te(X)||(Y[X]=Z(Y[X],se[X]));return Y}function te(Y){return"__proto__"!==Y}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,X)=>{this.resolve=se,this.reject=X})}wrapCallback(se){return(X,Ve)=>{X?this.reject(X):this.resolve(Ve),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(X):se(X,Ve))}}}function Ie(Y,se){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=se||"demo-project",ie=Y.iat||0,be=Y.sub||Y.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:ie,exp:ie+3600,auth_time:ie,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(Ke)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Be(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return Oe().indexOf("Electron/")>=0}function je(){const Y=Oe();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ge(){return Oe().indexOf("MSAppHost/")>=0}function Se(){return!1}function ne(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){return"object"==typeof indexedDB}function xe(){return new Promise((Y,se)=>{try{let X=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(Ve);ie.onsuccess=()=>{ie.result.close(),X||self.indexedDB.deleteDatabase(Ve),Y(!0)},ie.onupgradeneeded=()=>{X=!1},ie.onerror=()=>{var be;se((null===(be=ie.error)||void 0===be?void 0:be.message)||"")}}catch(X){se(X)}})}function ee(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class we extends Error{constructor(se,X,Ve){super(X),this.code=se,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(se,X,Ve){this.service=se,this.serviceName=X,this.errors=Ve}create(se,...X){const Ve=X[0]||{},ie=`${this.service}/${se}`,be=this.errors[se],Ke=be?function Xe(Y,se){return Y.replace(Tt,(X,Ve)=>{const ie=se[Ve];return null!=ie?String(ie):`<${Ve}?>`})}(be,Ve):"Error";return new we(ie,`${this.serviceName}: ${Ke} (${ie}).`,Ve)}}const Tt=/\{\$([^}]+)}/g;function sn(Y){return JSON.parse(Y)}function Xt(Y){return JSON.stringify(Y)}const at=function(Y){let se={},X={},Ve={},ie="";try{const be=Y.split(".");se=sn(ue(be[0])||""),X=sn(ue(be[1])||""),ie=be[2],Ve=X.d||{},delete X.d}catch(be){}return{header:se,claims:X,data:Ve,signature:ie}},wn=function(Y){const X=at(Y).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},an=function(Y){const se=at(Y).claims;return"object"==typeof se&&!0===se.admin};function Qt(Y,se){return Object.prototype.hasOwnProperty.call(Y,se)}function on(Y,se){if(Object.prototype.hasOwnProperty.call(Y,se))return Y[se]}function yn(Y){for(const se in Y)if(Object.prototype.hasOwnProperty.call(Y,se))return!1;return!0}function Sn(Y,se,X){const Ve={};for(const ie in Y)Object.prototype.hasOwnProperty.call(Y,ie)&&(Ve[ie]=se.call(X,Y[ie],ie,Y));return Ve}function ei(Y,se){if(Y===se)return!0;const X=Object.keys(Y),Ve=Object.keys(se);for(const ie of X){if(!Ve.includes(ie))return!1;const be=Y[ie],Ke=se[ie];if(Fn(be)&&Fn(Ke)){if(!ei(be,Ke))return!1}else if(be!==Ke)return!1}for(const ie of Ve)if(!X.includes(ie))return!1;return!0}function Fn(Y){return null!==Y&&"object"==typeof Y}function mr(Y){const se=[];for(const[X,Ve]of Object.entries(Y))Array.isArray(Ve)?Ve.forEach(ie=>{se.push(encodeURIComponent(X)+"="+encodeURIComponent(ie))}):se.push(encodeURIComponent(X)+"="+encodeURIComponent(Ve));return se.length?"&"+se.join("&"):""}function _i(Y){const se={};return Y.replace(/^\?/,"").split("&").forEach(Ve=>{if(Ve){const[ie,be]=Ve.split("=");se[decodeURIComponent(ie)]=decodeURIComponent(be)}}),se}function $n(Y){const se=Y.indexOf("?");if(!se)return"";const X=Y.indexOf("#",se);return Y.substring(se,X>0?X:void 0)}class re{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let se=1;se<this.blockSize;++se)this.pad_[se]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(se,X){X||(X=0);const Ve=this.W_;if("string"==typeof se)for(let Ft=0;Ft<16;Ft++)Ve[Ft]=se.charCodeAt(X)<<24|se.charCodeAt(X+1)<<16|se.charCodeAt(X+2)<<8|se.charCodeAt(X+3),X+=4;else for(let Ft=0;Ft<16;Ft++)Ve[Ft]=se[X]<<24|se[X+1]<<16|se[X+2]<<8|se[X+3],X+=4;for(let Ft=16;Ft<80;Ft++){const oi=Ve[Ft-3]^Ve[Ft-8]^Ve[Ft-14]^Ve[Ft-16];Ve[Ft]=4294967295&(oi<<1|oi>>>31)}let Kt,Tn,ie=this.chain_[0],be=this.chain_[1],Ke=this.chain_[2],ft=this.chain_[3],St=this.chain_[4];for(let Ft=0;Ft<80;Ft++){Ft<40?Ft<20?(Kt=ft^be&(Ke^ft),Tn=1518500249):(Kt=be^Ke^ft,Tn=1859775393):Ft<60?(Kt=be&Ke|ft&(be|Ke),Tn=2400959708):(Kt=be^Ke^ft,Tn=3395469782);const oi=(ie<<5|ie>>>27)+Kt+St+Tn+Ve[Ft]&4294967295;St=ft,ft=Ke,Ke=4294967295&(be<<30|be>>>2),be=ie,ie=oi}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+be&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+ft&4294967295,this.chain_[4]=this.chain_[4]+St&4294967295}update(se,X){if(null==se)return;void 0===X&&(X=se.length);const Ve=X-this.blockSize;let ie=0;const be=this.buf_;let Ke=this.inbuf_;for(;ie<X;){if(0===Ke)for(;ie<=Ve;)this.compress_(se,ie),ie+=this.blockSize;if("string"==typeof se){for(;ie<X;)if(be[Ke]=se.charCodeAt(ie),++Ke,++ie,Ke===this.blockSize){this.compress_(be),Ke=0;break}}else for(;ie<X;)if(be[Ke]=se[ie],++Ke,++ie,Ke===this.blockSize){this.compress_(be),Ke=0;break}}this.inbuf_=Ke,this.total_+=X}digest(){const se=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&X,X/=256;this.compress_(this.buf_);let Ve=0;for(let ie=0;ie<5;ie++)for(let be=24;be>=0;be-=8)se[Ve]=this.chain_[ie]>>be&255,++Ve;return se}}function _e(Y,se){const X=new pe(Y,se);return X.subscribe.bind(X)}class pe{constructor(se,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{se(this)}).catch(Ve=>{this.error(Ve)})}next(se){this.forEachObserver(X=>{X.next(se)})}error(se){this.forEachObserver(X=>{X.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,X,Ve){let ie;if(void 0===se&&void 0===X&&void 0===Ve)throw new Error("Missing Observer.");ie=function yt(Y,se){if("object"!=typeof Y||null===Y)return!1;for(const X of se)if(X in Y&&"function"==typeof Y[X])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:X,complete:Ve},void 0===ie.next&&(ie.next=vt),void 0===ie.error&&(ie.error=vt),void 0===ie.complete&&(ie.complete=vt);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Ke){}}),this.observers.push(ie),be}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,se)}sendOne(se,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{X(this.observers[se])}catch(Ve){"undefined"!=typeof console&&console.error&&console.error(Ve)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vt(){}const At=function(Y,se,X,Ve){let ie;if(Ve<se?ie="at least "+se:Ve>X&&(ie=0===X?"none":"no more than "+X),ie)throw new Error(Y+" failed: Was called with "+Ve+(1===Ve?" argument.":" arguments.")+" Expects "+ie+".")};function it(Y,se){return`${Y} failed: ${se} argument `}function ht(Y,se,X,Ve){if((!Ve||X)&&"function"!=typeof X)throw new Error(it(Y,se)+"must be a valid function.")}function jt(Y,se,X,Ve){if((!Ve||X)&&("object"!=typeof X||null===X))throw new Error(it(Y,se)+"must be a valid context object.")}const kn=function(Y){const se=[];let X=0;for(let Ve=0;Ve<Y.length;Ve++){let ie=Y.charCodeAt(Ve);if(ie>=55296&&ie<=56319){const be=ie-55296;Ve++,M(Ve<Y.length,"Surrogate pair missing trail surrogate."),ie=65536+(be<<10)+(Y.charCodeAt(Ve)-56320)}ie<128?se[X++]=ie:ie<2048?(se[X++]=ie>>6|192,se[X++]=63&ie|128):ie<65536?(se[X++]=ie>>12|224,se[X++]=ie>>6&63|128,se[X++]=63&ie|128):(se[X++]=ie>>18|240,se[X++]=ie>>12&63|128,se[X++]=ie>>6&63|128,se[X++]=63&ie|128)}return se},kt=function(Y){let se=0;for(let X=0;X<Y.length;X++){const Ve=Y.charCodeAt(X);Ve<128?se++:Ve<2048?se+=2:Ve>=55296&&Ve<=56319?(se+=4,X++):se+=3}return se};function Bt(Y,se=1e3,X=2){const Ve=se*Math.pow(X,Y),ie=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+ie)}function Zt(Y){return Y&&Y._delegate?Y._delegate:Y}},1015:(qe,q,R)=>{"use strict";var d=R(5e3);let M=null;function T(){return M}const W=new d.OlP("DocumentToken");let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ue(){return(0,d.LFG)(Z)}()},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let Z=(()=>{class n extends K{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(t){const i=T().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=T().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){te()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){te()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return new Z((0,d.LFG)(W))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ie(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ce(n){const e=(0,d.LFG)(W).location;return new Re((0,d.LFG)(K),e&&e.origin||"")}()},providedIn:"root"}),n})();const Be=new d.OlP("appBaseHref");let Re=(()=>{class n extends me{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ie(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+We(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+We(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(K),d.LFG(Be,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends me{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ie(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+We(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+We(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(K),d.LFG(Be,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(t,i){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Oe(ne(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+We(i))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ie,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(d.LFG(me),d.LFG(K))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return new je((0,d.LFG)(me),(0,d.LFG)(K))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}function Vo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Bo=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class wa{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wa(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const u=i.get(s);i.move(u,a),ho(u,r)}});for(let r=0,s=i.length;r<s;r++){const u=i.get(r).context;u.index=r,u.count=s,u.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ho(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ho(n,e){n.context.$implicit=e.item}let Di=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new jn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Md("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Md("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class jn{constructor(){this.$implicit=null,this.ngIf=null}}function Md(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class jo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Zr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Or=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new jo(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Zr,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ql=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Pd{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Tm{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Us=new Tm,Dm=new Pd;let nu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return Us;if((0,d.F4k)(t))return Dm;throw function Ai(n,e){return new d.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1}),n})(),Hs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function Xi(n){return"server"===n}let ec=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new tc((0,d.LFG)(W),window)}),n})();class tc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ws(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=iu(this.window.history)||iu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function iu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gn{}class go extends class hl extends class j{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function V(n){M||(M=n)}(new go)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nc(){return Hn=Hn||document.querySelector("base"),Hn?Hn.getAttribute("href"):null}();return null==t?null:function Ho(n){fl=fl||document.createElement("a"),fl.setAttribute("href",n);const e=fl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vo(document.cookie,e)}}let fl,Hn=null;const zi=new d.OlP("TRANSITION_ID"),fi=[{provide:d.ip1,useFactory:function ic(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=T(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[zi,W,d.zs3],multi:!0}];class $s{static init(){(0,d.VLi)(new $s)}addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const u=function(h){a=a||h,s--,0==s&&i(a)};r.forEach(function(h){h.whenStable(u)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?T().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Wi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ia=new d.OlP("EventManagerPlugins");let ws=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ia),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=T().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Lr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n extends Lr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(yo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yo))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function yo(n){T().remove(n)}const Rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zo=/%COMP%/g;function _o(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?_o(n,r,t):(r=r.replace(zo,n),t.push(r))}return t}function Ye(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let sc=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Xn(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Cs(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case d.ifc.ShadowDom:return new ou(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=_o(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ws),d.LFG(mo),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Xn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Rt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Rt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Rt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ye(i)):this.eventManager.addEventListener(e,t,Ye(i))}}class Cs extends Xn{constructor(e,t,i,r){super(e),this.component=i;const s=_o(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Ta(n){return"_ngcontent-%COMP%".replace(zo,n)}(r+"-"+i.id),this.hostAttr=function Wf(n){return"_nghost-%COMP%".replace(zo,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class ou extends Xn{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_o(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const u=document.createElement("style");u.textContent=s[a],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gl=(()=>{class n extends su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const $f=["alt","control","meta","shift"],$d={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$i={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xs=(()=>{class n extends su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if($f.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=a,u}static getEventFullKey(t){let i="",r=function Da(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Wo.hasOwnProperty(e)&&(e=Wo[e]))}return $d[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),$f.forEach(s=>{s!=r&&$i[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Gd=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Aa(){go.makeCurrent(),$s.init()},multi:!0},{provide:W,useFactory:function Gf(){return(0,d.RDi)(document),document},deps:[]}]),ml=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Fr(){return new d.qLn},deps:[]},{provide:Ia,useClass:gl,multi:!0,deps:[W,d.R0b,d.Lbi]},{provide:Ia,useClass:xs,multi:!0,deps:[W]},{provide:sc,useClass:sc,deps:[ws,mo,d.AFp]},{provide:d.FYo,useExisting:sc},{provide:Lr,useExisting:mo},{provide:mo,useClass:mo,deps:[W]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ws,useClass:ws,deps:[Ia,d.R0b]},{provide:Gn,useClass:Wi,deps:[]}];let au=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:zi,useExisting:d.AFp},fi]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:ml,imports:[Hs,d.hGG]}),n})();"undefined"!=typeof window&&window;let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(ac),i},providedIn:"root"}),n})(),ac=(()=>{class n extends wl{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(i),(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function vo(n){return new ac(n.get(W))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var qo=R(5867);const Kf_firebase={apiKey:"AIzaSyC4YlcWMxvOSow-y9jsChvvQrSHGVuF5QA",authDomain:"proyectopt1.firebaseapp.com",projectId:"proyectopt1",storageBucket:"proyectopt1.appspot.com",messagingSenderId:"377872506607",appId:"1:377872506607:web:fab0a80a82724e6248c51a",measurementId:"G-XJF7ZRJ5TL"};var zt=R(5813);class Zo{constructor(e){return e}}class Cl{constructor(){return(0,qo.C6)()}}const bo=new d.OlP("angularfire2._apps"),nh={provide:Zo,useFactory:function xl(n){return n&&1===n.length?n[0]:new Zo((0,qo.Mq)())},deps:[[new d.FiY,bo]]},Kn={provide:Cl,deps:[[new d.FiY,bo]]};function Yf(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Zo(i)}}let Es=(()=>{class n{constructor(t){(0,qo.KN)("angularfire",zt.q4.full,"core"),(0,qo.KN)("angularfire",zt.q4.full,"app"),(0,qo.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nh,Kn]}),n})();function lc(n,...e){return{ngModule:Es,providers:[{provide:bo,useFactory:Yf(n),multi:!0,deps:[d.R0b,d.zs3,zt.HU,...e]}]}}var Cn=R(8996),Pi=R(8306);const{isArray:Qr}=Array,{getPrototypeOf:Yo,prototype:uu,keys:Qo}=Object;function cc(n){if(1===n.length){const e=n[0];if(Qr(e))return{args:e,keys:null};if(function Tl(n){return n&&"object"==typeof n&&Yo(n)===uu}(e)){const t=Qo(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Br=R(8421),Ks=R(7669),Gi=R(5403),Pt=R(4004);const{isArray:Na}=Array;function Dl(n){return(0,Pt.U)(e=>function Jf(n,e){return Na(e)?n(...e):n(e)}(n,e))}function du(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let hu=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Jr=(()=>{class n extends hu{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Ur=new d.OlP("NgValueAccessor"),ds={provide:Ur,useExisting:(0,d.Gpc)(()=>_r),multi:!0},fu=new d.OlP("CompositionEventMode");let _r=(()=>{class n extends hu{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xf(){const n=T()?T().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(fu,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[d._Bn([ds]),d.qOj]}),n})();function hs(n){return null==n||0===n.length}function ep(n){return null!=n&&"number"==typeof n.length}const _n=new d.OlP("NgValidators"),Xo=new d.OlP("NgAsyncValidators"),x0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ys{static min(e){return function pu(n){return e=>{if(hs(e.value)||hs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function rh(n){return e=>{if(hs(e.value)||hs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function tp(n){return hs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function np(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Co(n){return hs(n.value)||x0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ip(n){return e=>hs(e.value)||!ep(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ai(n){return e=>ep(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return uc(e)}static nullValidator(e){return null}static compose(e){return xo(e)}static composeAsync(e){return Ra(e)}}function uc(n){if(!n)return Qs;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(hs(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Qs(n){return null}function rp(n){return null!=n}function Al(n){const e=(0,d.QGY)(n)?(0,Cn.D)(n):n;return(0,d.CqO)(e),e}function tr(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function vr(n,e){return e.map(t=>t(n))}function ea(n){return n.map(e=>function gu(n){return!n.validate}(e)?e:t=>e.validate(t))}function xo(n){if(!n)return null;const e=n.filter(rp);return 0==e.length?null:function(t){return tr(vr(t,e))}}function Xr(n){return null!=n?xo(ea(n)):null}function Ra(n){if(!n)return null;const e=n.filter(rp);return 0==e.length?null:function(t){return function Is(...n){const e=(0,Ks.jO)(n),{args:t,keys:i}=cc(n),r=new Pi.y(s=>{const{length:a}=t;if(!a)return void s.complete();const u=new Array(a);let h=a,g=a;for(let _=0;_<a;_++){let b=!1;(0,Br.Xf)(t[_]).subscribe((0,Gi.x)(s,I=>{b||(b=!0,g--),u[_]=I},()=>h--,void 0,()=>{(!h||!b)&&(g||s.next(i?du(i,u):u),s.complete())}))}});return e?r.pipe(Dl(e)):r}(vr(t,e).map(Al)).pipe((0,Pt.U)(tr))}}function Sl(n){return null!=n?Ra(ea(n)):null}function mu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yu(n){return n._rawValidators}function ta(n){return n._rawAsyncValidators}function ur(n){return n?Array.isArray(n)?n:[n]:[]}function kl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Pa(n,e){const t=ur(e);return ur(n).forEach(r=>{kl(t,r)||t.push(r)}),t}function _u(n,e){return ur(e).filter(t=>!kl(n,t))}class vu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Xr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dr extends vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr extends vu{get formDirective(){return null}get path(){return null}}class dc{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let es=(()=>{class n extends dc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dr,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[d.qOj]}),n})(),jr=(()=>{class n extends dc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nr,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[d.qOj]}),n})();function cn(n,e){return[...e.path,n]}function Vt(n,e){Js(n,e),e.valueAccessor.writeValue(n.value),function Io(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pc(n,e)})}(n,e),function op(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fs(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function La(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qi(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),br(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function li(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Js(n,e){const t=yu(n);null!==e.validator?n.setValidators(mu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=ta(n);null!==e.asyncValidator?n.setAsyncValidators(mu(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();li(e._rawValidators,r),li(e._rawAsyncValidators,r)}function br(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=yu(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=ta(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return li(e._rawValidators,i),li(e._rawAsyncValidators,i),t}function pc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oh(n,e){Js(n,e)}function ia(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function T0(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Cu(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===_r?t=s:function I0(n){return Object.getPrototypeOf(n.constructor)===Jr}(s)?i=s:r=s}),r||i||t||null}function lp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const xu="VALID",ah="INVALID",ra="PENDING",Nl="DISABLED";function up(n){return(mc(n)?n.validators:n)||null}function Bm(n){return Array.isArray(n)?Xr(n):n||null}function lh(n,e){return(mc(e)?e.asyncValidators:n)||null}function Eu(n){return Array.isArray(n)?Sl(n):n||null}function mc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const dp=n=>n instanceof ts,ch=n=>n instanceof oa;function sa(n){return dp(n)?n.value:n.getRawValue()}function jm(n,e){const t=ch(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[e])throw new d.vHH(1001,"")}function Hm(n,e){ch(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new d.vHH(1002,"")})}class hp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Bm(this._rawValidators),this._composedAsyncValidatorFn=Eu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===ah}get pending(){return this.status==ra}get disabled(){return this.status===Nl}get enabled(){return this.status!==Nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Bm(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Eu(e)}addValidators(e){this.setValidators(Pa(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pa(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_u(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_u(e,this._rawAsyncValidators))}hasValidator(e){return kl(this._rawValidators,e)}hasAsyncValidator(e){return kl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ra,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nl,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===ra)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nl:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ra,this._hasOwnPendingAsyncValidator=!0;const t=Al(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function gc(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=ch(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof aa)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Nl:this.errors?ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ra)?ra:this._anyControlsHaveStatus(ah)?ah:xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ts extends hp{constructor(e=null,t,i){super(up(t),lh(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mc(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class oa extends hp{constructor(e,t,i){super(up(t),lh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Hm(this,e),Object.keys(e).forEach(i=>{jm(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=sa(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class aa extends hp{constructor(e,t,i){super(up(t),lh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Hm(this,e),e.forEach((i,r)=>{jm(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>sa(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Fa={provide:nr,useExisting:(0,d.Gpc)(()=>Iu)},yc=(()=>Promise.resolve(null))();let Iu=(()=>{class n extends nr{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new oa({},Xr(t),Sl(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yc.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Vt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yc.then(()=>{const i=this._findContainer(t.path),r=new oa({});oh(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){yc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,T0(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_n,10),d.Y36(Xo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Fa]),d.qOj]}),n})();const S0={provide:dr,useExisting:(0,d.Gpc)(()=>C)},qm=(()=>Promise.resolve(null))();let C=(()=>{class n extends dr{constructor(t,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new ts,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Cu(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),ia(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qm.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;qm.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?cn(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nr,9),d.Y36(_n,10),d.Y36(Xo,10),d.Y36(Ur,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([S0]),d.qOj,d.TTD]}),n})(),y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ni=new d.OlP("NgModelWithFormControlWarning"),Ts={provide:dr,useExisting:(0,d.Gpc)(()=>Ds)};let Ds=(()=>{class n extends dr{constructor(t,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Cu(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&qi(i,this,!1),Vt(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ia(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&qi(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(_n,10),d.Y36(Xo,10),d.Y36(Ur,10),d.Y36(ni,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Ts]),d.qOj,d.TTD]}),n})();const _c={provide:nr,useExisting:(0,d.Gpc)(()=>vc)};let vc=(()=>{class n extends nr{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(br(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Vt(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){qi(t.control||null,t,!1),lp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,T0(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(qi(i||null,t),dp(r)&&(Vt(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);oh(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function bu(n,e){return br(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Js(this.form,this),this._oldForm&&br(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_n,10),d.Y36(Xo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([_c]),d.qOj,d.TTD]}),n})();const Ym={provide:dr,useExisting:(0,d.Gpc)(()=>Va)};let Va=(()=>{class n extends dr{constructor(t,i,r,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Cu(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ia(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(nr,13),d.Y36(_n,10),d.Y36(Xo,10),d.Y36(Ur,10),d.Y36(ni,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Ym]),d.qOj,d.TTD]}),n})(),uh=(()=>{class n{constructor(){this._validator=Qs}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Qs,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const rD={provide:_n,useExisting:(0,d.Gpc)(()=>Jm),multi:!0};let Jm=(()=>{class n extends uh{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>uc(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[d._Bn([rD]),d.qOj]}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ee]]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[fx]}),n})(),Xm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ni,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[fx]}),n})();var $e=R(5861),la=R(9681),Rl=R(4859),H=R(2090),ca=R(1877);const L0=new Map,sD={activated:!1,tokenObservers:[]},oD={initialized:!1,enabled:!1};function Cr(n){return L0.get(n)||sD}function ua(n,e){L0.set(n,e)}function ey(){return oD}class LR{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,$e.Z)(function*(){t.stop();try{t.pending=new H.BH,yield function gx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new H.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const wi=new H.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ty(n){if(!Cr(n).activated)throw wi.create("use-before-activation",{appName:n.name})}function iy(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,$e.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(e),headers:i};let a,u;try{a=yield fetch(n,s)}catch(b){throw wi.create("fetch-network-error",{originalErrorMessage:b.message})}if(200!==a.status)throw wi.create("fetch-status-error",{httpStatus:a.status});try{u=yield a.json()}catch(b){throw wi.create("fetch-parse-error",{originalErrorMessage:b.message})}const h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const g=1e3*Number(h[1]),_=Date.now();return{token:u.token,expireTimeMillis:_+g,issuedAtTimeMillis:_}})).apply(this,arguments)}function mx(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ku="firebase-app-check-store";let sy=null;function oy(){return sy||(sy=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(wi.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ku,{keyPath:"compositeKey"})}}catch(t){e(wi.create("storage-open",{originalErrorMessage:t.message}))}}),sy)}function j0(){return(j0=(0,$e.Z)(function*(n,e){const i=(yield oy()).transaction(ku,"readwrite"),s=i.objectStore(ku).put({compositeKey:n,value:e});return new Promise((a,u)=>{s.onsuccess=h=>{a()},i.onerror=h=>{var g;u(wi.create("storage-set",{originalErrorMessage:null===(g=h.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Mu=new ca.Yd("@firebase/app-check");function $0(n,e){return(0,H.hl)()?function dD(n,e){return function yx(n,e){return j0.apply(this,arguments)}(function z0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function G0(){return ey().enabled}function q0(){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,$e.Z)(function*(){const n=ey();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gD={error:"UNKNOWN_ERROR"};function vx(n){return H.US.encodeString(JSON.stringify(n),!1)}function yp(n){return ly.apply(this,arguments)}function ly(){return(ly=(0,$e.Z)(function*(n,e=!1){const t=n.app;ty(t);const i=Cr(t);let s,r=i.token;if(!r){const h=yield i.cachedTokenPromise;h&&mh(h)&&(r=h)}if(!e&&r&&mh(r))return{token:r.token};let u,a=!1;if(G0()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iy(mx(t,yield q0()),n.heartbeatServiceProvider).then(g=>(i.exchangeTokenPromise=void 0,g)),a=!0);const h=yield i.exchangeTokenPromise;return yield $0(t,h),ua(t,Object.assign(Object.assign({},i),{token:h})),{token:h.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(h=>(i.exchangeTokenPromise=void 0,h)),a=!0),r=yield i.exchangeTokenPromise}catch(h){"appCheck/throttled"===h.code?Mu.warn(h.message):Mu.error(h),s=h}return r?(u={token:r.token},ua(t,Object.assign(Object.assign({},i),{token:r})),yield $0(t,r)):u=bx(s),a&&K0(t,u),u})).apply(this,arguments)}function cy(n,e){const t=Cr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function vp(n){const{app:e}=n,t=Cr(e);let i=t.tokenRefresher;i||(i=function uy(n){const{app:e}=n;return new LR((0,$e.Z)(function*(){let i;if(i=Cr(e).token?yield yp(n,!0):yield yp(n),i.error)throw i.error}),()=>!0,()=>{const t=Cr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ua(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function K0(n,e){const t=Cr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function mh(n){return n.expireTimeMillis-Date.now()>0}function bx(n){return{token:vx(gD),error:n}}class Y0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Cr(this.app);for(const t of e)cy(this.app,t.next);return Promise.resolve()}}const nv="app-check-internal";!function Mx(){(0,la._registerComponent)(new Rl.wA("app-check",n=>function bp(n,e){return new Y0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(nv).initialize()})),(0,la._registerComponent)(new Rl.wA(nv,n=>function mD(n){return{getToken:e=>yp(n,e),addTokenListener:e=>function _p(n,e,t,i){const{app:r}=n,s=Cr(r),a={next:t,error:i,type:e};if(ua(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,a]})),s.token&&mh(s.token)){const u=s.token;Promise.resolve().then(()=>{t({token:u.token}),vp(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>vp(n))}(n,"INTERNAL",e),removeTokenListener:e=>cy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,la.registerVersion)("@firebase/app-check","0.5.8")}();class yh{constructor(){return(0,zt.vb)("app-check")}}"undefined"!=typeof window&&window;var Nu=R(198);function xD(n){return new Pi.y(function(e){return{unsubscribe:(0,Nu.v)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class av{constructor(e){return e}}const fy=new d.OlP("angularfire2.auth-instances");function TD(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new av(i)}}const lv={provide:class ID{constructor(){return(0,zt.vb)("auth")}},deps:[[new d.FiY,fy]]},$R={provide:av,useFactory:function Ox(n,e){const t=(0,zt.JM)("auth",n,e);return t&&new av(t)},deps:[[new d.FiY,fy],Zo]};let GR=(()=>{class n{constructor(){(0,qo.KN)("angularfire",zt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$R,lv]}),n})();function qR(n,...e){return{ngModule:GR,providers:[{provide:fy,useFactory:TD(n),multi:!0,deps:[d.R0b,d.zs3,zt.HU,Cl,[new d.FiY,yh],...e]}]}}const ZR=(0,zt.u3)(xD,!0);var Hr=R(2011),fa=R(7579);function qt(...n){const e=(0,Ks.yG)(n);return(0,Cn.D)(n,e)}var uv=R(6451),my=R(5363),ns=R(4482);function zr(n,e){return(0,ns.e)((t,i)=>{let r=null,s=0,a=!1;const u=()=>a&&!r&&i.complete();t.subscribe((0,Gi.x)(i,h=>{null==r||r.unsubscribe();let g=0;const _=s++;(0,Br.Xf)(n(h,_)).subscribe(r=(0,Gi.x)(i,b=>i.next(e?e(h,b,_,g++):b),()=>{r=null,u()}))},()=>{a=!0,u()}))})}var zx=R(6063);class BD extends fa.x{constructor(e=1/0,t=1/0,i=zx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;t||(i.push(e),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!e.closed;a+=i?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=t.now();let u=0;for(let h=1;h<i.length&&i[h]<=a;h+=2)u=h;u&&i.splice(0,u+1)}}}var Wx=R(3099);function dv(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,Wx.B)({connector:()=>new BD(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const yy=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ir(n,e){return(0,ns.e)((t,i)=>{let r=0;t.subscribe((0,Gi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Tp=R(5698);function Gx(n){return(0,ns.e)((e,t)=>{let i=!1;e.subscribe((0,Gi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function qx(n=cP){return(0,ns.e)((e,t)=>{let i=!1;e.subscribe((0,Gi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function cP(){return new yy}var Ou=R(4671);function Lu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ir((r,s)=>n(r,s,i)):Ou.y,(0,Tp.q)(1),t?Gx(e):qx(()=>new yy))}var hv=R(576);function Zx(n,e){return(0,hv.m)(e)?zr(()=>n,e):zr(()=>n)}var Dp=R(9468),Ba=R(127);const _h=new d.OlP("angularfire2.auth.use-emulator"),Ap=new d.OlP("angularfire2.auth.settings"),fv=new d.OlP("angularfire2.auth.tenant-id"),Sp=new d.OlP("angularfire2.auth.langugage-code"),kp=new d.OlP("angularfire2.auth.use-device-language"),_y=new d.OlP("angularfire.auth.persistence"),Kx=(n,e,t,i,r,s,a,u)=>(0,Hr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const h=e.runOutsideAngular(()=>n.auth());if(t&&h.useEmulator(...t),i&&(h.tenantId=i),h.languageCode=r,s&&h.useDeviceLanguage(),a)for(const[g,_]of Object.entries(a))h.settings[g]=_;return u&&h.setPersistence(u),h},[t,i,r,s,a,u]);let pv=(()=>{class n{constructor(t,i,r,s,a,u,h,g,_,b,I,S){const P=new fa.x,U=qt(void 0).pipe((0,my.Q)(a.outsideAngular),zr(()=>s.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,Pt.U)(()=>(0,Hr.on)(t,s,i)),(0,Pt.U)(J=>Kx(J,s,u,g,_,b,h,I)),dv({bufferSize:1,refCount:!1}));if(Xi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qt(null);else{U.pipe(Lu()).subscribe();const le=U.pipe(zr(Ne=>Ne.getRedirectResult().then(ke=>ke,()=>null)),zt.iC,dv({bufferSize:1,refCount:!1})),Te=U.pipe(zr(Ne=>new Pi.y(ke=>({unsubscribe:s.runOutsideAngular(()=>Ne.onAuthStateChanged(tt=>ke.next(tt),tt=>ke.error(tt),()=>ke.complete()))})))),He=U.pipe(zr(Ne=>new Pi.y(ke=>({unsubscribe:s.runOutsideAngular(()=>Ne.onIdTokenChanged(tt=>ke.next(tt),tt=>ke.error(tt),()=>ke.complete()))}))));this.authState=le.pipe(Zx(Te),(0,Dp.R)(a.outsideAngular),(0,my.Q)(a.insideAngular)),this.user=le.pipe(Zx(He),(0,Dp.R)(a.outsideAngular),(0,my.Q)(a.insideAngular)),this.idToken=this.user.pipe(zr(Ne=>Ne?(0,Cn.D)(Ne.getIdToken()):qt(null))),this.idTokenResult=this.user.pipe(zr(Ne=>Ne?(0,Cn.D)(Ne.getIdTokenResult()):qt(null))),this.credential=(0,uv.T)(le,P,this.authState.pipe(ir(Ne=>!Ne))).pipe((0,Pt.U)(Ne=>(null==Ne?void 0:Ne.user)?Ne:null),(0,Dp.R)(a.outsideAngular),(0,my.Q)(a.insideAngular))}return(0,Hr.pX)(this,U,s,{spy:{apply:(J,le,Te)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Te.then(He=>P.next(He))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hr.Dh),d.LFG(Hr.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zt.HU),d.LFG(_h,8),d.LFG(Ap,8),d.LFG(fv,8),d.LFG(Sp,8),d.LFG(kp,8),d.LFG(_y,8),d.LFG(yh,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gv=(()=>{class n{constructor(){Ba.Z.registerVersion("angularfire",zt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[pv]}),n})();var jD=R(4986),vy=R(8189);function by(...n){return function Yx(){return(0,vy.J)(1)}()((0,Cn.D)(n,(0,Ks.yG)(n)))}function Mp(...n){const e=(0,Ks.yG)(n);return(0,ns.e)((t,i)=>{(e?by(n,t,e):by(n,t)).subscribe(i)})}function wy(){return(0,ns.e)((n,e)=>{let t,i=!1;n.subscribe((0,Gi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Qx(n,e,t,i,r){return(s,a)=>{let u=t,h=e,g=0;s.subscribe((0,Gi.x)(a,_=>{const b=g++;h=u?n(h,_,b):(u=!0,_),i&&a.next(h)},r&&(()=>{u&&a.next(h),a.complete()})))}}function gs(n,e){return(0,ns.e)(Qx(n,e,arguments.length>=2,!0))}function vh(n,e=Ou.y){return n=null!=n?n:HD,(0,ns.e)((t,i)=>{let r,s=!0;t.subscribe((0,Gi.x)(i,a=>{const u=e(a);(s||!n(r,u))&&(s=!1,r=u,i.next(a))}))})}function HD(n,e){return n===e}R(5881);var xt,zD=R(3942),mv="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ua={},Fu=Fu||{},nn=mv||self;function bh(){}function Cy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yv="closure_uid_"+(1e9*Math.random()>>>0),_v=0;function WD(n,e,t){return n.call.apply(n.bind,arguments)}function $D(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function xr(n,e,t){return(xr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WD:$D).apply(null,arguments)}function Ol(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var a=Array(arguments.length-2),u=2;u<arguments.length;u++)a[u-2]=arguments[u];return e.prototype[r].apply(i,a)}}function Cc(){this.s=this.s,this.o=this.o}var Ch={};Cc.prototype.s=!1,Cc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Jx(n){return Object.prototype.hasOwnProperty.call(n,yv)&&n[yv]||(n[yv]=++_v)}(this);delete Ch[n]}},Cc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},eE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function tE(n){return Array.prototype.concat.apply([],arguments)}function Do(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function xh(n){return/^[\s\xa0]*$/.test(n)}var rs,vv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function is(n,e){return-1!=n.indexOf(e)}function xy(n,e){return n<e?-1:n>e?1:0}e:{var nE=nn.navigator;if(nE){var iE=nE.userAgent;if(iE){rs=iE;break e}}rs=""}function bv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function rE(n){const e={};for(const t in n)e[t]=n[t];return e}var wv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<wv.length;s++)t=wv[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Ey(n){return Ey[" "](n),n}Ey[" "]=bh;var xv,n,YD=is(rs,"Opera"),Np=is(rs,"Trident")||is(rs,"MSIE"),QD=is(rs,"Edge"),Rp=QD||Np,sE=is(rs,"Gecko")&&!(is(rs.toLowerCase(),"webkit")&&!is(rs,"Edge"))&&!(is(rs,"Trident")||is(rs,"MSIE"))&&!is(rs,"Edge"),oE=is(rs.toLowerCase(),"webkit")&&!is(rs,"Edge");function Cv(){var n=nn.document;return n?n.documentMode:void 0}e:{var eo="",aE=(n=rs,sE?/rv:([^\);]+)(\)|;)/.exec(n):QD?/Edge\/([\d\.]+)/.exec(n):Np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):oE?/WebKit\/(\S+)/.exec(n):YD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aE&&(eo=aE?aE[1]:""),Np){var lE=Cv();if(null!=lE&&lE>parseFloat(eo)){xv=String(lE);break e}}xv=eo}var cE={};var dP=nn.document&&Np&&(Cv()||parseInt(xv,10))||void 0,hE=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{nn.addEventListener("test",bh,e),nn.removeEventListener("test",bh,e)}catch(t){}return n}();function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Pp(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sE){e:{try{Ey(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ev[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Pp.Z.h.call(this)}}Ir.prototype.h=function(){this.defaultPrevented=!0},Er(Pp,Ir);var Ev={2:"touch",3:"pen",4:"mouse"};Pp.prototype.h=function(){Pp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Op="closure_listenable_"+(1e6*Math.random()|0),JD=0;function XD(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++JD,this.ca=this.fa=!1}function Ty(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Dy(n){this.src=n,this.g={},this.h=0}function Iv(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=Xx(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Ty(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Eh(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}Dy.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=Eh(n,e,i,r);return-1<a?(e=n[a],t||(e.fa=!1)):((e=new XD(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var xc="closure_lm_"+(1e6*Math.random()|0),Tv={};function Ih(n,e,t,i,r){if(i&&i.once)return Ay(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ih(n,e[s],t,i,r);return null}return t=Lp(t),n&&n[Op]?n.N(e,t,wh(i)?!!i.capture:!!i,r):fE(n,e,t,!1,i,r)}function fE(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var a=wh(r)?!!r.capture:!!r,u=Th(n);if(u||(n[xc]=u=new Dy(n)),(t=u.add(e,t,i,a,s)).proxy)return t;if(i=function eA(){var e=Bu;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)hE||(r=a),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Wr(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Ay(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ay(n,e[s],t,i,r);return null}return t=Lp(t),n&&n[Op]?n.O(e,t,wh(i)?!!i.capture:!!i,r):fE(n,e,t,!0,i,r)}function pa(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)pa(n,e[s],t,i,r);else i=wh(i)?!!i.capture:!!i,t=Lp(t),n&&n[Op]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Eh(s=n.g[e],t,i,r))&&(Ty(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Th(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Eh(e,t,i,r)),(t=-1<n?e[n]:null)&&Vu(t))}function Vu(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Op])Iv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Wr(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Th(e))?(Iv(t,n),0==t.h&&(t.src=null,e[xc]=null)):Ty(n)}}}function Wr(n){return n in Tv?Tv[n]:Tv[n]="on"+n}function Bu(n,e){if(n.ca)n=!0;else{e=new Pp(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Vu(n),n=t.call(i,e)}return n}function Th(n){return(n=n[xc])instanceof Dy?n:null}var As="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lp(n){return"function"==typeof n?n:(n[As]||(n[As]=function(e){return n.handleEvent(e)}),n[As])}function ki(){Cc.call(this),this.i=new Dy(this),this.P=this,this.I=null}function Oi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;ZD(e=new Ir(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var a=e.g=t[s];r=Ll(a,i,!0,e)&&r}if(r=Ll(a=e.g=n,i,!0,e)&&r,r=Ll(a,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Ll(a=e.g=t[s],i,!1,e)&&r}function Ll(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.ca&&a.capture==t){var u=a.listener,h=a.ia||a.src;a.fa&&Iv(n.i,a),r=!1!==u.call(h,i)&&r}}return r&&!i.defaultPrevented}Er(ki,Cc),ki.prototype[Op]=!0,ki.prototype.removeEventListener=function(n,e,t,i){pa(this,n,e,t,i)},ki.prototype.M=function(){if(ki.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ty(t[i]);delete n.g[e],n.h--}}this.I=null},ki.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},ki.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ec=nn.JSON.stringify;function Dh(){var n=Dv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ky,Uu=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sh,n=>n.reset());class Sh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kh(n){nn.setTimeout(()=>{throw n},0)}function Sy(n,e){ky||function pE(){var n=nn.Promise.resolve(void 0);ky=function(){n.then(gE)}}(),My||(ky(),My=!0),Dv.add(n,e)}var My=!1,Dv=new class Ah{constructor(){this.h=this.g=null}add(e,t){const i=Uu.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function gE(){for(var n;n=Dh();){try{n.h.call(n.g)}catch(t){kh(t)}var e=Uu;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}My=!1}function Fp(n,e){ki.call(this),this.h=n||1,this.g=e||nn,this.j=xr(this.kb,this),this.l=Date.now()}function Ny(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ry(n,e,t){if("function"==typeof n)t&&(n=xr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xr(n.handleEvent,n)}return 2147483647<Number(e)?-1:nn.setTimeout(n,e||0)}function mE(n){n.g=Ry(()=>{n.g=null,n.i&&(n.i=!1,mE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(Fp,ki),(xt=Fp.prototype).da=!1,xt.S=null,xt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oi(this,"tick"),this.da&&(Ny(this),this.start()))}},xt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xt.M=function(){Fp.Z.M.call(this),Ny(this),delete this.g};class yE extends Cc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mE(this)}M(){super.M(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vp(n){Cc.call(this),this.h=n,this.g={}}Er(Vp,Cc);var Av=[];function Sv(n,e,t,i){Array.isArray(t)||(t&&(Av[0]=t.toString()),t=Av);for(var r=0;r<t.length;r++){var s=Ih(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _E(n){bv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Vu(e)},n),n.g={}}function Py(){this.g=!0}function ju(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function iA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ec(t)}catch(u){return e}}(n,t)+(i?" "+i:"")})}Vp.prototype.M=function(){Vp.Z.M.call(this),_E(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Py.prototype.Aa=function(){this.g=!1},Py.prototype.info=function(){};var Mh={},bE=null;function Nh(){return bE=bE||new ki}function Oy(n){Ir.call(this,Mh.Ma,n)}function Bp(n){const e=Nh();Oi(e,new Oy(e,n))}function rA(n,e){Ir.call(this,Mh.STAT_EVENT,n),this.stat=e}function Ss(n){const e=Nh();Oi(e,new rA(e,n))}function sA(n,e){Ir.call(this,Mh.Na,n),this.size=e}function Up(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){n()},e)}Mh.Ma="serverreachability",Er(Oy,Ir),Mh.STAT_EVENT="statevent",Er(rA,Ir),Mh.Na="timingevent",Er(sA,Ir);var jp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kv(){}function wE(){}kv.prototype.h=null;var Ph,Rh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Mv(){Ir.call(this,"d")}function Ly(){Ir.call(this,"c")}function Fy(){}function Oh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new Vp(this),this.P=aA,this.W=new Fp(n=Rp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}Er(Mv,Ir),Er(Ly,Ir),Er(Fy,kv),Fy.prototype.g=function(){return new XMLHttpRequest},Fy.prototype.i=function(){return{}},Ph=new Fy;var aA=45e3,Nv={},Vy={};function Rv(n,e,t){n.K=1,n.v=$p(Fl(e)),n.s=t,n.U=!0,Pv(n,null)}function Pv(n,e){n.F=Date.now(),zu(n),n.A=Fl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Hv(t.h,"t",i),n.C=0,t=n.l.H,n.h=new CE,n.g=sb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new yE(xr(n.Ia,n,n.g),n.O)),Sv(n.V,n.g,"readystatechange",n.gb),e=n.H?rE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Bp(1),function vE(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",u=s.split("&"),h=0;h<u.length;h++){var g=u[h].split("=");if(1<g.length){var _=g[0];g=g[1];var b=_.split("_");a=2<=b.length&&"type"==b[1]?a+(_+"=")+g+"&":a+(_+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Ov(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=EE(n,t),r==Vy){4==e&&(n.o=4,Ss(14),i=!1),ju(n.j,n.m,null,"[Incomplete Response]");break}if(r==Nv){n.o=4,Ss(15),ju(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}ju(n.j,n.m,r,null),Wu(n,r)}xE(n)&&r!=Vy&&r!=Nv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ss(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),tg(e),e.L=!0,Ss(11))):(ju(n.j,n.m,t,"[Invalid Chunked Response]"),Fh(n),Hp(n))}function EE(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Vy:(t=Number(e.substring(t,i)),isNaN(t)?Nv:(i+=1)+t>e.length?Vy:(e=e.substr(i,t),n.C=i+t,e))}function zu(n){n.Y=Date.now()+n.P,lA(n,n.P)}function lA(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Up(xr(n.eb,n),e)}function Lh(n){n.B&&(nn.clearTimeout(n.B),n.B=null)}function Hp(n){0==n.l.G||n.I||Wy(n.l,n)}function Fh(n){Lh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ny(n.W),_E(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Wu(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||$v(t.i,n)))if(t.I=n.N,!n.J&&$v(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(g){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Up(xr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ig(t),Tc(t)}zy(t),Ss(18)}if(1>=uA(t.i)&&t.ka){try{t.ka()}catch(g){}t.ka=void 0}}else Ac(t,11)}else if((n.J||t.g==n)&&ig(t),!xh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(t.U=g[0],g=g[1],2==t.G)if("c"==g[0]){t.J=g[1],t.la=g[2];const _=g[3];null!=_&&(t.ma=_,t.h.info("VER="+t.ma));const b=g[4];null!=b&&(t.za=b,t.h.info("SVER="+t.za));const I=g[5];null!=I&&"number"==typeof I&&0<I&&(t.K=i=1.5*I,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const S=n.g;if(S){const P=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.i;!s.g&&(is(P,"spdy")||is(P,"quic")||is(P,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Gv(s,s.h),s.h=null))}if(i.D){const U=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(i.sa=U,ci(i.F,i.D,U))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var a=n;if((i=t).oa=rb(i,i.H?i.la:null,i.W),a.J){qv(i.i,a);var u=a,h=i.K;h&&u.setTimeout(h),u.B&&(Lh(u),zu(u)),i.g=a}else tb(i);0<t.l.length&&Hy(t)}else"stop"!=g[0]&&"close"!=g[0]||Ac(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Ac(t,7):eg(t):"noop"!=g[0]&&t.j&&t.j.wa(g),t.A=0)}Bp(4)}catch(g){}}function zp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Cy(n)||"string"==typeof n)eE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Cy(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function IE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Cy(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Ic(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ic)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Lv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];ja(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)ja(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function ja(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(xt=Oh.prototype).setTimeout=function(n){this.P=n},xt.gb=function(n){n=n.target;const e=this.L;e&&3==za(n)?e.l():this.Ia(n)},xt.Ia=function(n){try{if(n==this.g)e:{const _=za(this.g);var e=this.g.Da();const b=this.g.ba();if(!(3>_)&&(3!=_||Rp||this.g&&(this.h.h||this.g.ga()||Jv(this.g)))){this.I||4!=_||7==e||Bp(8==e||0>=b?3:2),Lh(this);var t=this.g.ba();this.N=t;t:if(xE(this)){var i=Jv(this.g);n="";var r=i.length,s=4==za(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fh(this),Hp(this);var a="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==t,function tA(n,e,t,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.X,_,t),this.i){if(this.$&&!this.J){t:{if(this.g){var u,h=this.g;if((u=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xh(u)){var g=u;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,Ss(12),Fh(this),Hp(this);break e}ju(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wu(this,t)}this.U?(Ov(this,_,a),Rp&&this.i&&3==_&&(Sv(this.V,this.W,"tick",this.fb),this.W.start())):(ju(this.j,this.m,a,null),Wu(this,a)),4==_&&Fh(this),this.i&&!this.I&&(4==_?Wy(this.l,this):(this.i=!1,zu(this)))}else 400==t&&0<a.indexOf("Unknown SID")?(this.o=3,Ss(12)):(this.o=0,Ss(13)),Fh(this),Hp(this)}}}catch(_){}},xt.fb=function(){if(this.g){var n=za(this.g),e=this.g.ga();this.C<e.length&&(Lh(this),Ov(this,n,e),this.i&&4!=n&&zu(this))}},xt.cancel=function(){this.I=!0,Fh(this)},xt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bp(3),Ss(17)),Fh(this),this.o=2,Hp(this)):lA(this,this.Y-n)},(xt=Ic.prototype).R=function(){Lv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},xt.T=function(){return Lv(this),this.g.concat()},xt.get=function(n,e){return ja(this.h,n)?this.h[n]:e},xt.set=function(n,e){ja(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},xt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var Wp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vh(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Vh){this.g=void 0!==e?e:n.g,$u(this,n.j),this.s=n.s,Gu(this,n.i),Bh(this,n.m),this.l=n.l,e=n.h;var t=new jh;t.i=e.i,e.g&&(t.g=new Ic(e.g),t.h=e.h),Vv(this,t),this.o=n.o}else n&&(t=String(n).match(Wp))?(this.g=!!e,$u(this,t[1]||"",!0),this.s=Uh(t[2]||""),Gu(this,t[3]||"",!0),Bh(this,t[4]),this.l=Uh(t[5]||"",!0),Vv(this,t[6]||"",!0),this.o=Uh(t[7]||"")):(this.g=!!e,this.h=new jh(null,this.g))}function Fl(n){return new Vh(n)}function $u(n,e,t){n.j=t?Uh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gu(n,e,t){n.i=t?Uh(e,!0):e}function Bh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Vv(n,e,t){e instanceof jh?(n.h=e,function kE(n,e){e&&!n.j&&(Vl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(qp(this,i),Hv(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Gp(e,cA)),n.h=new jh(e,n.g))}function ci(n,e,t){n.h.set(e,t)}function $p(n){return ci(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Uh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,DE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function DE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gp(e,Uv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gp(e,Uv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gp(t,"/"==t.charAt(0)?AE:jv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gp(t,SE)),n.join("")};var Uv=/[#\/\?@]/g,jv=/[#\?:]/g,AE=/[#\?]/g,cA=/[#\?@]/g,SE=/#/g;function jh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vl(n){n.g||(n.g=new Ic,n.h=0,n.i&&function Fv(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qp(n,e){Vl(n),e=qu(n,e),ja(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ja((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Lv(n)))}function By(n,e){return Vl(n),e=qu(n,e),ja(n.g.h,e)}function Hv(n,e,t){qp(n,e),0<t.length&&(n.i=null,n.g.set(qu(n,e),Do(t)),n.h+=t.length)}function qu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zv(n){this.l=n||NE,n=nn.PerformanceNavigationTiming?0<(n=nn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(nn.g&&nn.g.Ea&&nn.g.Ea()&&nn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xt=jh.prototype).add=function(n,e){Vl(this),this.i=null,n=qu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},xt.forEach=function(n,e){Vl(this),this.g.forEach(function(t,i){eE(t,function(r){n.call(e,r,i,this)},this)},this)},xt.T=function(){Vl(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},xt.R=function(n){Vl(this);var e=[];if("string"==typeof n)By(this,n)&&(e=tE(e,this.g.get(qu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=tE(e,n[t])}return e},xt.set=function(n,e){return Vl(this),this.i=null,By(this,n=qu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},xt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},xt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),n.push(a)}}return this.i=n.join("&")};var NE=10;function Wv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uA(n){return n.h?1:n.g?n.g.size:0}function $v(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gv(n,e){n.g?n.g.add(e):n.h=e}function qv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Do(n.i)}function Ki(){}function PE(){this.g=new Ki}function dA(n,e,t){const i=t||"";try{zp(n,function(r,s){let a=r;wh(r)&&(a=Ec(r)),e.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Zp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Kp(n){this.l=n.$b||null,this.j=n.ib||!1}function Yp(n,e){ki.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Uy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zv.prototype.cancel=function(){if(this.i=RE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ki.prototype.stringify=function(n){return nn.JSON.stringify(n,void 0)},Ki.prototype.parse=function(n){return nn.JSON.parse(n,void 0)},Er(Kp,kv),Kp.prototype.g=function(){return new Yp(this.l,this.j)},Kp.prototype.i=function(n){return function(){return n}}({}),Er(Yp,ki);var Uy=0;function Zu(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Qp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jp(n)}function Jp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(xt=Yp.prototype).open=function(n,e){if(this.readyState!=Uy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jp(this)},xt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||nn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qp(this)),this.readyState=Uy},xt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jp(this)),this.g&&(this.readyState=3,Jp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==nn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zu(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},xt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qp(this):Jp(this),3==this.readyState&&Zu(this)}},xt.Ua=function(n){this.g&&(this.response=this.responseText=n,Qp(this))},xt.Ta=function(n){this.g&&(this.response=n,Qp(this))},xt.ha=function(){this.g&&Qp(this)},xt.setRequestHeader=function(n,e){this.v.append(n,e)},xt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},xt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var OE=nn.JSON.parse;function rr(n){ki.call(this),this.headers=new Ic,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zv,this.K=this.L=!1}Er(rr,ki);var Zv="",hP=/^https?$/i,Kv=["POST","PUT"];function Ha(n){return"content-type"==n.toLowerCase()}function LE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Qv(n),ks(n)}function Qv(n){n.D||(n.D=!0,Oi(n,"complete"),Oi(n,"error"))}function ga(n){if(n.h&&void 0!==Fu&&(!n.C[1]||4!=za(n)||2!=n.ba()))if(n.v&&4==za(n))Ry(n.Fa,0,n);else if(Oi(n,"readystatechange"),4==za(n)){n.h=!1;try{const u=n.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.H).match(Wp)[1]||null;if(!r&&nn.self&&nn.self.location){var s=nn.self.location.protocol;r=s.substr(0,s.length-1)}i=!hP.test(r?r.toLowerCase():"")}t=i}if(t)Oi(n,"complete"),Oi(n,"success");else{n.m=6;try{var a=2<za(n)?n.g.statusText:""}catch(h){a=""}n.j=a+" ["+n.ba()+"]",Qv(n)}}finally{ks(n)}}}function ks(n,e){if(n.g){Ao(n);const t=n.g,i=n.C[0]?bh:null;n.g=null,n.C=null,e||Oi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function Ao(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(nn.clearTimeout(n.A),n.A=null)}function za(n){return n.g?n.g.readyState:0}function Jv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Zv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Xv(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function fA(n){let e="";return bv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ci(n,e,t))}function Xp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function FE(n){this.za=0,this.l=[],this.h=new Py,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xp("baseRetryDelayMs",5e3,n),this.$a=Xp("retryDelaySeedMs",1e4,n),this.Ya=Xp("forwardChannelMaxRetries",2,n),this.ra=Xp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zv(n&&n.concurrentRequestLimit),this.Ca=new PE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function eg(n){if(VE(n),3==n.G){var e=n.V++,t=Fl(n.F);ci(t,"SID",n.J),ci(t,"RID",e),ci(t,"TYPE","terminate"),Dc(n,t),(e=new Oh(n,n.h,e,void 0)).K=2,e.v=$p(Fl(t)),t=!1,nn.navigator&&nn.navigator.sendBeacon&&(t=nn.navigator.sendBeacon(e.v.toString(),"")),!t&&nn.Image&&((new Image).src=e.v,t=!0),t||(e.g=sb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zu(e)}ib(n)}function Tc(n){n.g&&(tg(n),n.g.cancel(),n.g=null)}function VE(n){Tc(n),n.u&&(nn.clearTimeout(n.u),n.u=null),ig(n),n.i.cancel(),n.m&&("number"==typeof n.m&&nn.clearTimeout(n.m),n.m=null)}function jy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Hy(n)}function Hy(n){Wv(n.i)||n.m||(n.m=!0,Sy(n.Ha,n),n.C=0)}function eb(n,e){var t;t=e?e.m:n.V++;const i=Fl(n.F);ci(i,"SID",n.J),ci(i,"RID",t),ci(i,"AID",n.U),Dc(n,i),n.o&&n.s&&Xv(i,n.o,n.s),t=new Oh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=UE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Gv(n.i,t),Rv(t,i,e)}function Dc(n,e){n.j&&zp({},function(t,i){ci(e,i,t)})}function UE(n,e,t){t=Math.min(n.l.length,t);var i=n.j?xr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const a=["count="+t];-1==s?0<t?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let u=!0;for(let h=0;h<t;h++){let g=r[h].h;const _=r[h].g;if(g-=s,0>g)s=Math.max(0,r[h].h-100),u=!1;else try{dA(_,a,"req"+g+"_")}catch(b){i&&i(_)}}if(u){i=a.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function tb(n){n.g||n.u||(n.Y=1,Sy(n.Ga,n),n.A=0)}function zy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Up(xr(n.Ga,n),nb(n,n.A)),n.A++,0))}function tg(n){null!=n.B&&(nn.clearTimeout(n.B),n.B=null)}function ng(n){n.g=new Oh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Fl(n.oa);ci(e,"RID","rpc"),ci(e,"SID",n.J),ci(e,"CI",n.N?"0":"1"),ci(e,"AID",n.U),Dc(n,e),ci(e,"TYPE","xmlhttp"),n.o&&n.s&&Xv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=$p(Fl(e)),t.s=null,t.U=!0,Pv(t,n)}function ig(n){null!=n.v&&(nn.clearTimeout(n.v),n.v=null)}function Wy(n,e){var t=null;if(n.g==e){ig(n),tg(n),n.g=null;var i=2}else{if(!$v(n.i,e))return;t=e.D,qv(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Oi(i=Nh(),new sA(i,t,e,r)),Hy(n)}else tb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function BE(n,e){return!(uA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Up(xr(n.Ha,n,e),nb(n,n.C)),n.C++,0)))}(n,e)||2==i&&zy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ac(n,5);break;case 4:Ac(n,10);break;case 3:Ac(n,6);break;default:Ac(n,2)}}function nb(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ac(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=xr(n.jb,n);t||(t=new Vh("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||$u(t,"https"),$p(t)),function hA(n,e){const t=new Py;if(nn.Image){const i=new Image;i.onload=Ol(Zp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ol(Zp,t,i,"TestLoadImage: error",!1,e),i.onabort=Ol(Zp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ol(Zp,t,i,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ss(2);n.G=0,n.j&&n.j.va(e),ib(n),VE(n)}function ib(n){n.G=0,n.I=-1,n.j&&((0!=RE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Do(n.l),n.l.length=0),n.j.ua())}function rb(n,e,t){let i=function TE(n){return n instanceof Vh?Fl(n):new Vh(n,void 0)}(t);if(""!=i.i)e&&Gu(i,e+"."+i.i),Bh(i,i.m);else{const r=nn.location;i=function Bv(n,e,t,i){var r=new Vh(null,void 0);return n&&$u(r,n),e&&Gu(r,e),t&&Bh(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&bv(n.aa,function(r,s){ci(i,s,r)}),t=n.sa,(e=n.D)&&t&&ci(i,e,t),ci(i,"VER",n.ma),Dc(n,i),i}function sb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(t&&n.Ba&&!n.qa?new Kp({ib:!0}):n.qa)).L=n.H,e}function ob(){}function rg(){if(Np&&!(10<=Number(dP)))throw Error("Environmental error: no available transport.")}function to(n,e){ki.call(this),this.g=new FE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!xh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hh(this)}function jE(n){Mv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function HE(){Ly.call(this),this.status=1}function Hh(n){this.g=n}(xt=rr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ph.g(),this.C=function Hu(n){return n.h||(n.h=n.i())}(this.u?this.u:Ph),this.g.onreadystatechange=xr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void LE(this,s)}n=t||"";const r=new Ic(this.headers);i&&zp(i,function(s,a){r.set(a,s)}),i=function qD(n){e:{var e=Ha;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=nn.FormData&&n instanceof nn.FormData,!(0<=Xx(Kv,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ao(this),0<this.B&&((this.K=function Yv(n){return Np&&function uE(){return function KD(n){var e=cE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vv(String(xv)).split("."),t=vv("9").split("."),i=Math.max(e.length,t.length);for(let a=0;0==n&&a<i;a++){var r=e[a]||"",s=t[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=xy(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||xy(0==r[2].length,0==s[2].length)||xy(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xr(this.pa,this)):this.A=Ry(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){LE(this,s)}},xt.pa=function(){void 0!==Fu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oi(this,"timeout"),this.abort(8))},xt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Oi(this,"complete"),Oi(this,"abort"),ks(this))},xt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ks(this,!0)),rr.Z.M.call(this)},xt.Fa=function(){this.s||(this.F||this.v||this.l?ga(this):this.cb())},xt.cb=function(){ga(this)},xt.ba=function(){try{return 2<za(this)?this.g.status:-1}catch(n){return-1}},xt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},xt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),OE(e)}},xt.Da=function(){return this.m},xt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xt=FE.prototype).ma=8,xt.G=1,xt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},xt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Oh(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=rE(s),ZD(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UE(this,r,e),ci(t=Fl(this.F),"RID",n),ci(t,"CVER",22),this.D&&ci(t,"X-HTTP-Session-Id",this.D),Dc(this,t),this.o&&s&&Xv(t,this.o,s),Gv(this.i,r),this.Ra&&ci(t,"TYPE","init"),this.ja?(ci(t,"$req",e),ci(t,"SID","null"),r.$=!0,Rv(r,t,null)):Rv(r,t,e),this.G=2}}else 3==this.G&&(n?eb(this,n):0==this.l.length||Wv(this.i)||eb(this))},xt.Ga=function(){if(this.u=null,ng(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Up(xr(this.bb,this),n)}},xt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ss(10),Tc(this),ng(this))},xt.ab=function(){null!=this.v&&(this.v=null,Tc(this),zy(this),Ss(19))},xt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ss(2)):(this.h.info("Failed to ping google.com"),Ss(1))},(xt=ob.prototype).xa=function(){},xt.wa=function(){},xt.va=function(){},xt.ua=function(){},xt.Oa=function(){},rg.prototype.g=function(n,e){return new to(n,e)},Er(to,ki),to.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Sy(xr(n.hb,n,e))),Ss(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=rb(n,null,n.W),Hy(n)},to.prototype.close=function(){eg(this.g)},to.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,jy(this.g,e)}else this.v?((e={}).__data__=Ec(n),jy(this.g,e)):jy(this.g,n)},to.prototype.M=function(){this.g.j=null,delete this.j,eg(this.g),delete this.g,to.Z.M.call(this)},Er(jE,Mv),Er(HE,Ly),Er(Hh,ob),Hh.prototype.xa=function(){Oi(this.g,"a")},Hh.prototype.wa=function(n){Oi(this.g,new jE(n))},Hh.prototype.va=function(n){Oi(this.g,new HE(n))},Hh.prototype.ua=function(){Oi(this.g,"b")},rg.prototype.createWebChannel=rg.prototype.g,to.prototype.send=to.prototype.u,to.prototype.open=to.prototype.m,to.prototype.close=to.prototype.close,jp.NO_ERROR=0,jp.TIMEOUT=8,jp.HTTP_ERROR=6,oA.COMPLETE="complete",wE.EventType=Rh,Rh.OPEN="a",Rh.CLOSE="b",Rh.ERROR="c",Rh.MESSAGE="d",ki.prototype.listen=ki.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.La,rr.prototype.getLastErrorCode=rr.prototype.Da,rr.prototype.getStatus=rr.prototype.ba,rr.prototype.getResponseJson=rr.prototype.Qa,rr.prototype.getResponseText=rr.prototype.ga,rr.prototype.send=rr.prototype.ea;var pA=Ua.createWebChannelTransport=function(){return new rg},gA=Ua.getStatEventTarget=function(){return Nh()},ab=Ua.ErrorCode=jp,mA=Ua.EventType=oA,yA=Ua.Event=Mh,zE=Ua.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_A=Ua.FetchXmlHttpFactory=Kp,$y=Ua.WebChannel=wE,vA=Ua.XhrIo=rr;const WE="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let zh="9.8.0";const Sc=new ca.Yd("@firebase/firestore");function Gy(){return Sc.logLevel}function rt(n,...e){if(Sc.logLevel<=ca.in.DEBUG){const t=e.map(qy);Sc.debug(`Firestore (${zh}): ${n}`,...t)}}function Yi(n,...e){if(Sc.logLevel<=ca.in.ERROR){const t=e.map(qy);Sc.error(`Firestore (${zh}): ${n}`,...t)}}function Wh(n,...e){if(Sc.logLevel<=ca.in.WARN){const t=e.map(qy);Sc.warn(`Firestore (${zh}): ${n}`,...t)}}function qy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function It(n="Unexpected state"){const e=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: `+n;throw Yi(e),new Error(e)}function Yt(n,e){n||It()}function _t(n,e){return n}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends H.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $h{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class fP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lb{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let a=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Tr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const g=a;e.enqueueRetryable((0,$e.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},h=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(g=>h(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?h(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Tr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt("string"==typeof i.accessToken),new qE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yt(null===e||"string"==typeof e),new $r(e)}}class pP{constructor(e,t,i){this.type="FirstParty",this.user=$r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZE{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new pP(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gP{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.p;return this.p=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt("string"==typeof t.token),this.p=t.token,new cb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class no{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function bA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}no.A=-1;class KE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=bA(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function rn(n,e){return n<e?-1:n>e?1:0}function Gh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function sg(n){return n+"\0"}class Ci{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ci.fromMillis(Date.now())}static fromDate(e){return Ci.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ci(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rn(this.nanoseconds,e.nanoseconds):rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new Ci(0,0))}static max(){return new Ct(new Ci(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function wA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class og{constructor(e,t,i){void 0===t?t=0:t>e.length&&It(),void 0===i?i=e.length-t:i>e.length-t&&It(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===og.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof og?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),a=t.get(r);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mn extends og{construct(e,t,i){return new Mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Qe(Le.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Mn(t)}static emptyPath(){return new Mn([])}}const QE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends og{construct(e,t,i){return new sr(e,t,i)}static isValidIdentifier(e){return QE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Qe(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const u=e[r];if("\\"===u){if(r+1===e.length)throw new Qe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if("\\"!==h&&"."!==h&&"`"!==h)throw new Qe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else"`"===u?(a=!a,r++):"."!==u||a?(i+=u,r++):(s(),r++)}if(s(),a)throw new Qe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class Ku{constructor(e){this.fields=e,e.sort(sr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new hr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const xA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(n){if(Yt(!!n),"string"==typeof n){let e=0;const t=xA.exec(n);if(Yt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Li(n.seconds),nanos:Li(n.nanos)}}function Li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yu(n){return"string"==typeof n?hr.fromBase64String(n):hr.fromUint8Array(n)}function ub(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ag(n){const e=n.mapValue.fields.__previous_value__;return ub(e)?ag(e):e}function qh(n){const e=So(n.mapValue.fields.__local_write_time__.timestampValue);return new Ci(e.seconds,e.nanos)}class JE{constructor(e,t,i,r,s,a,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.useFetchStreams=h}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}function lg(n){return null==n}function Bl(n){return 0===n&&1/n==-1/0}function Zh(n){return"number"==typeof n&&Number.isInteger(n)&&!Bl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Mn.fromString(e))}static fromName(e){return new mt(Mn.fromString(e).popFirst(5))}static empty(){return new mt(Mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Mn(e.slice()))}}const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zy={nullValue:"NULL_VALUE"};function Nc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ub(n)?4:eI(n)?9007199254740991:10:It()}function ma(n,e){if(n===e)return!0;const t=Nc(n);if(t!==Nc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qh(n).isEqual(qh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=So(i.timestampValue),a=So(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Yu(n.bytesValue).isEqual(Yu(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Li(i.geoPointValue.latitude)===Li(r.geoPointValue.latitude)&&Li(i.geoPointValue.longitude)===Li(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Li(i.integerValue)===Li(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Li(i.doubleValue),a=Li(r.doubleValue);return s===a?Bl(s)===Bl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Gh(n.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(wA(s)!==wA(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!ma(s[u],a[u])))return!1;return!0}(n,e);default:return It()}var r}function Kh(n,e){return void 0!==(n.values||[]).find(t=>ma(t,e))}function Rc(n,e){if(n===e)return 0;const t=Nc(n),i=Nc(e);if(t!==i)return rn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return rn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const a=Li(r.integerValue||r.doubleValue),u=Li(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return db(n.timestampValue,e.timestampValue);case 4:return db(qh(n),qh(e));case 5:return rn(n.stringValue,e.stringValue);case 6:return function(r,s){const a=Yu(r),u=Yu(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const a=r.split("/"),u=s.split("/");for(let h=0;h<a.length&&h<u.length;h++){const g=rn(a[h],u[h]);if(0!==g)return g}return rn(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const a=rn(Li(r.latitude),Li(s.latitude));return 0!==a?a:rn(Li(r.longitude),Li(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const a=r.values||[],u=s.values||[];for(let h=0;h<a.length&&h<u.length;++h){const g=Rc(a[h],u[h]);if(g)return g}return rn(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Mc.mapValue&&s===Mc.mapValue)return 0;if(r===Mc.mapValue)return 1;if(s===Mc.mapValue)return-1;const a=r.fields||{},u=Object.keys(a),h=s.fields||{},g=Object.keys(h);u.sort(),g.sort();for(let _=0;_<u.length&&_<g.length;++_){const b=rn(u[_],g[_]);if(0!==b)return b;const I=Rc(a[u[_]],h[g[_]]);if(0!==I)return I}return rn(u.length,g.length)}(n.mapValue,e.mapValue);default:throw It()}}function db(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return rn(n,e);const t=So(n),i=So(e),r=rn(t.seconds,i.seconds);return 0!==r?r:rn(t.nanos,i.nanos)}function Yh(n){return hb(n)}function hb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=So(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yu(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=hb(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${hb(i.fields[u])}`;return s+"}"}(n.mapValue):It();var e}function Qh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function XE(n){return!!n&&"integerValue"in n}function Ky(n){return!!n&&"arrayValue"in n}function EA(n){return!!n&&"nullValue"in n}function fb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qu(n){return!!n&&"mapValue"in n}function cg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=cg(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tI(n){return"nullValue"in n?Zy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qh(Wa.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:It()}function ug(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qh(Wa.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Mc:It()}function nI(n,e){const t=Rc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function iI(n,e){const t=Rc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cg(t)}setAll(e){let t=sr.emptyPath(),i={},r=[];e.forEach((a,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=u.popLast()}a?i[u.lastSegment()]=cg(a):r.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Qu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){kc(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new ss(cg(this.value))}}function rI(n){const e=[];return kc(n.fields,(t,i)=>{const r=new sr([t]);if(Qu(i)){const s=rI(i.mapValue).fields;if(0===s.length)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new Ku(e)}class pi{constructor(e,t,i,r,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pi(e,0,Ct.min(),Ct.min(),ss.empty(),0)}static newFoundDocument(e,t,i){return new pi(e,1,t,Ct.min(),i,0)}static newNoDocument(e,t){return new pi(e,2,t,Ct.min(),ss.empty(),0)}static newUnknownDocument(e,t){return new pi(e,3,t,Ct.min(),ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function pb(n){return n.fields.find(e=>2===e.kind)}function Ju(n){return n.fields.filter(e=>2!==e.kind)}dg.UNKNOWN_ID=-1;class Ul{constructor(e,t){this.fieldPath=e,this.kind=t}}class hg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hg(0,ko.min())}}function gb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(1e9===i?new Ci(t+1,0):new Ci(t,i));return new ko(r,mt.empty(),e)}function IA(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ko(Ct.min(),mt.empty(),-1)}static max(){return new ko(Ct.max(),mt.empty(),-1)}}function sI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mt.comparator(n.documentKey,e.documentKey),0!==t?t:rn(n.largestBatchId,e.largestBatchId))}class Fi{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yy(this.root,e,this.comparator,!0)}}class Yy{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:fr.RED,this.left=null!=r?r:fr.EMPTY,this.right=null!=s?s:fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new fr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(n,e,t,i,r){return this}insert(n,e,t){return new fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mb(this.data.getIterator())}getIteratorFrom(e){return new mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ui(this.comparator);return t.data=e,t}}class mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xu(n){return n.hasNext()?n.getNext():void 0}class TA{constructor(e,t=null,i=[],r=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=u,this.P=null}}function oI(n,e=null,t=[],i=[],r=null,s=null,a=null){return new TA(n,e,t,i,r,s,a)}function ed(n){const e=_t(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Yh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),lg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Yh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Yh(i)).join(",")),e.P=t}return e.P}function fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!NA(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!ma(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jy(n.startAt,e.startAt)&&Jy(n.endAt,e.endAt)}function pg(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Qy(n,e){return n.filters.filter(t=>t instanceof Gr&&t.field.isEqual(e))}function aI(n,e,t){let i=Zy,r=!0;for(const s of Qy(n,e)){let a=Zy,u=!0;switch(s.op){case"<":case"<=":a=tI(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,u=!1;break;case"!=":case"not-in":a=Zy}nI({value:i,inclusive:r},{value:a,inclusive:u})<0&&(i=a,r=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];nI({value:i,inclusive:r},{value:a,inclusive:t.inclusive})<0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}function lI(n,e,t){let i=Mc,r=!0;for(const s of Qy(n,e)){let a=Mc,u=!0;switch(s.op){case">=":case">":a=ug(s.value),u=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,u=!1;break;case"!=":case"not-in":a=Mc}iI({value:i,inclusive:r},{value:a,inclusive:u})>0&&(i=a,r=u)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const a=t.position[s];iI({value:i,inclusive:r},{value:a,inclusive:t.inclusive})>0&&(i=a,r=t.inclusive);break}return{value:i,inclusive:r}}class Gr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new DA(e,t,i):"array-contains"===t?new uI(e,i):"in"===t?new dI(e,i):"not-in"===t?new kA(e,i):"array-contains-any"===t?new MA(e,i):new Gr(e,t,i)}static V(e,t,i){return"in"===t?new AA(e,i):new SA(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Rc(t,this.value)):null!==t&&Nc(this.value)===Nc(t)&&this.v(Rc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return It()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DA extends Gr{constructor(e,t,i){super(e,t,i),this.key=mt.fromName(i.referenceValue)}matches(e){const t=mt.comparator(e.key,this.key);return this.v(t)}}class AA extends Gr{constructor(e,t){super(e,"in",t),this.keys=cI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SA extends Gr{constructor(e,t){super(e,"not-in",t),this.keys=cI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>mt.fromName(i.referenceValue))}class uI extends Gr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ky(t)&&Kh(t.arrayValue,this.value)}}class dI extends Gr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kh(this.value.arrayValue,t)}}class kA extends Gr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kh(this.value.arrayValue,t)}}class MA extends Gr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Kh(this.value.arrayValue,i))}}class jl{constructor(e,t){this.position=e,this.inclusive=t}}class Jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function hI(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],a=n.position[r];if(i=s.field.isKeyField()?mt.comparator(mt.fromName(a.referenceValue),t.key):Rc(a,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Jy(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ma(n.position[t],e.position[t]))return!1;return!0}class ya{constructor(e,t=null,i=[],r=[],s=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=h,this.D=null,this.C=null}}function _b(n,e,t,i,r,s,a,u){return new ya(n,e,t,i,r,s,a,u)}function Pc(n){return new ya(n)}function vb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gg(n){for(const e of n.filters)if(e.S())return e.field;return null}function bb(n){return null!==n.collectionGroup}function td(n){const e=_t(n);if(null===e.D){e.D=[];const t=gg(e),i=vb(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new Jh(t)),e.D.push(new Jh(sr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Jh(sr.keyField(),s))}}}return e.D}function Mo(n){const e=_t(n);if(!e.C)if("F"===e.limitType)e.C=oI(e.path,e.collectionGroup,td(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of td(e))t.push(new Jh(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new jl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jl(e.startAt.position,e.startAt.inclusive):null;e.C=oI(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function wb(n,e,t){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mg(n,e){return fg(Mo(n),Mo(e))&&n.limitType===e.limitType}function Cb(n){return`${ed(Mo(n))}|lt:${n.limitType}`}function fI(n){return`Query(target=${function yb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Yh(i.value)}`;var i}).join(", ")}]`),lg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Yh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Yh(t)).join(",")),`Target(${e})`}(Mo(n))}; limitType=${n.limitType})`}function xb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):mt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,a){const u=hI(r,s,a);return r.inclusive?u<=0:u<0}(t.startAt,td(t),i)||t.endAt&&!function(r,s,a){const u=hI(r,s,a);return r.inclusive?u>=0:u>0}(t.endAt,td(t),i)));var t,i}function yg(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pI(n){return(e,t)=>{let i=!1;for(const r of td(n)){const s=Xh(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Xh(n,e,t){const i=n.field.isKeyField()?mt.comparator(e.key,t.key):function(r,s,a){const u=s.data.field(r),h=a.data.field(r);return null!==u&&null!==h?Rc(u,h):It()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return It()}}function ef(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function gI(n){return{integerValue:""+n}}function PA(n,e){return Zh(e)?gI(e):ef(n,e)}class _g{constructor(){this._=void 0}}function OA(n,e,t){return n instanceof tf?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Oc?Eb(n,e):n instanceof Hl?vg(n,e):function(i,r){const s=mI(i,r),a=yI(s)+yI(i.k);return XE(s)&&XE(i.k)?gI(a):ef(i.M,a)}(n,e)}function LA(n,e,t){return n instanceof Oc?Eb(n,e):n instanceof Hl?vg(n,e):t}function mI(n,e){return n instanceof $a?XE(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class tf extends _g{}class Oc extends _g{constructor(e){super(),this.elements=e}}function Eb(n,e){const t=Ib(e);for(const i of n.elements)t.some(r=>ma(r,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends _g{constructor(e){super(),this.elements=e}}function vg(n,e){let t=Ib(e);for(const i of n.elements)t=t.filter(r=>!ma(r,i));return{arrayValue:{values:t}}}class $a extends _g{constructor(e,t){super(),this.M=e,this.k=t}}function yI(n){return Li(n.integerValue||n.doubleValue)}function Ib(n){return Ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nf{constructor(e,t){this.field=e,this.transform=t}}class VA{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tb{}function BA(n,e,t){n instanceof e_?function(i,r,s){const a=i.value.clone(),u=UA(i.fieldTransforms,r,s.transformResults);a.setAll(u),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Lc?function(i,r,s){if(!Xy(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=UA(i.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(_I(i)),u.setAll(a),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Db(n,e,t){var r;n instanceof e_?function(i,r,s){if(!Xy(i.precondition,r))return;const a=i.value.clone(),u=Sb(i.fieldTransforms,s,r);a.setAll(u),r.convertToFoundDocument(nd(r),a).setHasLocalMutations()}(n,e,t):n instanceof Lc?function(i,r,s){if(!Xy(i.precondition,r))return;const a=Sb(i.fieldTransforms,s,r),u=r.data;u.setAll(_I(i)),u.setAll(a),r.convertToFoundDocument(nd(r),u).setHasLocalMutations()}(n,e,t):Xy(n.precondition,r=e)&&r.convertToNoDocument(Ct.min())}function rf(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=mI(i.transform,r||null);null!=s&&(null==t&&(t=ss.empty()),t.set(i.field,s))}return t||null}function Ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Gh(t,i,(r,s)=>function FA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Oc&&i instanceof Oc||t instanceof Hl&&i instanceof Hl?Gh(t.elements,i.elements,ma):t instanceof $a&&i instanceof $a?ma(t.k,i.k):t instanceof tf&&i instanceof tf);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function nd(n){return n.isFoundDocument()?n.version:Ct.min()}class e_ extends Tb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Lc extends Tb{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function _I(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function UA(n,e,t){const i=new Map;Yt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],a=s.transform,u=e.data.field(s.field);i.set(s.field,LA(a,u,t[r]))}return i}function Sb(n,e,t){const i=new Map;for(const r of n){const s=r.transform,a=t.data.field(r.field);i.set(r.field,OA(s,a,e))}return i}class t_ extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class n_ extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kb{constructor(e){this.count=e}}var Qi,Rn;function Mb(n){switch(n){default:return It();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}function vI(n){if(void 0===n)return Yi("GRPC error has no .code"),Le.UNKNOWN;switch(n){case Qi.OK:return Le.OK;case Qi.CANCELLED:return Le.CANCELLED;case Qi.UNKNOWN:return Le.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Le.INTERNAL;case Qi.UNAVAILABLE:return Le.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Le.NOT_FOUND;case Qi.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Qi.ABORTED:return Le.ABORTED;case Qi.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Qi.DATA_LOSS:return Le.DATA_LOSS;default:return It()}}(Rn=Qi||(Qi={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}const jA=new Fi(mt.comparator);function No(){return jA}const HA=new Fi(mt.comparator);function Nb(...n){let e=HA;for(const t of n)e=e.insert(t.key,t);return e}function bg(){return new Fc(n=>n.toString(),(n,e)=>n.isEqual(e))}const wg=new Fi(mt.comparator),bI=new ui(mt.comparator);function qn(...n){let e=bI;for(const t of n)e=e.add(t);return e}const wI=new ui(rn);function Cg(){return wI}class sf{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t)),new sf(Ct.min(),i,Cg(),No(),qn())}}class af{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new af(hr.EMPTY_BYTE_STRING,t,qn(),qn(),qn())}}class i_{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class Rb{constructor(e,t){this.targetId=e,this.$=t}}class CI{constructor(e,t,i=hr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class xI{constructor(){this.B=0,this.L=lf(),this.U=hr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=qn(),t=qn(),i=qn();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:It()}}),new af(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=lf()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class zA{constructor(e){this.nt=e,this.st=new Map,this.it=No(),this.rt=EI(),this.ot=new ui(rn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:It()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(pg(s))if(0===i){const a=new mt(s.path);this.ct(t,a,pi.newNoDocument(a,Ct.min()))}else Yt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,a)=>{const u=this.wt(a);if(u){if(s.current&&pg(u.target)){const h=new mt(u.target.path);null!==this.it.get(h)||this.It(a,h)||this.ct(a,h,pi.newNoDocument(h,e))}s.j&&(t.set(a,s.H()),s.J())}});let i=qn();this.rt.forEach((s,a)=>{let u=!0;a.forEachWhile(h=>{const g=this.wt(h);return!g||2===g.purpose||(u=!1,!1)}),u&&(i=i.add(s))}),this.it.forEach((s,a)=>a.setReadTime(e));const r=new sf(e,t,this.ot,this.it,i);return this.it=No(),this.rt=EI(),this.ot=new ui(rn),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new xI,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ui(rn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||rt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new xI),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function EI(){return new Fi(mt.comparator)}function lf(){return new Fi(mt.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},Pb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ga{constructor(e,t){this.databaseId=e,this.N=t}}function xg(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r_(n,e){return n.N?e.toBase64():e.toUint8Array()}function Eg(n,e){return xg(n,e.toTimestamp())}function Dr(n){return Yt(!!n),Ct.fromTimestamp(function(e){const t=So(e);return new Ci(t.seconds,t.nanos)}(n))}function Ob(n,e){return(t=n,new Mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function II(n){const e=Mn.fromString(n);return Yt(jb(e)),e}function Vc(n,e){return Ob(n.databaseId,e.path)}function io(n,e){const t=II(e);if(t.get(1)!==n.databaseId.projectId)throw new Qe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Qe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mt(Fb(t))}function Lb(n,e){return Ob(n.databaseId,e)}function TI(n){const e=II(n);return 4===e.length?Mn.emptyPath():Fb(e)}function cf(n){return new Mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fb(n){return Yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function s_(n,e,t){return{name:Vc(n,e),fields:t.value.mapValue.fields}}function Vb(n,e,t){const i=io(n,e.name),r=Dr(e.updateTime),s=new ss({mapValue:{fields:e.fields}}),a=pi.newFoundDocument(i,r,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function o_(n,e){let t;if(e instanceof e_)t={update:s_(n,e.key,e.value)};else if(e instanceof t_)t={delete:Vc(n,e.key)};else if(e instanceof Lc)t={update:s_(n,e.key,e.data),updateMask:kI(e.fieldMask)};else{if(!(e instanceof n_))return It();t={verify:Vc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof tf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $a)return{fieldPath:s.field.canonicalString(),increment:a.k};throw It()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Eg(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:It()),t;var r}function Ig(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Vi.updateTime(Dr(r.updateTime)):void 0!==r.exists?Vi.exists(r.exists):Vi.none():Vi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let u=null;"setToServerValue"in a?(Yt("REQUEST_TIME"===a.setToServerValue),u=new tf):"appendMissingElements"in a?u=new Oc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Hl(a.removeAllFromArray.values||[]):"increment"in a?u=new $a(s,a.increment):It();const h=sr.fromServerFormat(a.fieldPath);return new nf(h,u)}(n,r)):[];var r;if(e.update){const r=io(n,e.update.name),s=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=new Ku((e.updateMask.fieldPaths||[]).map(g=>sr.fromServerFormat(g)));return new Lc(r,s,a,t,i)}return new e_(r,s,t,i)}if(e.delete){const r=io(n,e.delete);return new t_(r,t)}if(e.verify){const r=io(n,e.verify);return new n_(r,t)}return It()}function Ub(n,e){return{documents:[Lb(n,e.path)]}}function a_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Lb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const g=h.map(_=>function(b){if("=="===b.op){if(fb(b.value))return{unaryFilter:{field:id(b.field),op:"IS_NAN"}};if(EA(b.value))return{unaryFilter:{field:id(b.field),op:"IS_NULL"}}}else if("!="===b.op){if(fb(b.value))return{unaryFilter:{field:id(b.field),op:"IS_NOT_NAN"}};if(EA(b.value))return{unaryFilter:{field:id(b.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:id(b.field),op:KA(b.op),value:b.value}}}(_));return 1===g.length?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(g=>{return{field:id((_=g).field),direction:ZA(_.dir)};var _})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=(g=e.limit,n.N||lg(g)?g:{value:g});var g,u,h;return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt={before:!(h=e.endAt).inclusive,values:h.position}),t}function l_(n){let e=TI(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Yt(1===i);const _=t.from[0];_.allDescendants?r=_.collectionId:e=e.child(_.collectionId)}let s=[];t.where&&(s=DI(t.where));let a=[];t.orderBy&&(a=t.orderBy.map(_=>{return new Jh(Bc((b=_).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let u=null;t.limit&&(u=function(_){let b;return b="object"==typeof _?_.value:_,lg(b)?null:b}(t.limit));let h=null;var _;t.startAt&&(h=new jl((_=t.startAt).values||[],!!_.before));let g=null;return t.endAt&&(g=function(_){return new jl(_.values||[],!_.before)}(t.endAt)),_b(e,r,a,s,u,"F",h,g)}function DI(n){return n?void 0!==n.unaryFilter?[SI(n)]:void 0!==n.fieldFilter?[AI(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>DI(e)).reduce((e,t)=>e.concat(t)):It():[]}function ZA(n){return WA[n]}function KA(n){return Pb[n]}function id(n){return{fieldPath:n.canonicalString()}}function Bc(n){return sr.fromServerFormat(n.fieldPath)}function AI(n){return Gr.create(Bc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}}(n.fieldFilter.op),n.fieldFilter.value)}function SI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bc(n.unaryFilter.field);return Gr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bc(n.unaryFilter.field);return Gr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bc(n.unaryFilter.field);return Gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Bc(n.unaryFilter.field);return Gr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return It()}}function kI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hb(e)),e=MI(n.get(t),e);return Hb(e)}function MI(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Hb(n){return n+"\x01\x01"}function qa(n){const e=n.length;if(Yt(e>=2),2===e)return Yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Mn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const a=n.indexOf("\x01",s);switch((a<0||a>t)&&It(),n.charAt(a+1)){case"\x01":const u=n.substring(s,a);let h;0===r.length?h=u:(r+=u,h=r,r=""),i.push(h);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:It()}s=a+2}return new Mn(i)}const zb=["userId","batchId"];function Tg(n,e){return[n,ms(e)]}function os(n,e,t){return[n,ms(e),t]}const uf={},YA=["prefixPath","collectionGroup","readTime","documentId"],QA=["prefixPath","collectionGroup","documentId"],mP=["collectionGroup","readTime","prefixPath","documentId"],Dg=["canonicalId","targetId"],JA=["targetId","path"],Wb=["path","targetId"],XA=["collectionId","parent"],NI=["indexId","uid"],eS=["uid","sequenceNumber"],tS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$b=["indexId","uid","orderedDocumentKey"],RI=["userId","collectionPath","documentId"],PI=["userId","collectionPath","largestBatchId"],c_=["userId","collectionGroup","largestBatchId"],u_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yP=[...u_,"documentOverlays"],Gb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nS=[...Gb,"indexConfiguration","indexState","indexEntries"],qb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ag{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,i)=>{t(e)})}static reject(e){return new Fe((t,i)=>{i(e)})}static waitFor(e){return new Fe((t,i)=>{let r=0,s=0,a=!1;e.forEach(u=>{++r,u.next(()=>{++s,a&&s===r&&t()},h=>i(h))}),a=!0,s===r&&t()})}static or(e){let t=Fe.resolve(!1);for(const i of e)t=t.next(r=>r?Fe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class d_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Tr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new h_(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Yb(i.target.error);this.At.reject(new h_(e,r))}}static open(e,t,i,r){try{return new d_(t,e.transaction(r,i))}catch(s){throw new h_(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iS(t)}}class ro{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===ro.Vt((0,H.z$)())&&Yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rt("SimpleDb","Removing database:",e),Uc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,H.hl)())return!1;if(ro.St())return!0;const e=(0,H.z$)(),t=ro.Vt(e),i=0<t&&t<10,r=ro.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,$e.Z)(function*(){return t.db||(rt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new h_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const u=a.target.error;r("VersionError"===u.name?new Qe(Le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new Qe(Le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new h_(e,u))},s.onupgradeneeded=a=>{rt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',a.oldVersion),t.Pt.kt(a.target.result,s.transaction,a.oldVersion,t.version).next(()=>{rt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,$e.Z)(function*(){const a="readonly"===t;let u=0;for(;;){++u;try{s.db=yield s.Nt(e);const h=d_.open(s.db,e,a?"readonly":"readwrite",i),g=r(h).next(_=>(h.bt(),_)).catch(_=>(h.abort(_),Fe.reject(_))).toPromise();return g.catch(()=>{}),yield h.Rt,g}catch(h){const g="FirebaseError"!==h.name&&u<3;if(rt("SimpleDb","Transaction failed with error:",h.message,"Retrying:",g),s.close(),!g)return Promise.reject(h)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zb{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Uc(this.Ft.delete())}}class h_ extends Qe{constructor(e,t){super(Le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function rd(n){return"IndexedDbTransactionError"===n.name}class iS{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(rt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Uc(i)}add(e){return rt("SimpleDb","ADD",this.store.name,e,e),Uc(this.store.add(e))}get(e){return Uc(this.store.get(e)).next(t=>(void 0===t&&(t=null),rt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rt("SimpleDb","DELETE",this.store.name,e),Uc(this.store.delete(e))}count(){return rt("SimpleDb","COUNT",this.store.name),Uc(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(a,u)=>{s.push(u)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Fe((s,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{s(u.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Fe((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Qt(e,t){rt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,a,u)=>u.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new Fe((i,r)=>{t.onerror=s=>{const a=Yb(s.target.error);r(a)},t.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(u=>{u?a.continue():i()}):i()}})}Kt(e,t){const i=[];return new Fe((r,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const u=a.target.result;if(!u)return void r();const h=new Zb(u),g=t(u.primaryKey,u.value,h);if(g instanceof Fe){const _=g.catch(b=>(h.done(),Fe.reject(b)));i.push(_)}h.isDone?r():null===h.Lt?u.continue():u.continue(h.Lt)}}).next(()=>Fe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Uc(n){return new Fe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Yb(i.target.error);t(r)}})}let Kb=!1;function Yb(n){const e=ro.Vt((0,H.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Kb||(Kb=!0,setTimeout(()=>{throw i},0)),i}}return n}class Qb extends Ag{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function pr(n,e){const t=_t(n);return ro.xt(t.Ht,e)}class Jb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&BA(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Db(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Db(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qn())}isEqual(e){return this.batchId===e.batchId&&Gh(this.mutations,e.mutations,(t,i)=>Ab(t,i))&&Gh(this.baseMutations,e.baseMutations,(t,i)=>Ab(t,i))}}class Xb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Yt(e.mutations.length===i.length);let r=wg;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Xb(e,t,i,r)}}class f_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jc{constructor(e,t,i,r,s=Ct.min(),a=Ct.min(),u=hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u}withSequenceNumber(e){return new jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ew{constructor(e){this.Jt=e}}function tw(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Sg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Vc(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:xg(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:sd(e.version)};else{if(!e.isUnknownDocument())return It();i.unknownDocument={path:t.path.toArray(),version:sd(e.version)}}var r,s;return i}function Sg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function od(n){const e=new Ci(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function kg(n,e){const t=(e.baseMutations||[]).map(s=>Ig(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(a.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Ig(n.Jt,s)),r=Ci.fromMillis(e.localWriteTimeMs);return new Jb(e.batchId,r,t,i)}function df(n){const e=od(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?od(n.lastLimboFreeSnapshotVersion):Ct.min();let i;var r;return void 0!==n.query.documents?(Yt(1===(r=n.query).documents.length),i=Mo(Pc(TI(r.documents[0])))):i=Mo(l_(n.query)),new jc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,hr.fromBase64String(n.resumeToken))}function rS(n,e){const t=sd(e.snapshotVersion),i=sd(e.lastLimboFreeSnapshotVersion);let r;r=pg(e.target)?Ub(n.Jt,e.target):a_(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ed(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function LI(n){const e=l_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wb(e,e.limit,"L"):e}function FI(n,e){return new f_(e.largestBatchId,Ig(n.Jt,e.overlayMutation))}function sS(n,e){const t=e.path.lastSegment();return[n,ms(e.path.popLast()),t]}class _P{getBundleMetadata(e,t){return oS(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:od(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return oS(e).put({bundleId:(i=t).id,createTime:sd(Dr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return aS(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:LI(r.bundledQuery),readTime:od(r.readTime)};var r})}saveNamedQuery(e,t){return aS(e).put({name:(i=t).name,readTime:sd(Dr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function oS(n){return pr(n,"bundles")}function aS(n){return pr(n,"namedQueries")}class VI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new VI(e,t.uid||"")}getOverlay(e,t){return Hc(e).get(sS(this.userId,t)).next(i=>i?FI(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,a)=>{const u=new f_(t,a);r.push(this.Xt(e,u))}),Fe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(a=>r.add(ms(a.getCollectionPath())));const s=[];return r.forEach(a=>{const u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Hc(e).Qt("collectionPathOverlayIndex",u))}),Fe.waitFor(s)}getOverlaysForCollection(e,t,i){const r=bg(),s=ms(t),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Hc(e).qt("collectionPathOverlayIndex",a).next(u=>{for(const h of u){const g=FI(this.M,h);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=bg();let a;const u=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hc(e).Wt({index:"collectionGroupOverlayIndex",range:u},(h,g,_)=>{const b=FI(this.M,g);s.size()<r||b.largestBatchId===a?(s.set(b.getKey(),b),a=b.largestBatchId):_.done()}).next(()=>s)}Xt(e,t){return Hc(e).put(function(i,r,s){const[a,u,h]=sS(r,s.mutation.key);return{userId:r,collectionPath:u,documentId:h,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:o_(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function Hc(n){return pr(n,"documentOverlays")}class hf{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Li(e.integerValue));else if("doubleValue"in e){const i=Li(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),Bl(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Yu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?eI(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):It()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),mt.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function BI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function p_(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=BI(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}hf.fe=new hf;class UI{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=p_(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=p_(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class jI{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class vP{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ad{constructor(){this.De=new UI,this.Ce=new jI(this.De),this.xe=new vP(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class zc{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new zc(this.indexId,this.documentKey,this.arrayValue,i)}}function ld(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nw(n.arrayValue,e.arrayValue),0!==t?t:(t=nw(n.directionalValue,e.directionalValue),0!==t?t:mt.comparator(n.documentKey,e.documentKey)))}function nw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class bP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=pb(e);if(void 0!==t&&!this.Be(t))return!1;const i=Ju(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const a=i[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[s++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],a))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class lS{constructor(){this.qe=new iw}addToCollectionParentIndex(e,t){return this.qe.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(ko.min())}updateCollectionGroup(e,t,i){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class iw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ui(Mn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ui(Mn.comparator)).toArray()}}const ff=new Uint8Array(0);class cS{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new iw,this.Ge=new Fc(i=>ed(i),(i,r)=>fg(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:ms(r)};return uS(e).put(s)}return Fe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[sg(t),""],!1,!0);return uS(e).qt(r).next(s=>{for(const a of s){if(a.collectionId!==t)break;i.push(qa(a.parent))}return i})}addFieldIndex(e,t){const i=rw(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=rw(e),r=m_(e),s=g_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=g_(e);let r=!0;const s=new Map;return Fe.forEach(this.Qe(t),a=>this.je(e,a).next(u=>{r&&(r=!!u),s.set(a,u)})).next(()=>{if(r){let a=qn();const u=[];return Fe.forEach(s,(h,g)=>{var _;rt("IndexedDbIndexManager",`Using index ${_=h,`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${ed(t)}`);const b=function(He,Ne){const ke=pb(Ne);if(void 0===ke)return null;for(const tt of Qy(He,ke.fieldPath))switch(tt.op){case"array-contains-any":return tt.value.arrayValue.values||[];case"array-contains":return[tt.value]}return null}(g,h),I=function(He,Ne){const ke=new Map;for(const tt of Ju(Ne))for(const lt of Qy(He,tt.fieldPath))switch(lt.op){case"==":case"in":ke.set(tt.fieldPath.canonicalString(),lt.value);break;case"not-in":case"!=":return ke.set(tt.fieldPath.canonicalString(),lt.value),Array.from(ke.values())}return null}(g,h),S=function(He,Ne){const ke=[];let tt=!0;for(const lt of Ju(Ne)){const Dt=0===lt.kind?aI(He,lt.fieldPath,He.startAt):lI(He,lt.fieldPath,He.startAt);ke.push(Dt.value),tt&&(tt=Dt.inclusive)}return new jl(ke,tt)}(g,h),P=function(He,Ne){const ke=[];let tt=!0;for(const lt of Ju(Ne)){const Dt=0===lt.kind?lI(He,lt.fieldPath,He.endAt):aI(He,lt.fieldPath,He.endAt);ke.push(Dt.value),tt&&(tt=Dt.inclusive)}return new jl(ke,tt)}(g,h),U=this.We(h,g,S),J=this.We(h,g,P),le=this.ze(h,g,I),Te=this.He(h.indexId,b,U,S.inclusive,J,P.inclusive,le);return Fe.forEach(Te,He=>i.Gt(He,t.limit).next(Ne=>{Ne.forEach(ke=>{const tt=mt.fromSegments(ke.documentKey);a.has(tt)||(a=a.add(tt),u.push(tt))})}))}).next(()=>u)}return Fe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,r,s,a,u){const h=(null!=t?t.length:1)*Math.max(i.length,s.length),g=h/(null!=t?t.length:1),_=[];for(let b=0;b<h;++b){const I=t?this.Je(t[b/g]):ff,S=this.Ye(e,I,i[b%g],r),P=this.Xe(e,I,s[b%g],a),U=u.map(J=>this.Ye(e,I,J,!0));_.push(...this.createRange(S,P,U))}return _}Ye(e,t,i,r){const s=new zc(e,mt.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new zc(e,mt.empty(),t,i);return r?s.ke():s}je(e,t){const i=new bP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let a=null;for(const u of s)i.$e(u)&&(!a||u.fields.length>a.fields.length)&&(a=u);return a})}getIndexType(e,t){let i=2;return Fe.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?0!==i&&s.fields.length<function(a){let u=new ui(sr.comparator),h=!1;for(const g of a.filters){const _=g;_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?h=!0:u=u.add(_.field))}for(const g of a.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new ad;for(const r of Ju(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const a=i.Ne(r.kind);hf.fe.Zt(s,a)}return i.Se()}Je(e){const t=new ad;return hf.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new ad;return hf.fe.Zt(Qh(this.databaseId,t),i.Ne(function(r){const s=Ju(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let r=[];r.push(new ad);let s=0;for(const a of Ju(e)){const u=i[s++];for(const h of r)if(this.en(t,a.fieldPath)&&Ky(u))r=this.nn(r,a,u);else{const g=h.Ne(a.kind);hf.fe.Zt(u,g)}}return this.sn(r)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const a of i.arrayValue.values||[])for(const u of r){const h=new ad;h.seed(u.Se()),hf.fe.Zt(a,h.Ne(t.kind)),s.push(h)}return s}en(e,t){return!!e.filters.find(i=>i instanceof Gr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=rw(e),r=m_(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const a=[];return Fe.forEach(s,u=>r.get([u.indexId,this.uid]).next(h=>{a.push(function(g,_){const b=_?new hg(_.sequenceNumber,new ko(od(_.readTime),new mt(qa(_.documentKey)),_.largestBatchId)):hg.empty(),I=g.fields.map(([S,P])=>new Ul(sr.fromServerFormat(S),P));return new dg(g.indexId,g.collectionGroup,I,b)}(u,h))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:rn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=rw(e),s=m_(e);return this.rn(e).next(a=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(u=>Fe.forEach(u,h=>{return s.put({indexId:h.indexId,uid:this.user.uid||"",sequenceNumber:a,readTime:sd((I=i).readTime),documentKey:ms(I.documentKey.path),largestBatchId:I.largestBatchId});var I})))}updateIndexEntries(e,t){const i=new Map;return Fe.forEach(t,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Fe.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),Fe.forEach(u,h=>this.on(e,r,h).next(g=>{const _=this.un(s,h);return g.isEqual(_)?Fe.resolve():this.an(e,s,h,g,_)}))))})}cn(e,t,i,r){return g_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return g_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=g_(e);let s=new ui(ld);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(a,u)=>{s=s.add(new zc(i.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}un(e,t){let i=new ui(ld);const r=this.Ze(t,e);if(null==r)return i;const s=pb(t);if(null!=s){const a=e.data.field(s.fieldPath);if(Ky(a))for(const u of a.arrayValue.values||[])i=i.add(new zc(t.indexId,e.key,this.Je(u),r))}else i=i.add(new zc(t.indexId,e.key,ff,r));return i}an(e,t,i,r,s){rt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(u,h,g,_,b){const I=u.getIterator(),S=h.getIterator();let P=Xu(I),U=Xu(S);for(;P||U;){let J=!1,le=!1;if(P&&U){const Te=g(P,U);Te<0?le=!0:Te>0&&(J=!0)}else null!=P?le=!0:J=!0;J?(_(U),U=Xu(S)):le?(b(P),P=Xu(I)):(P=Xu(I),U=Xu(S))}}(r,s,ld,u=>{a.push(this.cn(e,t,i,u))},u=>{a.push(this.hn(e,t,i,u))}),Fe.waitFor(a)}rn(e){let t=1;return m_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((a,u)=>ld(a,u)).filter((a,u,h)=>!u||0!==ld(a,h[u-1]));const r=[];r.push(e);for(const a of i){const u=ld(a,e),h=ld(a,t);if(0===u)r[0]=e.ke();else if(u>0&&h<0)r.push(a),r.push(a.ke());else if(h>0)break}r.push(t);const s=[];for(let a=0;a<r.length;a+=2)s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,ff,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,ff,[]]));return s}getMinOffset(e,t){let i;return Fe.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?(!i||sI(s.indexState.offset,i)<0)&&(i=s.indexState.offset):i=ko.min()})).next(()=>i)}}function uS(n){return pr(n,"collectionParents")}function g_(n){return pr(n,"indexEntries")}function rw(n){return pr(n,"indexConfiguration")}function m_(n){return pr(n,"indexState")}const HI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ms{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ms(e,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dS(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(t.batchId);let u=0;const h=i.Wt({range:a},(_,b,I)=>(u++,I.delete()));s.push(h.next(()=>{Yt(1===u)}));const g=[];for(const _ of t.mutations){const b=os(e,_.key.path,t.batchId);s.push(r.delete(b)),g.push(_.key)}return Fe.waitFor(s).next(()=>g)}function y_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw It();e=n.noDocument}return JSON.stringify(e).length}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class Mg{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Yt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Mg(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).Wt({index:"userMutationsIndex",range:i},(r,s,a)=>{t=!1,a.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=pf(e),a=Ar(e);return a.add({}).next(u=>{Yt("number"==typeof u);const h=new Jb(u,t,i,r),g=function(I,S,P){const U=P.baseMutations.map(le=>o_(I.Jt,le)),J=P.mutations.map(le=>o_(I.Jt,le));return{userId:S,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:U,mutations:J}}(this.M,this.userId,h),_=[];let b=new ui((I,S)=>rn(I.canonicalString(),S.canonicalString()));for(const I of r){const S=os(this.userId,I.key.path,u);b=b.add(I.key.path.popLast()),_.push(a.put(g)),_.push(s.put(S,uf))}return b.forEach(I=>{_.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.ln[u]=h.keys()}),Fe.waitFor(_).next(()=>h)})}lookupMutationBatch(e,t){return Ar(e).get(t).next(i=>i?(Yt(i.userId===this.userId),kg(this.M,i)):null)}fn(e,t){return this.ln[t]?Fe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Ar(e).Wt({index:"userMutationsIndex",range:r},(a,u,h)=>{u.userId===this.userId&&(Yt(u.batchId>=i),s=kg(this.M,u)),h.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ar(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ar(e).qt("userMutationsIndex",t).next(i=>i.map(r=>kg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Tg(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return pf(e).Wt({range:r},(a,u,h)=>{const[g,_,b]=a,I=qa(_);if(g===this.userId&&t.path.isEqual(I))return Ar(e).get(b).next(S=>{if(!S)throw It();Yt(S.userId===this.userId),s.push(kg(this.M,S))});h.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(rn);const r=[];return t.forEach(s=>{const a=Tg(this.userId,s.path),u=IDBKeyRange.lowerBound(a),h=pf(e).Wt({range:u},(g,_,b)=>{const[I,S,P]=g,U=qa(S);I===this.userId&&s.path.isEqual(U)?i=i.add(P):b.done()});r.push(h)}),Fe.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Tg(this.userId,i),a=IDBKeyRange.lowerBound(s);let u=new ui(rn);return pf(e).Wt({range:a},(h,g,_)=>{const[b,I,S]=h,P=qa(I);b===this.userId&&i.isPrefixOf(P)?P.length===r&&(u=u.add(S)):_.done()}).next(()=>this.dn(e,u))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Ar(e).get(s).next(a=>{if(null===a)throw It();Yt(a.userId===this.userId),i.push(kg(this.M,a))}))}),Fe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return dS(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return pf(e).Wt({range:i},(s,a,u)=>{if(s[0]===this.userId){const h=qa(s[1]);r.push(h)}else u.done()}).next(()=>{Yt(0===r.length)})})}containsKey(e,t){return zI(e,this.userId,t)}wn(e){return __(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function zI(n,e,t){const i=Tg(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return pf(n).Wt({range:s,jt:!0},(u,h,g)=>{const[_,b,I]=u;_===e&&b===r&&(a=!0),g.done()}).next(()=>a)}function Ar(n){return pr(n,"mutations")}function pf(n){return pr(n,"documentMutations")}function __(n){return pr(n,"mutationQueues")}class cd{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new cd(0)}static yn(){return new cd(-1)}}class hS{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new cd(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Ct.fromTimestamp(new Ci(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Wc(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Yt(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Wc(e).Wt((a,u)=>{const h=df(u);h.sequenceNumber<=t&&null===i.get(h.targetId)&&(r++,s.push(this.removeTargetData(e,h)))}).next(()=>Fe.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Wc(e).Wt((i,r)=>{const s=df(r);t(s)})}pn(e){return sw(e).get("targetGlobalKey").next(t=>(Yt(null!==t),t))}In(e,t){return sw(e).put("targetGlobalKey",t)}Tn(e,t){return Wc(e).put(rS(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ed(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Wc(e).Wt({range:r,index:"queryTargetsIndex"},(a,u,h)=>{const g=df(u);fg(t,g.target)&&(s=g,h.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=zl(e);return t.forEach(a=>{const u=ms(a.path);r.push(s.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(e,i,a))}),Fe.waitFor(r)}removeMatchingKeys(e,t,i){const r=zl(e);return Fe.forEach(t,s=>{const a=ms(s.path);return Fe.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=zl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=zl(e);let s=qn();return r.Wt({range:i,jt:!0},(a,u,h)=>{const g=qa(a[1]),_=new mt(g);s=s.add(_)}).next(()=>s)}containsKey(e,t){const i=ms(t.path),r=IDBKeyRange.bound([i],[sg(i)],!1,!0);let s=0;return zl(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([a,u],h,g)=>{0!==a&&(s++,g.done())}).next(()=>s>0)}Et(e,t){return Wc(e).get(t).next(i=>i?df(i):null)}}function Wc(n){return pr(n,"targets")}function sw(n){return pr(n,"targetGlobal")}function zl(n){return pr(n,"targetDocuments")}function ud(n){return v_.apply(this,arguments)}function v_(){return v_=(0,$e.Z)(function*(n){if(n.code!==Le.FAILED_PRECONDITION||n.message!==qb)throw n;rt("LocalStore","Unexpectedly lost primary lease")}),v_.apply(this,arguments)}function WI([n,e],[t,i]){const r=rn(n,t);return 0===r?rn(e,i):r}class fS{constructor(e){this.An=e,this.buffer=new ui(WI),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();WI(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;rt("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,$e.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){rd(r)?rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ud(r)}yield t.Sn(e)}))}}class ow{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(no.A);const i=new fS(t);return this.Dn.forEachTarget(e,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(HI)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HI):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,a,u,h,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,a=Date.now(),this.nthSequenceNumber(e,r))).next(b=>(i=b,u=Date.now(),this.removeTargets(e,i,t))).next(b=>(s=b,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Gy()<=ca.in.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-_}ms\n\tDetermined least recently used ${r} in `+(u-a)+`ms\n\tRemoved ${s} targets in `+(h-u)+`ms\n\tRemoved ${b} documents in `+(g-h)+`ms\nTotal Duration: ${g-_}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:b})))}}class dd{constructor(e,t){this.db=e,this.garbageCollector=new ow(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return Ng(e,i)}removeReference(e,t,i){return Ng(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ng(e,t)}On(e,t){return function(i,r){let s=!1;return __(i).zt(a=>zI(i,a,r).next(u=>(u&&(s=!0),Fe.resolve(!u)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(a,u)=>{if(u<=t){const h=this.On(e,a).next(g=>{if(!g)return s++,i.getEntry(e,a).next(()=>(i.removeEntry(a,Ct.min()),zl(e).delete([0,ms(a.path)])))});r.push(h)}}).next(()=>Fe.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ng(e,t)}Mn(e,t){const i=zl(e);let r,s=no.A;return i.Wt({index:"documentTargetsIndex"},([a,u],{path:h,sequenceNumber:g})=>{0===a?(s!==no.A&&t(new mt(qa(r)),s),s=g,r=h):s=no.A}).next(()=>{s!==no.A&&t(new mt(qa(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ng(n,e){return zl(n).put((i=n.currentSequenceNumber,{targetId:0,path:ms(e.path),sequenceNumber:i}));var i}class aw{constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Fe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gS{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return hd(e).put(i)}removeEntry(e,t,i){return hd(e).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Sg(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=pi.newInvalidDocument(t);return hd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rg(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:pi.newInvalidDocument(t)};return hd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Rg(t))},(r,s)=>{i={document:this.$n(t,s),size:y_(s)}}).next(()=>i)}getEntries(e,t){let i=No();return this.Ln(e,t,(r,s)=>{const a=this.$n(r,s);i=i.insert(r,a)}).next(()=>i)}Un(e,t){let i=No(),r=new Fi(mt.comparator);return this.Ln(e,t,(s,a)=>{const u=this.$n(s,a);i=i.insert(s,u),r=r.insert(s,y_(a))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return Fe.resolve();let r=new ui(GI);t.forEach(h=>r=r.add(h));const s=IDBKeyRange.bound(Rg(r.first()),Rg(r.last())),a=r.getIterator();let u=a.getNext();return hd(e).Wt({index:"documentKeyIndex",range:s},(h,g,_)=>{const b=mt.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;u&&GI(u,b)<0;)i(u,null),u=a.getNext();u&&u.isEqual(b)&&(i(u,g),u=a.hasNext()?a.getNext():null),u?_.Ut(Rg(u)):_.done()}).next(()=>{for(;u;)i(u,null),u=a.hasNext()?a.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Sg(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hd(e).qt(IDBKeyRange.bound(r,s,!0)).next(a=>{let u=No();for(const h of a){const g=this.$n(mt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);u=u.insert(g.key,g)}return u})}getAllFromCollectionGroup(e,t,i,r){let s=No();const a=lw(t,i),u=lw(t,ko.max());return hd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,u,!0)},(h,g,_)=>{const b=this.$n(mt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(b.key,b),s.size===r&&_.done()}).next(()=>s)}newChangeBuffer(e){return new wP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $I(e).get("remoteDocumentGlobalKey").next(t=>(Yt(!!t),t))}Fn(e,t){return $I(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function OI(n,e){let t;if(e.document)t=Vb(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=mt.fromSegments(e.noDocument.path),r=od(e.noDocument.readTime);t=pi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return It();{const i=mt.fromSegments(e.unknownDocument.path),r=od(e.unknownDocument.version);t=pi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Ci(i[0],i[1]);return Ct.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Ct.min()))return i}return pi.newInvalidDocument(e)}}class wP extends aw{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Fc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ui((s,a)=>rn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const u=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,u.readTime)),a.isValidDocument()){const h=tw(this.Kn.M,a);r=r.add(s.path.popLast()),i+=y_(h)-u.size,t.push(this.Kn.addEntry(e,s,h))}else if(i-=u.size,this.trackRemovals){const h=tw(this.Kn.M,a.convertToNoDocument(Ct.min()));t.push(this.Kn.addEntry(e,s,h))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,a)=>{this.Gn.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function $I(n){return pr(n,"remoteDocumentGlobal")}function hd(n){return pr(n,"remoteDocumentsV14")}function Rg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lw(n,e){const t=e.documentKey.path.toArray();return[n,Sg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function GI(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=rn(t[s],i[s]),r)return r;return r=rn(t.length,i.length),r||(r=rn(t[t.length-2],i[i.length-2]),r||rn(t[t.length-1],i[i.length-1]))}class mS{constructor(e){this.M=e}kt(e,t,i,r){const s=new d_("createOrUpgrade",t);var u;i<1&&r>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zb,{unique:!0}),u.createObjectStore("documentMutations"),yS(e),function(u){u.createObjectStore("remoteDocuments")}(e));let a=Fe.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),yS(e)),a=a.next(()=>function(u){const h=u.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return h.put("targetGlobalKey",g)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(u,h){return h.store("mutations").qt().next(g=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zb,{unique:!0});const _=h.store("mutations"),b=g.map(I=>_.put(I));return Fe.waitFor(b)})}(e,s))),a=a.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(a=a.next(()=>this.Qn(s))),i<6&&r>=6&&(a=a.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(a=a.next(()=>this.Wn(s))),i<8&&r>=8&&(a=a.next(()=>this.zn(e,s))),i<9&&r>=9&&(a=a.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(a=a.next(()=>this.Hn(s))),i<11&&r>=11&&(a=a.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(a=a.next(()=>{!function(u){const h=u.createObjectStore("documentOverlays",{keyPath:RI});h.createIndex("collectionPathOverlayIndex",PI,{unique:!1}),h.createIndex("collectionGroupOverlayIndex",c_,{unique:!1})}(e)})),i<13&&r>=13&&(a=a.next(()=>function(u){const h=u.createObjectStore("remoteDocumentsV14",{keyPath:YA});h.createIndex("documentKeyIndex",QA),h.createIndex("collectionGroupIndex",mP)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>{!function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:NI}).createIndex("sequenceNumberIndex",eS,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:tS}).createIndex("documentKeyIndex",$b,{unique:!1})}(e)})),a}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=y_(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>Fe.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",a).next(u=>Fe.forEach(u,h=>{Yt(h.userId===s.userId);const g=kg(this.M,h);return dS(e,s.userId,g).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((a,u)=>{const h=new Mn(a),g=[0,ms(h)];s.push(t.get(g).next(_=>_?Fe.resolve():t.put({targetId:0,path:ms(h),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:XA});const i=t.store("collectionParents"),r=new iw,s=a=>{if(r.add(a)){const u=a.lastSegment(),h=a.popLast();return i.put({collectionId:u,parent:ms(h)})}};return t.store("remoteDocuments").Wt({jt:!0},(a,u)=>{const h=new Mn(a);return s(h.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([a,u,h],g)=>{const _=qa(u);return s(_.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=df(r),a=rS(this.M,s);return t.put(a)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,a)=>{const u=t.store("remoteDocumentsV14"),h=(g=a,g.document?new mt(Mn.fromString(g.document.name).popFirst(5)):g.noDocument?mt.fromSegments(g.noDocument.path):g.unknownDocument?mt.fromSegments(g.unknownDocument.path):It()).path.toArray();var g;const _={prefixPath:h.slice(0,h.length-2),collectionGroup:h[h.length-2],documentId:h[h.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(u.put(_))}).next(()=>Fe.waitFor(r))}}function yS(n){n.createObjectStore("targetDocuments",{keyPath:JA}).createIndex("documentTargetsIndex",Wb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Dg,{unique:!0}),n.createObjectStore("targetGlobal")}const Pg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class b_{constructor(e,t,i,r,s,a,u,h,g,_,b=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=a,this.document=u,this.Xn=g,this.Zn=_,this.ts=b,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=I=>Promise.resolve(),!b_.vt())throw new Qe(Le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dd(this,r),this.hs=t+"main",this.M=new ew(h),this.ls=new ro(this.hs,this.ts,new mS(this.M)),this.fs=new hS(this.referenceDelegate,this.M),this.ds=new gS(this.M),this._s=new _P,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===_&&Yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qe(Le.FAILED_PRECONDITION,Pg);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new no(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,$e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,$e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,$e.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>w_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(rd(e))return rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Og(e).get("owner").next(t=>Fe.resolve(this.Ps(t)))}Vs(e){return w_(e).delete(this.clientId)}vs(){var e=this;return(0,$e.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=pr(i,"clientMetadata");return r.qt().next(s=>{const a=e.Ds(s,18e5),u=s.filter(h=>-1===a.indexOf(h));return Fe.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Fe.resolve(!0):Og(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Qe(Le.FAILED_PRECONDITION,Pg);return!1}}return!(!this.networkEnabled||!this.inForeground)||w_(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,u=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&u)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&rt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$e.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Qb(t,no.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>w_(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Mg.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new cS(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return VI.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){rt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(a=this.ts)?nS:13===a?Gb:12===a?yP:11===a?u_:void It();var a;let u;return this.ls.runTransaction(e,r,s,h=>(u=new Qb(h,this.es?this.es.next():no.A),"readwrite-primary"===t?this.Es(u).next(g=>!!g||this.As(u)).next(g=>{if(!g)throw Yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Qe(Le.FAILED_PRECONDITION,qb);return i(u)}).next(g=>this.bs(u).next(()=>g)):this.$s(u).next(()=>i(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}$s(e){return Og(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Qe(Le.FAILED_PRECONDITION,Pg)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Og(e).put("owner",t)}static vt(){return ro.vt()}Rs(e){const t=Og(e);return t.get("owner").next(i=>this.Ps(i)?(rt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(Yi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,H.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return rt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Yi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Og(n){return pr(n,"owner")}function w_(n){return pr(n,"clientMetadata")}function C_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cw{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return mt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):bb(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new mt(t)).next(i=>{let r=Nb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=Nb();return this.indexManager.getCollectionParents(e,r).next(a=>Fe.forEach(a,u=>{const h=(g=t,_=u.child(r),new ya(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,_;return this.zs(e,h,i).next(g=>{g.forEach((_,b)=>{s=s.insert(_,b)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const a of s)for(const u of a.mutations){const h=u.key;let g=r.get(h);null==g&&(g=pi.newInvalidDocument(h),r=r.insert(h,g)),Db(u,g,a.localWriteTime),g.isFoundDocument()||(r=r.remove(h))}}).next(()=>(r.forEach((s,a)=>{xb(t,a)||(r=r.remove(s))}),r))}}class Lg{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=qn(),r=qn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Lg(e,t.fromCache,i,r)}}class uw{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(s=>s||this.ei(e,t,r,i)).next(s=>s||this.ni(e,t))}ti(e,t){return Fe.resolve(null)}ei(e,t,i,r){return function RA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Ct.min())?this.ni(e,t):this.Zs.Ks(e,i).next(s=>{const a=this.si(t,s);return this.ii(t,a,i,r)?this.ni(e,t):(Gy()<=ca.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fI(t)),this.ri(e,a,t,gb(r,-1)))})}si(e,t){let i=new ui(pI(e));return t.forEach((r,s)=>{xb(e,s)&&(i=i.add(s))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(e,t){return Gy()<=ca.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",fI(t)),this.Zs.Qs(e,t,ko.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}}class _S{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new Fi(rn),this.ai=new Fc(s=>ed(s),fg),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new cw(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function dw(n,e,t,i){return new _S(n,e,t,i)}function hw(n,e){return fw.apply(this,arguments)}function fw(){return fw=(0,$e.Z)(function*(n,e){const t=_t(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.li(e),t.Bs.getAllMutationBatches(i))).next(s=>{const a=[],u=[];let h=qn();for(const g of r){a.push(g.batchId);for(const _ of g.mutations)h=h.add(_.key)}for(const g of s){u.push(g.batchId);for(const _ of g.mutations)h=h.add(_.key)}return t.fi.Ks(i,h).next(g=>({di:g,removedBatchIds:a,addedBatchIds:u}))})})}),fw.apply(this,arguments)}function vS(n,e){const t=_t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(a,u,h,g){const _=h.batch,b=_.keys();let I=Fe.resolve();return b.forEach(S=>{I=I.next(()=>g.getEntry(u,S)).next(P=>{const U=h.docVersions.get(S);Yt(null!==U),P.version.compareTo(U)<0&&(_.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),g.addEntry(P)))})}),I.next(()=>a.Bs.removeMutationBatch(u,_))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function bS(n){const e=_t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function CP(n,e){const t=_t(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const u=[];e.targetChanges.forEach((g,_)=>{const b=r.get(_);if(!b)return;u.push(t.fs.removeMatchingKeys(s,g.removedDocuments,_).next(()=>t.fs.addMatchingKeys(s,g.addedDocuments,_)));let I=b.withSequenceNumber(s.currentSequenceNumber);var S,P,U;e.targetMismatches.has(_)?I=I.withResumeToken(hr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,i)),r=r.insert(_,I),P=I,U=g,(0===(S=b).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0)&&u.push(t.fs.updateTargetData(s,I))});let h=No();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(pw(s,a,e.documentUpdates).next(g=>{h=g})),!i.isEqual(Ct.min())){const g=t.fs.getLastRemoteSnapshotVersion(s).next(_=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(g)}return Fe.waitFor(u).next(()=>a.apply(s)).next(()=>t.fi.Gs(s,h)).next(()=>h)}).then(s=>(t.ui=r,s))}function pw(n,e,t){let i=qn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=No();return t.forEach((a,u)=>{const h=r.get(a);u.isNoDocument()&&u.version.isEqual(Ct.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||0===u.version.compareTo(h.version)&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):rt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",u.version)}),s})}function wS(n,e){const t=_t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function gf(n,e){const t=_t(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,Fe.resolve(r)):t.fs.allocateTargetId(i).next(a=>(r=new jc(e,a,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function mf(n,e,t){return qI.apply(this,arguments)}function qI(){return qI=(0,$e.Z)(function*(n,e,t){const i=_t(n),r=i.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!rd(a))throw a;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),qI.apply(this,arguments)}function gw(n,e,t){const i=_t(n);let r=Ct.min(),s=qn();return i.persistence.runTransaction("Execute query","readonly",a=>function(u,h,g){const _=_t(u),b=_.ai.get(g);return void 0!==b?Fe.resolve(_.ui.get(b)):_.fs.getTargetData(h,g)}(i,a,Mo(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(a,u.targetId).next(h=>{s=h})}).next(()=>i.oi.Qs(a,e,t?r:Ct.min(),t?s:qn())).next(u=>(ES(i,yg(e),u),{documents:u,_i:s})))}function CS(n,e){const t=_t(n),i=_t(t.fs),r=t.ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(a=>a?a.target:null))}function xS(n,e){const t=_t(n),i=t.ci.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.hi.getAllFromCollectionGroup(r,e,gb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(ES(t,e,r),r))}function ES(n,e,t){let i=Ct.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(e,i)}function yf(){return yf=(0,$e.Z)(function*(n,e,t,i){const r=_t(n);let s=qn(),a=No();for(const g of t){const _=e.wi(g.metadata.name);g.document&&(s=s.add(_));const b=e.mi(g);b.setReadTime(e.gi(g.metadata.readTime)),a=a.insert(_,b)}const u=r.hi.newChangeBuffer({trackRemovals:!0}),h=yield gf(r,(g=i,Mo(Pc(Mn.fromString(`__bundle__/docs/${g}`)))));var g;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>pw(g,u,a).next(_=>(u.apply(g),_)).next(_=>r.fs.removeMatchingKeysForTargetId(g,h.targetId).next(()=>r.fs.addMatchingKeys(g,s,h.targetId)).next(()=>r.fi.Gs(g,_)).next(()=>_)))}),yf.apply(this,arguments)}function TS(n,e){return mw.apply(this,arguments)}function mw(){return mw=(0,$e.Z)(function*(n,e,t=qn()){const i=yield gf(n,Mo(LI(e.bundledQuery))),r=_t(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=Dr(e.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r._s.saveNamedQuery(s,e);const u=i.withResumeToken(hr.EMPTY_BYTE_STRING,a);return r.ui=r.ui.insert(u.targetId,u),r.fs.updateTargetData(s,u).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),mw.apply(this,arguments)}class ZI{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Fe.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Dr(i.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:LI(i.bundledQuery),readTime:Dr(i.readTime)}),Fe.resolve();var i}}class fd{constructor(){this.overlays=new Fi(mt.comparator),this.Ii=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),Fe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),Fe.resolve()}getOverlaysForCollection(e,t,i){const r=bg(),s=t.length+1,a=new mt(t.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Fe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Fi((g,_)=>g-_);const a=this.overlays.getIterator();for(;a.hasNext();){const g=a.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=s.get(g.largestBatchId);null===_&&(_=bg(),s=s.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const u=bg(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((g,_)=>u.set(g,_)),!(u.size()>=r)););return Fe.resolve(u)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const a=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new f_(t,i));let s=this.Ii.get(t);void 0===s&&(s=qn(),this.Ii.set(t,s)),this.Ii.set(t,s.add(i.key))}}class x_{constructor(){this.Ti=new ui(or.Ei),this.Ai=new ui(or.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new or(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new or(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new mt(new Mn([])),i=new or(t,e),r=new or(t,e+1),s=[];return this.Ai.forEachInRange([i,r],a=>{this.Pi(a),s.push(a.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new mt(new Mn([])),i=new or(t,e),r=new or(t,e+1);let s=qn();return this.Ai.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const t=new or(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class or{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return mt.comparator(e.key,t.key)||rn(e.Ci,t.Ci)}static Ri(e,t){return rn(e.Ci,t.Ci)||mt.comparator(e.key,t.key)}}class yw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new ui(or.Ei)}checkEmpty(e){return Fe.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.xi;this.xi++;const a=new Jb(s,t,i,r);this.Bs.push(a);for(const u of r)this.Ni=this.Ni.add(new or(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Fe.resolve(a)}lookupMutationBatch(e,t){return Fe.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),s=r<0?0:r;return Fe.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Fe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new or(t,0),r=new or(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],a=>{const u=this.ki(a.Ci);s.push(u)}),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ui(rn);return t.forEach(r=>{const s=new or(r,0),a=new or(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,a],u=>{i=i.add(u.Ci)})}),Fe.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;mt.isDocumentKey(s)||(s=s.child(""));const a=new or(new mt(s),0);let u=new ui(rn);return this.Ni.forEachWhile(h=>{const g=h.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(u=u.add(h.Ci)),!0)},a),Fe.resolve(this.Oi(u))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Yt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Fe.forEach(t.mutations,r=>{const s=new or(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new or(t,0),r=this.Ni.firstAfterOrEqual(i);return Fe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Fe.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class DS{constructor(e){this.$i=e,this.docs=new Fi(mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Fe.resolve(i?i.document.mutableCopy():pi.newInvalidDocument(t))}getEntries(e,t){let i=No();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pi.newInvalidDocument(r))}),Fe.resolve(i)}getAllFromCollection(e,t,i){let r=No();const s=new mt(t.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:u,value:{document:h}}=a.getNext();if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||sI(IA(h),i)<=0||(r=r.insert(h.key,h.mutableCopy()))}return Fe.resolve(r)}getAllFromCollectionGroup(e,t,i,r){It()}Bi(e,t){return Fe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _w(this)}getSize(e){return Fe.resolve(this.size)}}class _w extends aw{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),Fe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class vw{constructor(e){this.persistence=e,this.Li=new Fc(t=>ed(t),fg),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Ui=0,this.qi=new x_,this.targetCount=0,this.Ki=cd.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),Fe.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new cd(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Tn(t),Fe.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Li.forEach((a,u)=>{u.sequenceNumber<=t&&null===i.get(u.targetId)&&(this.Li.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),Fe.waitFor(s).next(()=>r)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return Fe.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),Fe.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return Fe.resolve(i)}containsKey(e,t){return Fe.resolve(this.qi.containsKey(t))}}class E_{constructor(e,t){this.Gi={},this.overlays={},this.es=new no(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new vw(this),this.indexManager=new lS,this.ds=new DS(i=>this.referenceDelegate.Qi(i)),this.M=new ew(t),this._s=new ZI(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new yw(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){rt("MemoryPersistence","Starting transaction:",e);const r=new xP(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(e,t){return Fe.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class xP extends Ag{constructor(e){super(),this.currentSequenceNumber=e}}class KI{constructor(e){this.persistence=e,this.Hi=new x_,this.Ji=null}static Yi(e){return new KI(e)}get Xi(){if(this.Ji)return this.Ji;throw It()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),Fe.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Xi,i=>{const r=mt.fromPath(i);return this.Zi(e,r).next(s=>{s||t.removeEntry(r,Ct.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Fe.or([()=>Fe.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function AS(n,e){return`firestore_clients_${n}_${e}`}function SS(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function I_(n,e){return`firestore_targets_${n}_${e}`}class T_{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static tr(e,t,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new Qe(r.error.code,r.error.message))),a?new T_(e,t,r.state,s):(Yi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fg{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Qe(i.error.code,i.error.message))),s?new Fg(e,i.state,r):(Yi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class D_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Cg();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=Zh(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new D_(e,s):(Yi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bw{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bw(t.clientId,t.onlineState):(Yi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class A_{constructor(){this.activeTargetIds=Cg()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S_{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Fi(rn),this.started=!1,this.cr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=AS(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new A_),this.dr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$e.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.ir)continue;const s=e.getItem(AS(e.persistenceKey,r));if(s){const a=D_.tr(r,s);a&&(e.ar=e.ar.insert(a.clientId,a))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const r=e.pr(i);r&&e.Ir(r)}for(const r of e.cr)e.ur(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(I_(this.persistenceKey,e));if(i){const r=Fg.tr(e,i);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(I_(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ar(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rt("SharedClientState","READ",e,t),t}setItem(e,t){rt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(rt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,$e.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Sr(r,null)}{const r=t.Dr(i.key,i.newValue);if(r)return t.Sr(r.clientId,r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.kr(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.mr){if(null!==i.newValue){const r=t.pr(i.newValue);if(r)return t.Ir(r)}}else if(i.key===t.lr){const r=function(s){let a=no.A;if(null!=s)try{const u=JSON.parse(s);Yt("number"==typeof u),a=u}catch(u){Yi("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(i.newValue);r!==no.A&&t.sequenceNumberHandler(r)}else if(i.key===t.gr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const r=new T_(this.currentUser,e,t,i),s=SS(this.persistenceKey,this.currentUser,e);this.setItem(s,r.er())}Ar(e){const t=SS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const r=I_(this.persistenceKey,e),s=new Fg(e,t,i);this.setItem(r,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return D_.tr(i,t)}Cr(e,t){const i=this._r.exec(e),r=Number(i[1]);return T_.tr(new $r(void 0!==i[2]?i[2]:null),r,t)}kr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return Fg.tr(r,t)}pr(e){return bw.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,$e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),s=this.Tr(i),a=[],u=[];return s.forEach(h=>{r.has(h)||a.push(h)}),r.forEach(h=>{s.has(h)||u.push(h)}),this.syncEngine.Lr(a,u).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Cg();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class ww{constructor(){this.Ur=new A_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new A_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kS{Kr(e){}shutdown(){}}class YI{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Cw{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class EP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,s){const a=this.ho(e,t);rt("RestConnection","Sending: ",a,i);const u={};return this.lo(u,r,s),this.fo(e,a,u,i).then(h=>(rt("RestConnection","Received: ",h),h),h=>{throw Wh("RestConnection",`${e} failed with error: `,h,"url: ",a,"request:",i),h})}_o(e,t,i,r,s){return this.co(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+zh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.uo}/v1/${t}:${QI[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,a)=>{const u=new vA;u.listenOnce(mA.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ab.NO_ERROR:const g=u.getResponseJson();rt("Connection","XHR received:",JSON.stringify(g)),s(g);break;case ab.TIMEOUT:rt("Connection",'RPC "'+e+'" timed out'),a(new Qe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case ab.HTTP_ERROR:const _=u.getStatus();if(rt("Connection",'RPC "'+e+'" failed with status:',_,"response text:",u.getResponseText()),_>0){const b=u.getResponseJson().error;if(b&&b.status&&b.message){const I=function(S){const P=S.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(P)>=0?P:Le.UNKNOWN}(b.status);a(new Qe(I,b.message))}else a(new Qe(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Qe(Le.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{rt("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(r);u.send(t,"POST",h,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pA(),a=gA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(u.xmlHttpFactory=new _A({})),this.lo(u.initMessageHeaders,t,i),(0,H.uI)()||(0,H.b$)()||(0,H.d)()||(0,H.w1)()||(0,H.Mn)()||(0,H.ru)()||(u.httpHeadersOverwriteParam="$httpHeaders");const h=r.join("");rt("Connection","Creating WebChannel: "+h,u);const g=s.createWebChannel(h,u);let _=!1,b=!1;const I=new Cw({Jr:P=>{b?rt("Connection","Not sending because WebChannel is closed:",P):(_||(rt("Connection","Opening WebChannel transport."),g.open(),_=!0),rt("Connection","WebChannel sending:",P),g.send(P))},Yr:()=>g.close()}),S=(P,U,J)=>{P.listen(U,le=>{try{J(le)}catch(Te){setTimeout(()=>{throw Te},0)}})};return S(g,$y.EventType.OPEN,()=>{b||rt("Connection","WebChannel transport opened.")}),S(g,$y.EventType.CLOSE,()=>{b||(b=!0,rt("Connection","WebChannel transport closed"),I.ro())}),S(g,$y.EventType.ERROR,P=>{b||(b=!0,Wh("Connection","WebChannel transport errored:",P),I.ro(new Qe(Le.UNAVAILABLE,"The operation could not be completed")))}),S(g,$y.EventType.MESSAGE,P=>{var U;if(!b){const J=P.data[0];Yt(!!J);const le=J,Te=le.error||(null===(U=le[0])||void 0===U?void 0:U.error);if(Te){rt("Connection","WebChannel received error:",Te);const He=Te.status;let Ne=function(tt){const lt=Qi[tt];if(void 0!==lt)return vI(lt)}(He),ke=Te.message;void 0===Ne&&(Ne=Le.INTERNAL,ke="Unknown error status: "+He+" with message "+Te.message),b=!0,I.ro(new Qe(Ne,ke)),g.close()}else rt("Connection","WebChannel received:",J),I.oo(J)}}),S(a,yA.STAT_EVENT,P=>{P.stat===zE.PROXY?rt("Connection","Detected buffering proxy"):P.stat===zE.NOPROXY&&rt("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.io()},0),I}}function xw(){return"undefined"!=typeof window?window:null}function _f(){return"undefined"!=typeof document?document:null}function Vg(n){return new Ga(n,!0)}class Ew{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&rt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class MS{constructor(e,t,i,r,s,a,u,h){this.Yn=e,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ew(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,$e.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,$e.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,$e.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(Yi(t.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===Le.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new Qe(Le.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,$e.Z)(function*(){e.state=0,e.start()}))}jo(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IP extends MS{constructor(e,t,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,a),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function GA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(h=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===h?1:"REMOVE"===h?2:"CURRENT"===h?3:"RESET"===h?4:It(),r=e.targetChange.targetIds||[],s=function(h,g){return h.N?(Yt(void 0===g||"string"==typeof g),hr.fromBase64String(g||"")):(Yt(void 0===g||g instanceof Uint8Array),hr.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(h){const g=void 0===h.code?Le.UNKNOWN:vI(h.code);return new Qe(g,h.message||"")}(a);t=new CI(i,r,s,u||null)}else if("documentChange"in e){const i=e.documentChange,r=io(n,i.document.name),s=Dr(i.document.updateTime),a=new ss({mapValue:{fields:i.document.fields}}),u=pi.newFoundDocument(r,s,a);t=new i_(i.targetIds||[],i.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const i=e.documentDelete,r=io(n,i.document),s=i.readTime?Dr(i.readTime):Ct.min(),a=pi.newNoDocument(r,s);t=new i_([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in e){const i=e.documentRemove,r=io(n,i.document);t=new i_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return It();{const i=e.filter,s=new kb(i.count||0);t=new Rb(i.targetId,s)}}var h;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Ct.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ct.min():s.readTime?Dr(s.readTime):Ct.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=cf(this.M),t.addTarget=function(r,s){let a;const u=s.target;return a=pg(u)?{documents:Ub(r,u)}:{query:a_(r,u)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=r_(r,s.resumeToken):s.snapshotVersion.compareTo(Ct.min())>0&&(a.readTime=xg(r,s.snapshotVersion.toTimestamp())),a}(this.M,e);const i=function qA(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return It()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=cf(this.M),t.removeTarget=e,this.Lo(t)}}class NS extends MS{constructor(e,t,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,a),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Bb(n,e){return n&&n.length>0?(Yt(void 0!==e),n.map(t=>function(i,r){let s=Dr(i.updateTime?i.updateTime:r);return s.isEqual(Ct.min())&&(s=Dr(r)),new VA(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.tu(i,t)}return Yt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=cf(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>o_(this.M,i))};this.Lo(t)}}class RS extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Qe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Qe(Le.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Qe(Le.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class TP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Yi(t),this.uu=!1):rt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class DP{constructor(e,t,i,r,s){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(u=>{i.enqueueAndForget((0,$e.Z)(function*(){var h;c(a)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(h=(0,$e.Z)(function*(g){const _=_t(g);_.wu.add(4),yield Bg(_),_.yu.set("Unknown"),_.wu.delete(4),yield k_(_)}),function(g){return h.apply(this,arguments)})(a))}))}),this.yu=new TP(i,r)}}function k_(n){return JI.apply(this,arguments)}function JI(){return JI=(0,$e.Z)(function*(n){if(c(n))for(const e of n.mu)yield e(!0)}),JI.apply(this,arguments)}function Bg(n){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,$e.Z)(function*(n){for(const e of n.mu)yield e(!1)}),Iw.apply(this,arguments)}function Tw(n,e){const t=_t(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),l(t)?o(t):$c(t).Mo()&&XI(t,e))}function M_(n,e){const t=_t(n),i=$c(t);t._u.delete(e),i.Mo()&&PS(t,e),0===t._u.size&&(i.Mo()?i.$o():c(t)&&t.yu.set("Unknown"))}function XI(n,e){n.pu.Z(e.targetId),$c(n).Ho(e)}function PS(n,e){n.pu.Z(e),$c(n).Jo(e)}function o(n){n.pu=new zA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),$c(n).start(),n.yu.au()}function l(n){return c(n)&&!$c(n).ko()&&n._u.size>0}function c(n){return 0===_t(n).wu.size}function f(n){n.pu=void 0}function p(n){return m.apply(this,arguments)}function m(){return m=(0,$e.Z)(function*(n){n._u.forEach((e,t)=>{XI(n,e)})}),m.apply(this,arguments)}function w(n,e){return x.apply(this,arguments)}function x(){return x=(0,$e.Z)(function*(n,e){f(n),l(n)?(n.yu.lu(e),o(n)):n.yu.set("Unknown")}),x.apply(this,arguments)}function D(n,e,t){return N.apply(this,arguments)}function N(){return N=(0,$e.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof CI&&2===e.state&&e.cause)try{yield(i=(0,$e.Z)(function*(r,s){const a=s.cause;for(const u of s.targetIds)r._u.has(u)&&(yield r.remoteSyncer.rejectListen(u,a),r._u.delete(u),r.pu.removeTarget(u))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield L(n,i)}else if(e instanceof i_?n.pu.ut(e):e instanceof Rb?n.pu._t(e):n.pu.ht(e),!t.isEqual(Ct.min()))try{const i=yield bS(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const a=r.pu.yt(s);return a.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const g=r._u.get(h);g&&r._u.set(h,g.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach(u=>{const h=r._u.get(u);if(!h)return;r._u.set(u,h.withResumeToken(hr.EMPTY_BYTE_STRING,h.snapshotVersion)),PS(r,u);const g=new jc(h.target,u,1,h.sequenceNumber);XI(r,g)}),r.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){rt("RemoteStore","Failed to raise snapshot:",i),yield L(n,i)}var i}),N.apply(this,arguments)}function L(n,e,t){return $.apply(this,arguments)}function $(){return $=(0,$e.Z)(function*(n,e,t){if(!rd(e))throw e;n.wu.add(1),yield Bg(n),n.yu.set("Offline"),t||(t=()=>bS(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield k_(n)}))}),$.apply(this,arguments)}function ae(n,e){return e().catch(t=>L(n,t,e))}function ve(n){return ze.apply(this,arguments)}function ze(){return ze=(0,$e.Z)(function*(n){const e=_t(n),t=Za(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;ot(e);)try{const r=yield wS(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,gt(e,r)}catch(r){yield L(e,r)}Et(e)&&Ze(e)}),ze.apply(this,arguments)}function ot(n){return c(n)&&n.du.length<10}function gt(n,e){n.du.push(e);const t=Za(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Et(n){return c(n)&&!Za(n).ko()&&n.du.length>0}function Ze(n){Za(n).start()}function Ot(n){return vn.apply(this,arguments)}function vn(){return vn=(0,$e.Z)(function*(n){Za(n).nu()}),vn.apply(this,arguments)}function Yn(n){return ys.apply(this,arguments)}function ys(){return ys=(0,$e.Z)(function*(n){const e=Za(n);for(const t of n.du)e.Zo(t.mutations)}),ys.apply(this,arguments)}function pd(n,e,t){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,$e.Z)(function*(n,e,t){const i=n.du.shift(),r=Xb.from(i,e,t);yield ae(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ve(n)}),Ug.apply(this,arguments)}function Dw(n,e){return jg.apply(this,arguments)}function jg(){return jg=(0,$e.Z)(function*(n,e){var t;e&&Za(n).Xo&&(yield(t=(0,$e.Z)(function*(i,r){if(Mb(s=r.code)&&s!==Le.ABORTED){const a=i.du.shift();Za(i).Fo(),yield ae(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield ve(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Et(n)&&Ze(n)}),jg.apply(this,arguments)}function N_(n,e){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,$e.Z)(function*(n,e){const t=_t(n);t.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const i=c(t);t.wu.add(3),yield Bg(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield k_(t)}),Hg.apply(this,arguments)}function zg(n,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,$e.Z)(function*(n,e){const t=_t(n);e?(t.wu.delete(2),yield k_(t)):e||(t.wu.add(2),yield Bg(t),t.yu.set("Unknown"))}),Wg.apply(this,arguments)}function $c(n){return n.Iu||(n.Iu=function(e,t,i){const r=_t(e);return r.iu(),new IP(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:p.bind(null,n),eo:w.bind(null,n),zo:D.bind(null,n)}),n.mu.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Iu.Fo(),l(n)?o(n):n.yu.set("Unknown")):(yield n.Iu.stop(),f(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Za(n){return n.Tu||(n.Tu=function(e,t,i){const r=_t(e);return r.iu(),new NS(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:Ot.bind(null,n),eo:Dw.bind(null,n),eu:Yn.bind(null,n),tu:pd.bind(null,n)}),n.mu.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Tu.Fo(),yield ve(n)):(yield n.Tu.stop(),n.du.length>0&&(rt("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class OS{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,u=new OS(e,t,a,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qe(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R_(n,e){if(Yi("AsyncQueue",`${e}: ${n}`),rd(n))return new Qe(Le.UNAVAILABLE,`${e}: ${n}`);throw n}class P_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||mt.comparator(t.key,i.key):(t,i)=>mt.comparator(t.key,i.key),this.keyedMap=Nb(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new P_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof P_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new P_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class AP{constructor(){this.Eu=new Fi(mt.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):It():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class O_{constructor(e,t,i,r,s,a,u,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new O_(e,t,P_.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class q3{constructor(){this.Ru=void 0,this.listeners=[]}}class Z3{constructor(){this.queries=new Fc(e=>Cb(e),mg),this.onlineState="Unknown",this.bu=new Set}}function LS(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,$e.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new q3),r)try{s.Ru=yield t.onListen(i)}catch(a){const u=R_(a,`Initialization of query '${fI(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&US(t)}),FS.apply(this,arguments)}function VS(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,$e.Z)(function*(n,e){const t=_t(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const a=s.listeners.indexOf(e);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),BS.apply(this,arguments)}function K3(n,e){const t=_t(n);let i=!1;for(const r of e){const a=t.queries.get(r.query);if(a){for(const u of a.listeners)u.Vu(r)&&(i=!0);a.Ru=r}}i&&US(t)}function Y3(n,e,t){const i=_t(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function US(n){n.bu.forEach(e=>{e.next()})}class jS{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new O_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=O_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Q3{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class SP{constructor(e){this.M=e}wi(e){return io(this.M,e)}mi(e){return e.metadata.exists?Vb(this.M,e.document,!1):pi.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Dr(e)}}class J3{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kP(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Mn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new SP(this.M);for(const r of e)if(r.metadata.queries){const s=i.wi(r.metadata.name);for(const a of r.metadata.queries){const u=(t.get(a)||qn()).add(s);t.set(a,u)}}return t}complete(){var e=this;return(0,$e.Z)(function*(){const t=yield function IS(n,e,t,i){return yf.apply(this,arguments)}(e.localStore,new SP(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const r of e.queries)yield TS(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function kP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class MP{constructor(e){this.key=e}}class NP{constructor(e){this.key=e}}class RP{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=qn(),this.mutatedKeys=qn(),this.Gu=pI(e),this.Qu=new P_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new AP,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,u=!1;const h="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((_,b)=>{const I=r.get(_),S=xb(this.query,b)?b:null,P=!!I&&this.mutatedKeys.has(I.key),U=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let J=!1;I&&S?I.data.isEqual(S.data)?P!==U&&(i.track({type:3,doc:S}),J=!0):this.Hu(I,S)||(i.track({type:2,doc:S}),J=!0,(h&&this.Gu(S,h)>0||g&&this.Gu(S,g)<0)&&(u=!0)):!I&&S?(i.track({type:0,doc:S}),J=!0):I&&!S&&(i.track({type:1,doc:I}),J=!0,(h||g)&&(u=!0)),J&&(S?(a=a.add(S),s=U?s.add(_):s.delete(_)):(a=a.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const _="F"===this.query.limitType?a.last():a.first();a=a.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{Qu:a,zu:i,ii:u,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((g,_)=>function(b,I){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return S(b)-S(I)}(g.type,_.type)||this.Gu(g.doc,_.doc)),this.Ju(i);const a=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,h=u!==this.qu;return this.qu=u,0!==s.length||h?{snapshot:new O_(this.query,e.Qu,r,s,e.mutatedKeys,0===u,h,!1),Xu:a}:{Xu:a}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new AP,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=qn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new NP(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new MP(i))}),t}ta(e){this.Uu=e._i,this.Ku=qn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return O_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class X3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class e6{constructor(e){this.key=e,this.na=!1}}class t6{constructor(e,t,i,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sa={},this.ia=new Fc(u=>Cb(u),mg),this.ra=new Map,this.oa=new Set,this.ua=new Fi(mt.comparator),this.aa=new Map,this.ca=new x_,this.ha={},this.la=new Map,this.fa=cd.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function n6(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,$e.Z)(function*(n,e){const t=dk(n);let i,r;const s=t.ia.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const a=yield gf(t.localStore,Mo(e));t.isPrimaryClient&&Tw(t.remoteStore,a);const u=t.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield zS(t,e,i,"current"===u)}return r}),HS.apply(this,arguments)}function zS(n,e,t,i){return WS.apply(this,arguments)}function WS(){return WS=(0,$e.Z)(function*(n,e,t,i){n._a=(_,b,I)=>{return(S=(0,$e.Z)(function*(P,U,J,le){let Te=U.view.Wu(J);Te.ii&&(Te=yield gw(P.localStore,U.query,!1).then(({documents:ke})=>U.view.Wu(ke,Te)));const He=le&&le.targetChanges.get(U.targetId),Ne=U.view.applyChanges(Te,P.isPrimaryClient,He);return ek(P,U.targetId,Ne.Xu),Ne.snapshot}),function(P,U,J,le){return S.apply(this,arguments)})(n,_,b,I);var S};const r=yield gw(n.localStore,e,!0),s=new RP(e,r._i),a=s.Wu(r.documents),u=af.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),h=s.applyChanges(a,n.isPrimaryClient,u);ek(n,t,h.Xu);const g=new X3(e,t,s);return n.ia.set(e,g),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),h.snapshot}),WS.apply(this,arguments)}function i6(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,$e.Z)(function*(n,e){const t=_t(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(s=>!mg(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mf(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),M_(t.remoteStore,i.targetId),L_(t,i.targetId)}).catch(ud))):(L_(t,i.targetId),yield mf(t.localStore,i.targetId,!0))}),$S.apply(this,arguments)}function GS(){return GS=(0,$e.Z)(function*(n,e,t){const i=hk(n);try{const r=yield function(s,a){const u=_t(s),h=Ci.now(),g=a.reduce((b,I)=>b.add(I.key),qn());let _;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>u.fi.Ks(b,g).next(I=>{_=I;const S=[];for(const P of a){const U=rf(P,_.get(P.key));null!=U&&S.push(new Lc(P.key,U,rI(U.value.mapValue),Vi.exists(!0)))}return u.Bs.addMutationBatch(b,h,S,a)})).then(b=>(b.applyToLocalDocumentSet(_),{batchId:b.batchId,changes:_}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,u){let h=s.ha[s.currentUser.toKey()];h||(h=new Fi(rn)),h=h.insert(a,u),s.ha[s.currentUser.toKey()]=h}(i,r.batchId,t),yield gd(i,r.changes),yield ve(i.remoteStore)}catch(r){const s=R_(r,"Failed to persist write");t.reject(s)}}),GS.apply(this,arguments)}function PP(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,$e.Z)(function*(n,e){const t=_t(n);try{const i=yield CP(t.localStore,e);e.targetChanges.forEach((r,s)=>{const a=t.aa.get(s);a&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.na=!0:r.modifiedDocuments.size>0?Yt(a.na):r.removedDocuments.size>0&&(Yt(a.na),a.na=!1))}),yield gd(t,i,e)}catch(i){yield ud(i)}}),qS.apply(this,arguments)}function OP(n,e,t){const i=_t(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((s,a)=>{const u=a.view.Pu(e);u.snapshot&&r.push(u.snapshot)}),function(s,a){const u=_t(s);u.onlineState=a;let h=!1;u.queries.forEach((g,_)=>{for(const b of _.listeners)b.Pu(a)&&(h=!0)}),h&&US(u)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function s6(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,$e.Z)(function*(n,e,t){const i=_t(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),s=r&&r.key;if(s){let a=new Fi(mt.comparator);a=a.insert(s,pi.newNoDocument(s,Ct.min()));const u=qn().add(s),h=new sf(Ct.min(),new Map,new ui(rn),a,u);yield PP(i,h),i.ua=i.ua.remove(s),i.aa.delete(e),tk(i)}else yield mf(i.localStore,e,!1).then(()=>L_(i,e,t)).catch(ud)}),ZS.apply(this,arguments)}function o6(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,$e.Z)(function*(n,e){const t=_t(n),i=e.batch.batchId;try{const r=yield vS(t.localStore,e);XS(t,i,null),JS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield gd(t,r)}catch(r){yield ud(r)}}),KS.apply(this,arguments)}function a6(n,e,t){return YS.apply(this,arguments)}function YS(){return YS=(0,$e.Z)(function*(n,e,t){const i=_t(n);try{const r=yield function(s,a){const u=_t(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return u.Bs.lookupMutationBatch(h,a).next(_=>(Yt(null!==_),g=_.keys(),u.Bs.removeMutationBatch(h,_))).next(()=>u.Bs.performConsistencyCheck(h)).next(()=>u.fi.Ks(h,g))})}(i.localStore,e);XS(i,e,t),JS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield gd(i,r)}catch(r){yield ud(r)}}),YS.apply(this,arguments)}function QS(){return QS=(0,$e.Z)(function*(n,e){const t=_t(n);c(t.remoteStore)||rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=_t(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.Bs.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===i)return void e.resolve();const r=t.la.get(i)||[];r.push(e),t.la.set(i,r)}catch(i){const r=R_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),QS.apply(this,arguments)}function JS(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function XS(n,e,t){const i=_t(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function L_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||LP(n,i)})}function LP(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(M_(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),tk(n))}function ek(n,e,t){for(const i of t)i instanceof MP?(n.ca.addReference(i.key,e),c6(n,i)):i instanceof NP?(rt("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||LP(n,i.key)):It()}function c6(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(rt("SyncEngine","New document in limbo: "+t),n.oa.add(i),tk(n))}function tk(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new mt(Mn.fromString(e)),i=n.fa.next();n.aa.set(i,new e6(t)),n.ua=n.ua.insert(t,i),Tw(n.remoteStore,new jc(Mo(Pc(t.path)),i,2,no.A))}}function gd(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,$e.Z)(function*(n,e,t){const i=_t(n),r=[],s=[],a=[];var u;i.ia.isEmpty()||(i.ia.forEach((u,h)=>{a.push(i._a(h,e,t).then(g=>{if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(h.targetId,g.fromCache?"not-current":"current"),r.push(g);const _=Lg.Ys(h.targetId,g);s.push(_)}}))}),yield Promise.all(a),i.sa.zo(r),yield(u=(0,$e.Z)(function*(h,g){const _=_t(h);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Fe.forEach(g,I=>Fe.forEach(I.Hs,S=>_.persistence.referenceDelegate.addReference(b,I.targetId,S)).next(()=>Fe.forEach(I.Js,S=>_.persistence.referenceDelegate.removeReference(b,I.targetId,S)))))}catch(b){if(!rd(b))throw b;rt("LocalStore","Failed to update sequence numbers: "+b)}for(const b of g){const I=b.targetId;if(!b.fromCache){const S=_.ui.get(I),U=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);_.ui=_.ui.insert(I,U)}}}),function(h,g){return u.apply(this,arguments)})(i.localStore,s))}),nk.apply(this,arguments)}function u6(n,e){return ik.apply(this,arguments)}function ik(){return ik=(0,$e.Z)(function*(n,e){const t=_t(n);if(!t.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const i=yield hw(t.localStore,e);t.currentUser=e,(r=t).la.forEach(a=>{a.forEach(u=>{u.reject(new Qe(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield gd(t,i.di)}var r}),ik.apply(this,arguments)}function d6(n,e){const t=_t(n),i=t.aa.get(e);if(i&&i.na)return qn().add(i.key);{let r=qn();const s=t.ra.get(e);if(!s)return r;for(const a of s){const u=t.ia.get(a);r=r.unionWith(u.view.ju)}return r}}function h6(n,e){return rk.apply(this,arguments)}function rk(){return rk=(0,$e.Z)(function*(n,e){const t=_t(n),i=yield gw(t.localStore,e.query,!0),r=e.view.ta(i);return t.isPrimaryClient&&ek(t,e.targetId,r.Xu),r}),rk.apply(this,arguments)}function f6(n,e){return sk.apply(this,arguments)}function sk(){return sk=(0,$e.Z)(function*(n,e){const t=_t(n);return xS(t.localStore,e).then(i=>gd(t,i))}),sk.apply(this,arguments)}function p6(n,e,t,i){return ok.apply(this,arguments)}function ok(){return ok=(0,$e.Z)(function*(n,e,t,i){const r=_t(n),s=yield function(a,u){const h=_t(a),g=_t(h.Bs);return h.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.fn(_,u).next(b=>b?h.fi.Ks(_,b):Fe.resolve(null)))}(r.localStore,e);var u;null!==s?("pending"===t?yield ve(r.remoteStore):"acknowledged"===t||"rejected"===t?(XS(r,e,i||null),JS(r,e),u=e,_t(_t(r.localStore).Bs)._n(u)):It(),yield gd(r,s)):rt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ok.apply(this,arguments)}function ak(){return ak=(0,$e.Z)(function*(n,e){const t=_t(n);if(dk(t),hk(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield FP(t,i.toArray());t.da=!0,yield zg(t.remoteStore,!0);for(const s of r)Tw(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const i=[];let r=Promise.resolve();t.ra.forEach((s,a)=>{t.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(L_(t,a),mf(t.localStore,a,!0))),M_(t.remoteStore,a)}),yield r,yield FP(t,i),function(s){const a=_t(s);a.aa.forEach((u,h)=>{M_(a.remoteStore,h)}),a.ca.Si(),a.aa=new Map,a.ua=new Fi(mt.comparator)}(t),t.da=!1,yield zg(t.remoteStore,!1)}}),ak.apply(this,arguments)}function FP(n,e,t){return lk.apply(this,arguments)}function lk(){return lk=(0,$e.Z)(function*(n,e,t){const i=_t(n),r=[],s=[];for(const a of e){let u;const h=i.ra.get(a);if(h&&0!==h.length){u=yield gf(i.localStore,Mo(h[0]));for(const g of h){const _=i.ia.get(g),b=yield h6(i,_);b.snapshot&&s.push(b.snapshot)}}else{const g=yield CS(i.localStore,a);u=yield gf(i.localStore,g),yield zS(i,VP(g),a,!1)}r.push(u)}return i.sa.zo(s),r}),lk.apply(this,arguments)}function VP(n){return _b(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function m6(n){const e=_t(n);return _t(_t(e.localStore).persistence).Fs()}function y6(n,e,t,i){return ck.apply(this,arguments)}function ck(){return ck=(0,$e.Z)(function*(n,e,t,i){const r=_t(n);if(r.da)return void rt("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const a=yield xS(r.localStore,yg(s[0])),u=sf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield gd(r,a,u);break}case"rejected":yield mf(r.localStore,e,!0),L_(r,e,i);break;default:It()}}),ck.apply(this,arguments)}function _6(n,e,t){return uk.apply(this,arguments)}function uk(){return uk=(0,$e.Z)(function*(n,e,t){const i=dk(n);if(i.da){for(const r of e){if(i.ra.has(r)){rt("SyncEngine","Adding an already active target "+r);continue}const s=yield CS(i.localStore,r),a=yield gf(i.localStore,s);yield zS(i,VP(s),a.targetId,!1),Tw(i.remoteStore,a)}for(const r of t)i.ra.has(r)&&(yield mf(i.localStore,r,!1).then(()=>{M_(i.remoteStore,r),L_(i,r)}).catch(ud))}}),uk.apply(this,arguments)}function dk(n){const e=_t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s6.bind(null,e),e.sa.zo=K3.bind(null,e.eventManager),e.sa.wa=Y3.bind(null,e.eventManager),e}function hk(n){const e=_t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a6.bind(null,e),e}class BP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$e.Z)(function*(){t.M=Vg(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return dw(this.persistence,new uw,e.initialUser,this.M)}ya(e){return new E_(KI.Yi,this.M)}ga(e){return new ww}terminate(){var e=this;return(0,$e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class UP extends BP{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield hk(i.Ta.syncEngine),yield ve(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return dw(this.persistence,new uw,e.initialUser,this.M)}pa(e){return new pS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=C_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ms.withCacheSize(this.cacheSizeBytes):Ms.DEFAULT;return new b_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,xw(),_f(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new ww}}class b6 extends UP{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield t().call(i,e);const r=i.Ta.syncEngine;i.sharedClientState instanceof S_&&(i.sharedClientState.syncEngine={$r:p6.bind(null,r),Br:y6.bind(null,r),Lr:_6.bind(null,r),Fs:m6.bind(null,r),Fr:f6.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,$e.Z)(function*(a){yield function g6(n,e){return ak.apply(this,arguments)}(i.Ta.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):a||i.gcScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}ga(e){const t=xw();if(!S_.vt(t))throw new Qe(Le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=C_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new S_(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class fk{initialize(e,t){var i=this;return(0,$e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>OP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=u6.bind(null,i.syncEngine),yield zg(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Z3}createDatastore(e){const t=Vg(e.databaseInfo.databaseId),i=new EP(e.databaseInfo);return new RS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=u=>OP(this.syncEngine,u,0),a=YI.vt()?new YI:new kS,new DP(t,i,r,s,a);var t,i,r,s,a}createSyncEngine(e,t){return function(i,r,s,a,u,h,g){const _=new t6(i,r,s,a,u,h);return g&&(_.da=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$e.Z)(function*(t){const i=_t(t);rt("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Bg(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jP(n,e=10240){let t=0;return{read:()=>(0,$e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class w6{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Tr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,$e.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,$e.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,$e.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),r=Number(i);isNaN(r)&&e.va(`length string (${i}) is not valid number`);const s=yield e.Sa(r);return new Q3(JSON.parse(s),t.length+r)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,$e.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,$e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,$e.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class C6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Qe(Le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,$e.Z)(function*(s,a){const u=_t(s),h=cf(u.M)+"/documents",g={documents:a.map(S=>Vc(u.M,S))},_=yield u._o("BatchGetDocuments",h,g),b=new Map;_.forEach(S=>{const P=function $A(n,e){return"found"in e?function(t,i){Yt(!!i.found);const r=io(t,i.found.name),s=Dr(i.found.updateTime),a=new ss({mapValue:{fields:i.found.fields}});return pi.newFoundDocument(r,s,a)}(n,e):"missing"in e?function(t,i){Yt(!!i.missing),Yt(!!i.readTime);const r=io(t,i.missing),s=Dr(i.readTime);return pi.newNoDocument(r,s)}(n,e):It()}(u.M,S);b.set(P.key.toString(),P)});const I=[];return a.forEach(S=>{const P=b.get(S.toString());Yt(!!P),I.push(P)}),I}),function(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new t_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=mt.fromPath(r);e.mutations.push(new n_(s,e.precondition(s)))}),yield(i=(0,$e.Z)(function*(r,s){const a=_t(r),u=cf(a.M)+"/documents",h={writes:s.map(g=>o_(a.M,g))};yield a.co("Commit",u,h)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw It();t=Ct.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Qe(Le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vi.updateTime(t):Vi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new Qe(Le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vi.updateTime(t)}return Vi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class x6{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.xa=i.maxAttempts,this.No=new Ew(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,$e.Z)(function*(){const t=new C6(e.datastore),i=e.ka(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Ma(s)}))}).catch(r=>{e.Ma(r)})}))}ka(e){try{const t=this.updateFunction(e);return!lg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Mb(t)}return!1}}class E6{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=$r.UNAUTHENTICATED,this.clientId=KE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,$e.Z)(function*(u){rt("FirestoreClient","Received user=",u.uid),yield s.authCredentialListener(u),s.user=u});return function(u){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(rt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var e=this;return(0,$e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=R_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function HP(n,e){return pk.apply(this,arguments)}function pk(){return pk=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,$e.Z)(function*(s){i.isEqual(s)||(yield hw(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),pk.apply(this,arguments)}function zP(n,e){return gk.apply(this,arguments)}function gk(){return gk=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield mk(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>N_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>N_(e.remoteStore,s)),n.onlineComponents=e}),gk.apply(this,arguments)}function mk(n){return yk.apply(this,arguments)}function yk(){return yk=(0,$e.Z)(function*(n){return n.offlineComponents||(rt("FirestoreClient","Using default OfflineComponentProvider"),yield HP(n,new BP)),n.offlineComponents}),yk.apply(this,arguments)}function tT(n){return _k.apply(this,arguments)}function _k(){return _k=(0,$e.Z)(function*(n){return n.onlineComponents||(rt("FirestoreClient","Using default OnlineComponentProvider"),yield zP(n,new fk)),n.onlineComponents}),_k.apply(this,arguments)}function WP(n){return mk(n).then(e=>e.persistence)}function vk(n){return mk(n).then(e=>e.localStore)}function $P(n){return tT(n).then(e=>e.remoteStore)}function bk(n){return tT(n).then(e=>e.syncEngine)}function F_(n){return wk.apply(this,arguments)}function wk(){return wk=(0,$e.Z)(function*(n){const e=yield tT(n),t=e.eventManager;return t.onListen=n6.bind(null,e.syncEngine),t.onUnlisten=i6.bind(null,e.syncEngine),t}),wk.apply(this,arguments)}function GP(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(r,s,a,u,h){const g=new eT({next:b=>{s.enqueueAndForget(()=>VS(r,_));const I=b.docs.has(a);!I&&b.fromCache?h.reject(new Qe(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&b.fromCache&&u&&"server"===u.source?h.reject(new Qe(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),_=new jS(Pc(a.path),g,{includeMetadataChanges:!0,ku:!0});return LS(r,_)}(yield F_(n),n.asyncQueue,e,t,i)})),i.promise}function qP(n,e,t={}){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(r,s,a,u,h){const g=new eT({next:b=>{s.enqueueAndForget(()=>VS(r,_)),b.fromCache&&"server"===u.source?h.reject(new Qe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),_=new jS(a,g,{includeMetadataChanges:!0,ku:!0});return LS(r,_)}(yield F_(n),n.asyncQueue,e,t,i)})),i.promise}const ZP=new Map;function Ck(n,e,t){if(!t)throw new Qe(Le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KP(n,e,t,i){if(!0===e&&!0===i)throw new Qe(Le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YP(n){if(!mt.isDocumentKey(n))throw new Qe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QP(n){if(mt.isDocumentKey(n))throw new Qe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":It()}function Bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Qe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nT(n);throw new Qe(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JP(n,e){if(e<=0)throw new Qe(Le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class XP{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,KP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XP({}),this._settingsFrozen=!1,e instanceof Wa?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Qe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(r.options.projectId)}(e))}get app(){if(!this._app)throw new Qe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $h;switch(t.type){case"gapi":const i=t.client;return Yt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZE(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Qe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ZP.get(e);t&&(rt("ComponentProvider","Removing Datastore"),ZP.delete(e),t.terminate())}(this),Promise.resolve()}}class Mi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class Ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Gc extends Ns{constructor(e,t,i){super(e,t,Pc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new mt(e))}withConverter(e){return new Gc(this.firestore,e,this._path)}}function eO(n,e,...t){if(n=(0,H.m9)(n),Ck("collection","path",e),n instanceof Aw){const i=Mn.fromString(e,...t);return QP(i),new Gc(n,null,i)}{if(!(n instanceof Mi||n instanceof Gc))throw new Qe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return QP(i),new Gc(n.firestore,null,i)}}function iT(n,e,...t){if(n=(0,H.m9)(n),1===arguments.length&&(e=KE.R()),Ck("doc","path",e),n instanceof Aw){const i=Mn.fromString(e,...t);return YP(i),new Mi(n,null,new mt(i))}{if(!(n instanceof Mi||n instanceof Gc))throw new Qe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Mn.fromString(e,...t));return YP(i),new Mi(n.firestore,n instanceof Gc?n.converter:null,new mt(i))}}function tO(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),(n instanceof Mi||n instanceof Gc)&&(e instanceof Mi||e instanceof Gc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nO(n,e){return n=(0,H.m9)(n),e=(0,H.m9)(e),n instanceof Ns&&e instanceof Ns&&n.firestore===e.firestore&&mg(n._query,e._query)&&n.converter===e.converter}class O6{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ew(this,"async_queue_retry"),this.Qa=()=>{const t=_f();t&&rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=_f();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=_f();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Tr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,$e.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!rd(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,Yi("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=OS.createAndSchedule(this,e,t,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&It()}verifyOperationInProgress(){}Ja(){var e=this;return(0,$e.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function xk(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class L6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Bi extends Aw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new O6,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||iO(this),this._firestoreClient.terminate()}}function Sr(n){return n._firestoreClient||iO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function iO(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JE(n._databaseId,s,n._persistenceKey,(u=t).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var s,u;n._firestoreClient=new E6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function rO(n,e,t){const i=new Tr;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield HP(n,t),yield zP(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===Le.FAILED_PRECONDITION||s.code===Le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function sO(n){if(n._initialized||n._terminated)throw new Qe(Le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class md{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(hr.fromBase64String(e))}catch(t){throw new Qe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $g{constructor(e){this._methodName=e}}class rT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rn(this._lat,e._lat)||rn(this._long,e._long)}}const G6=/^__.*__$/;class q6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms):new e_(e,this.data,t,this.fieldTransforms)}}class oO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Lc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class sT{constructor(e,t,i,r,s,a){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new sT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return lT(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(aO(this.ec)&&G6.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Z6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Vg(e)}lc(e,t,i,r=!1){return new sT({ec:e,methodName:t,hc:i,path:sr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Gg(n){const e=n._freezeSettings(),t=Vg(n._databaseId);return new Z6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oT(n,e,t,i,r,s={}){const a=n.lc(s.merge||s.mergeFields?2:0,e,t,r);Dk("Data must be an object, but it was:",a,i);const u=uO(i,a);let h,g;if(s.merge)h=new Ku(a.fieldMask),g=a.fieldTransforms;else if(s.mergeFields){const _=[];for(const b of s.mergeFields){const I=Ak(e,b,t);if(!a.contains(I))throw new Qe(Le.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);hO(_,I)||_.push(I)}h=new Ku(_),g=a.fieldTransforms.filter(b=>h.covers(b.field))}else h=null,g=a.fieldTransforms;return new q6(new ss(u),h,g)}class Sw extends $g{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sw}}function lO(n,e,t){return new sT({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Ek extends $g{_toFieldTransform(e){return new nf(e.path,new tf)}isEqual(e){return e instanceof Ek}}class K6 extends $g{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lO(this,e,!0),i=this.fc.map(s=>qg(s,t)),r=new Oc(i);return new nf(e.path,r)}isEqual(e){return this===e}}class Y6 extends $g{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lO(this,e,!0),i=this.fc.map(s=>qg(s,t)),r=new Hl(i);return new nf(e.path,r)}isEqual(e){return this===e}}class Q6 extends $g{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new $a(e.M,PA(e.M,this.dc));return new nf(e.path,t)}isEqual(e){return this===e}}function Ik(n,e,t,i){const r=n.lc(1,e,t);Dk("Data must be an object, but it was:",r,i);const s=[],a=ss.empty();kc(i,(h,g)=>{const _=aT(e,h,t);g=(0,H.m9)(g);const b=r.oc(_);if(g instanceof Sw)s.push(_);else{const I=qg(g,b);null!=I&&(s.push(_),a.set(_,I))}});const u=new Ku(s);return new oO(a,u,r.fieldTransforms)}function Tk(n,e,t,i,r,s){const a=n.lc(1,e,t),u=[Ak(e,i,t)],h=[r];if(s.length%2!=0)throw new Qe(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)u.push(Ak(e,s[I])),h.push(s[I+1]);const g=[],_=ss.empty();for(let I=u.length-1;I>=0;--I)if(!hO(g,u[I])){const S=u[I];let P=h[I];P=(0,H.m9)(P);const U=a.oc(S);if(P instanceof Sw)g.push(S);else{const J=qg(P,U);null!=J&&(g.push(S),_.set(S,J))}}const b=new Ku(g);return new oO(_,b,a.fieldTransforms)}function cO(n,e,t,i=!1){return qg(t,n.lc(i?4:3,e))}function qg(n,e){if(dO(n=(0,H.m9)(n)))return Dk("Unsupported field value:",e,n),uO(n,e);if(n instanceof $g)return function(t,i){if(!aO(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const a of t){let u=qg(a,i.uc(s));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,H.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return PA(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Ci.fromDate(t);return{timestampValue:xg(i.M,r)}}if(t instanceof Ci){const r=new Ci(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xg(i.M,r)}}if(t instanceof rT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:r_(i.M,t._byteString)};if(t instanceof Mi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ob(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${nT(t)}`)}(n,e)}function uO(n,e){const t={};return YE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(i,r)=>{const s=qg(r,e.sc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function dO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ci||n instanceof rT||n instanceof qc||n instanceof Mi||n instanceof $g)}function Dk(n,e,t){if(!dO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nT(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function Ak(n,e,t){if((e=(0,H.m9)(e))instanceof md)return e._internalPath;if("string"==typeof e)return aT(n,e);throw lT("Field path arguments must be of type string or ",n,!1,void 0,t)}const J6=new RegExp("[~\\*/\\[\\]]");function aT(n,e,t){if(e.search(J6)>=0)throw lT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new md(...e.split("."))._internalPath}catch(i){throw lT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lT(n,e,t,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||a)&&(h+=" (found",s&&(h+=` in field ${i}`),a&&(h+=` in document ${r}`),h+=")"),new Qe(Le.INVALID_ARGUMENT,u+n+h)}function hO(n,e){return n.some(t=>t.isEqual(e))}class kw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new X6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class X6 extends kw{data(){return super.data()}}function cT(n,e){return"string"==typeof e?aT(n,e):e instanceof md?e._internalPath:e._delegate._internalPath}class Zg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends kw{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Mw extends yd{data(e={}){return super.data(e)}}class vf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Mw(this._firestore,this._userDataWriter,i.key,i,new Zg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Mw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const u=new Mw(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zg(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return 0!==a.type&&(h=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),g=s.indexOf(a.doc.key)),{type:e5(a.type),doc:u,oldIndex:h,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}function fO(n,e){return n instanceof yd&&e instanceof yd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vf&&e instanceof vf&&n._firestore===e._firestore&&nO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function pO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Qe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nw{}function bf(n,...e){for(const t of e)n=t._apply(n);return n}class t5 extends Nw{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=Gg(e.firestore),i=function(r,s,a,u,h,g,_){let b;if(h.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Qe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){bO(_,g);const S=[];for(const P of _)S.push(vO(u,r,P));b={arrayValue:{values:S}}}else b=vO(u,r,_)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||bO(_,g),b=cO(a,"where",_,"in"===g||"not-in"===g);const I=Gr.create(h,g,b);return function(S,P){if(P.S()){const J=gg(S);if(null!==J&&!J.isEqual(P.field))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${J.toString()}' and '${P.field.toString()}'`);const le=vb(S);null!==le&&wO(0,P.field,le)}const U=function(J,le){for(const Te of J.filters)if(le.indexOf(Te.op)>=0)return Te.op;return null}(S,function(J){switch(J){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(null!==U)throw new Qe(Le.INVALID_ARGUMENT,U===P.op?`Invalid query. You cannot use more than one '${P.op.toString()}' filter.`:`Invalid query. You cannot use '${P.op.toString()}' filters with '${U.toString()}' filters.`)}(r,I),I}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ns(e.firestore,e.converter,function(r,s){const a=r.filters.concat([s]);return new ya(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class i5 extends Nw{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Qe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Qe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Jh(r,s);return function(u,h){if(null===vb(u)){const g=gg(u);null!==g&&wO(0,g,h.field)}}(i,a),a}(e._query,this._c,this.gc);return new Ns(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new ya(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class gO extends Nw{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new Ns(e.firestore,e.converter,wb(e._query,this.yc,this.Ic))}}class mO extends Nw{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=_O(e,this.type,this.Tc,this.Ec);return new Ns(e.firestore,e.converter,(r=t,new ya((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class yO extends Nw{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=_O(e,this.type,this.Tc,this.Ec);return new Ns(e.firestore,e.converter,(r=t,new ya((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function _O(n,e,t,i){if(t[0]=(0,H.m9)(t[0]),t[0]instanceof kw)return function(r,s,a,u,h){if(!u)throw new Qe(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const g=[];for(const _ of td(r))if(_.field.isKeyField())g.push(Qh(s,u.key));else{const b=u.data.field(_.field);if(ub(b))throw new Qe(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const I=_.field.canonicalString();throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}g.push(b)}return new jl(g,h)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Gg(n.firestore);return function(s,a,u,h,g,_){const b=s.explicitOrderBy;if(g.length>b.length)throw new Qe(Le.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let S=0;S<g.length;S++){const P=g[S];if(b[S].field.isKeyField()){if("string"!=typeof P)throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof P}`);if(!bb(s)&&-1!==P.indexOf("/"))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${P}' contains a slash.`);const U=s.path.child(Mn.fromString(P));if(!mt.isDocumentKey(U))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const J=new mt(U);I.push(Qh(a,J))}else{const U=cO(u,h,P);I.push(U)}}return new jl(I,_)}(n._query,n.firestore._databaseId,r,e,t,i)}}function vO(n,e,t){if("string"==typeof(t=(0,H.m9)(t))){if(""===t)throw new Qe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(e)&&-1!==t.indexOf("/"))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Mn.fromString(t));if(!mt.isDocumentKey(i))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qh(n,new mt(i))}if(t instanceof Mi)return Qh(n,t._key);throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nT(t)}.`)}function bO(n,e){if(!Array.isArray(n)||0===n.length)throw new Qe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Qe(Le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function wO(n,e,t){if(!t.isEqual(e))throw new Qe(Le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const d5={maxAttempts:5};class Sk{convertValue(e,t="none"){switch(Nc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw It()}}convertObject(e,t){const i={};return kc(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new rT(Li(e.latitude),Li(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ag(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(qh(e));default:return null}}convertTimestamp(e){const t=So(e);return new Ci(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Mn.fromString(e);Yt(jb(i));const r=new Wa(i.get(1),i.get(3)),s=new mt(i.popFirst(5));return r.isEqual(t)||Yi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function uT(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class h5 extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}}class CO{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gg(e)}set(e,t,i){this._verifyNotCommitted();const r=wf(e,this._firestore),s=uT(r.converter,t,i),a=oT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Vi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=wf(e,this._firestore);let a;return a="string"==typeof(t=(0,H.m9)(t))||t instanceof md?Tk(this._dataReader,"WriteBatch.update",s._key,t,i,r):Ik(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Vi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wf(e,this._firestore);return this._mutations=this._mutations.concat(new t_(t._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(n,e){if((n=(0,H.m9)(n)).firestore!==e)throw new Qe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Kg extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,t)}}function xO(n,e,t){n=Bn(n,Mi);const i=Bn(n.firestore,Bi),r=uT(n.converter,e,t);return V_(i,[oT(Gg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Vi.none())])}function EO(n,e,t,...i){n=Bn(n,Mi);const r=Bn(n.firestore,Bi),s=Gg(r);let a;return a="string"==typeof(e=(0,H.m9)(e))||e instanceof md?Tk(s,"updateDoc",n._key,e,t,i):Ik(s,"updateDoc",n._key,e),V_(r,[a.toMutation(n._key,Vi.exists(!0))])}function IO(n,...e){var t,i,r;n=(0,H.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||xk(e[a])||(s=e[a],a++);const u={includeMetadataChanges:s.includeMetadataChanges};if(xk(e[a])){const b=e[a];e[a]=null===(t=b.next)||void 0===t?void 0:t.bind(b),e[a+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),e[a+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let h,g,_;if(n instanceof Mi)g=Bn(n.firestore,Bi),_=Pc(n._key.path),h={next:b=>{e[a]&&e[a](kk(g,n,b))},error:e[a+1],complete:e[a+2]};else{const b=Bn(n,Ns);g=Bn(b.firestore,Bi),_=b._query;const I=new Kg(g);h={next:S=>{e[a]&&e[a](new vf(g,I,b,S))},error:e[a+1],complete:e[a+2]},pO(n._query)}return function(b,I,S,P){const U=new eT(P),J=new jS(I,U,S);return b.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return LS(yield F_(b),J)})),()=>{U.Aa(),b.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return VS(yield F_(b),J)}))}}(Sr(g),_,u,h)}function V_(n,e){return function(t,i){const r=new Tr;return t.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function r6(n,e,t){return GS.apply(this,arguments)}(yield bk(t),i,r)})),r.promise}(Sr(n),e)}function kk(n,e,t){const i=t.docs.get(e._key),r=new Kg(n);return new yd(n,r,e._key,i,new Zg(t.hasPendingWrites,t.fromCache),e.converter)}class C5 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gg(e)}get(e){const t=wf(e,this._firestore),i=new h5(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return It();const s=r[0];if(s.isFoundDocument())return new kw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new kw(this._firestore,i,t._key,null,t.converter);throw It()})}set(e,t,i){const r=wf(e,this._firestore),s=uT(r.converter,t,i),a=oT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(e,t,i,...r){const s=wf(e,this._firestore);let a;return a="string"==typeof(t=(0,H.m9)(t))||t instanceof md?Tk(this._dataReader,"Transaction.update",s._key,t,i,r):Ik(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(e){const t=wf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wf(e,this._firestore),i=new Kg(this._firestore);return super.get(e).then(r=>new yd(this._firestore,i,t._key,r._document,new Zg(!1,!1),t.converter))}}function Mk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function DO(){if("undefined"==typeof Uint8Array)throw new Qe("unimplemented","Uint8Arrays are not available in this environment.")}function AO(){if(!function CA(){return"undefined"!=typeof atob}())throw new Qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){zh=la.SDK_VERSION,(0,la._registerComponent)(new Rl.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new Bi(r,new lb(t.getProvider("auth-internal")),new gP(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,la.registerVersion)(WE,"3.4.9",n),(0,la.registerVersion)(WE,"3.4.9","esm2017")}();class Rw{constructor(e){this._delegate=e}static fromBase64String(e){return AO(),new Rw(qc.fromBase64String(e))}static fromUint8Array(e){return DO(),new Rw(qc.fromUint8Array(e))}toBase64(){return AO(),this._delegate.toBase64()}toUint8Array(){return DO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Nk(n){return function M5(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class N5{enableIndexedDbPersistence(e,t){return function V6(n,e){sO(n=Bn(n,Bi));const t=Sr(n),i=n._freezeSettings(),r=new fk;return rO(t,r,new UP(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function B6(n){sO(n=Bn(n,Bi));const e=Sr(n),t=n._freezeSettings(),i=new fk;return rO(e,i,new b6(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function U6(n){if(n._initialized&&!n._terminated)throw new Qe(Le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(t=(0,$e.Z)(function*(i){if(!ro.vt())return Promise.resolve();const r=i+"main";yield ro.delete(r)}),function(i){return t.apply(this,arguments)})(C_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class SO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function R6(n,e,t,i={}){var r;const s=(n=Bn(n,Aw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Wh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let a,u;if("string"==typeof i.mockUserToken)a=i.mockUserToken,u=$r.MOCK_USER;else{a=(0,H.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Qe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $r(h)}n._authCredentials=new fP(new qE(a,u))}}(this._delegate,e,t,i)}enableNetwork(){return function H6(n){return function I6(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield WP(n),t=yield $P(n);return e.setNetworkEnabled(!0),function(i){const r=_t(i);return r.wu.delete(0),k_(r)}(t)}))}(Sr(n=Bn(n,Bi)))}(this._delegate)}disableNetwork(){return function z6(n){return function T6(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield WP(n),t=yield $P(n);return e.setNetworkEnabled(!1),(i=(0,$e.Z)(function*(r){const s=_t(r);s.wu.add(0),yield Bg(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Sr(n=Bn(n,Bi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,KP("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function j6(n){return function(e){const t=new Tr;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function l6(n,e){return QS.apply(this,arguments)}(yield bk(e),t)})),t.promise}(Sr(n=Bn(n,Bi)))}(this._delegate)}onSnapshotsInSync(e){return function w5(n,e){return function S6(n,e){const t=new eT(e);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return i=yield F_(n),r=t,_t(i).bu.add(r),void r.next();var i,r})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return i=yield F_(n),r=t,void _t(i).bu.delete(r);var i,r}))}}(Sr(n=Bn(n,Bi)),xk(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new B_(this,eO(this._delegate,e))}catch(t){throw so(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ka(this,iT(this._delegate,e))}catch(t){throw so(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new oo(this,function P6(n,e){if(n=Bn(n,Aw),Ck("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qe(Le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(n,null,(t=e,new ya(Mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw so(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function x5(n,e,t){n=Bn(n,Bi);const i=Object.assign(Object.assign({},d5),t);return function(r){if(r.maxAttempts<1)throw new Qe(Le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function k6(n,e,t){const i=new Tr;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const r=yield(s=n,tT(s).then(a=>a.datastore));var s;new x6(n.asyncQueue,r,t,e,i).run()})),i.promise}(Sr(n),r=>e(new C5(n,r)),i)}(this._delegate,t=>e(new kO(this,t)))}batch(){return Sr(this._delegate),new MO(new CO(this._delegate,e=>V_(this._delegate,e)))}loadBundle(e){return function W6(n,e){const t=Sr(n=Bn(n,Bi)),i=new L6;return function M6(n,e,t,i){const r=function(s,a){let u;return u="string"==typeof s?(new TextEncoder).encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return jP(h,g);if(h instanceof ArrayBuffer)return jP(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new w6(h,a);var h}(t,Vg(e));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function v6(n,e,t){const i=_t(n);var r;(r=(0,$e.Z)(function*(s,a,u){try{const h=yield a.getMetadata();if(yield function(I,S){const P=_t(I),U=Dr(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",J=>P._s.getBundleMetadata(J,S.id)).then(J=>!!J&&J.createTime.compareTo(U)>=0)}(s.localStore,h))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(I=h).totalDocuments,bytesLoaded:I.totalBytes,totalDocuments:I.totalDocuments,totalBytes:I.totalBytes}),Promise.resolve(new Set);u._updateProgress(kP(h));const g=new J3(h,s.localStore,a.M);let _=yield a.ma();for(;_;){const I=yield g.Fu(_);I&&u._updateProgress(I),_=yield a.ma()}const b=yield g.complete();return yield gd(s,b.Lu,void 0),yield function(I,S){const P=_t(I);return P.persistence.runTransaction("Save bundle","readwrite",U=>P._s.saveBundleMetadata(U,S))}(s.localStore,h),u._completeWith(b.progress),Promise.resolve(b.Bu)}catch(h){return Wh("SyncEngine",`Loading bundle failed with ${h}`),u._failWith(h),Promise.resolve(new Set)}var I}),function(s,a,u){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield bk(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function $6(n,e){return function N6(n,e){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(t,i){const r=_t(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield vk(n),e)}))}(Sr(n=Bn(n,Bi)),e).then(t=>t?new Ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new oo(this,t):null)}}class dT extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rw(new qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ka.forKey(t,this.firestore,null)}}class kO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}get(e){const t=Qg(e);return this._delegate.get(t).then(i=>new Pw(this._firestore,new yd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Qg(e);return i?(Mk("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Qg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Qg(e);return this._delegate.delete(t),this}}class MO{constructor(e){this._delegate=e}set(e,t,i){const r=Qg(e);return i?(Mk("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Qg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Qg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Yg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Mw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ow(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Yg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Yg(e,new dT(e),t),r.set(t,s)),s}}Yg.INSTANCES=new WeakMap;class Ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ka(t,new Mi(t._delegate,i,new mt(e)))}static forKey(e,t,i){return new Ka(t,new Mi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new B_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new B_(this.firestore,eO(this._delegate,e))}catch(t){throw so(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,H.m9)(e))instanceof Mi&&tO(this._delegate,e)}set(e,t){t=Mk("DocumentReference.set",t);try{return t?xO(this._delegate,e,t):xO(this._delegate,e)}catch(i){throw so(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?EO(this._delegate,e):EO(this._delegate,e,t,...i)}catch(r){throw so(r,"updateDoc()","DocumentReference.update()")}}delete(){return function v5(n){return V_(Bn(n.firestore,Bi),[new t_(n._key,Vi.none())])}(this._delegate)}onSnapshot(...e){const t=NO(e),i=RO(e,r=>new Pw(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return IO(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function p5(n){n=Bn(n,Mi);const e=Bn(n.firestore,Bi),t=Sr(e),i=new Kg(e);return function D6(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(r,s,a){try{const u=yield function(h,g){const _=_t(h);return _.persistence.runTransaction("read document","readonly",b=>_.fi.Ls(b,g))}(r,s);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new Qe(Le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const h=R_(u,`Failed to get document '${s} from cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield vk(n),e,t);var i})),t.promise}(t,n._key).then(r=>new yd(e,i,n._key,r,new Zg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function g5(n){n=Bn(n,Mi);const e=Bn(n.firestore,Bi);return GP(Sr(e),n._key,{source:"server"}).then(t=>kk(e,n,t))}(this._delegate):function f5(n){n=Bn(n,Mi);const e=Bn(n.firestore,Bi);return GP(Sr(e),n._key).then(t=>kk(e,n,t))}(this._delegate),t.then(i=>new Pw(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ka(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function so(n,e,t){return n.message=n.message.replace(e,t),n}function NO(n){for(const e of n)if("object"==typeof e&&!Nk(e))return e;return{}}function RO(n,e){var t,i;let r;return r=Nk(n[0])?n[0]:Nk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fO(this._delegate,e._delegate)}}class Ow extends Pw{data(e){const t=this._delegate.data(e);return function GE(n,e){n||It()}(void 0!==t),t}}class oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}where(e,t,i){try{return new oo(this.firestore,bf(this._delegate,function n5(n,e,t){const i=e,r=cT("where",n);return new t5(r,i,t)}(e,t,i)))}catch(r){throw so(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new oo(this.firestore,bf(this._delegate,function r5(n,e="asc"){const t=e,i=cT("orderBy",n);return new i5(i,t)}(e,t)))}catch(i){throw so(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new oo(this.firestore,bf(this._delegate,function s5(n){return JP("limit",n),new gO("limit",n,"F")}(e)))}catch(t){throw so(t,"limit()","Query.limit()")}}limitToLast(e){try{return new oo(this.firestore,bf(this._delegate,function o5(n){return JP("limitToLast",n),new gO("limitToLast",n,"L")}(e)))}catch(t){throw so(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new oo(this.firestore,bf(this._delegate,function a5(...n){return new mO("startAt",n,!0)}(...e)))}catch(t){throw so(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new oo(this.firestore,bf(this._delegate,function l5(...n){return new mO("startAfter",n,!1)}(...e)))}catch(t){throw so(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new oo(this.firestore,bf(this._delegate,function c5(...n){return new yO("endBefore",n,!1)}(...e)))}catch(t){throw so(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new oo(this.firestore,bf(this._delegate,function u5(...n){return new yO("endAt",n,!0)}(...e)))}catch(t){throw so(t,"endAt()","Query.endAt()")}}isEqual(e){return nO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function y5(n){n=Bn(n,Ns);const e=Bn(n.firestore,Bi),t=Sr(e),i=new Kg(e);return function A6(n,e){const t=new Tr;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(r,s,a){try{const u=yield gw(r,s,!0),h=new RP(s,u._i),g=h.Wu(u.documents),_=h.applyChanges(g,!1);a.resolve(_.snapshot)}catch(u){const h=R_(u,`Failed to execute query '${s} against cache`);a.reject(h)}}),function(r,s,a){return i.apply(this,arguments)})(yield vk(n),e,t);var i})),t.promise}(t,n._query).then(r=>new vf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function _5(n){n=Bn(n,Ns);const e=Bn(n.firestore,Bi),t=Sr(e),i=new Kg(e);return qP(t,n._query,{source:"server"}).then(r=>new vf(e,i,n,r))}(this._delegate):function m5(n){n=Bn(n,Ns);const e=Bn(n.firestore,Bi),t=Sr(e),i=new Kg(e);return pO(n._query),qP(t,n._query).then(r=>new vf(e,i,n,r))}(this._delegate),t.then(i=>new Rk(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=NO(e),i=RO(e,r=>new Rk(this.firestore,new vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return IO(this._delegate,t,i)}withConverter(e){return new oo(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}class P5{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ow(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ow(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P5(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ow(this._firestore,i))})}isEqual(e){return fO(this._delegate,e._delegate)}}class B_ extends oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ka(this.firestore,e):null}doc(e){try{return new Ka(this.firestore,void 0===e?iT(this._delegate):iT(this._delegate,e))}catch(t){throw so(t,"doc()","CollectionReference.doc()")}}add(e){return function b5(n,e){const t=Bn(n.firestore,Bi),i=iT(n),r=uT(n.converter,e);return V_(t,[oT(Gg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Vi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ka(this.firestore,t))}isEqual(e){return tO(this._delegate,e._delegate)}withConverter(e){return new B_(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Qg(n){return Bn(n,Mi)}class Pk{constructor(...e){this._delegate=new md(...e)}static documentId(){return new Pk(sr.keyField().canonicalString())}isEqual(e){return(e=(0,H.m9)(e))instanceof md&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function I5(){return new Ek("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jg(e)}static delete(){const e=function E5(){return new Sw("deleteField")}();return e._methodName="FieldValue.delete",new Jg(e)}static arrayUnion(...e){const t=function T5(...n){return new K6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jg(t)}static arrayRemove(...e){const t=function D5(...n){return new Y6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jg(t)}static increment(e){const t=function A5(n){return new Q6("increment",n)}(e);return t._methodName="FieldValue.increment",new Jg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const O5={Firestore:SO,GeoPoint:rT,Timestamp:Ci,Blob:Rw,Transaction:kO,WriteBatch:MO,DocumentReference:Ka,DocumentSnapshot:Pw,Query:oo,QueryDocumentSnapshot:Ow,QuerySnapshot:Rk,CollectionReference:B_,FieldPath:Pk,FieldValue:Jg,setLogLevel:function R5(n){!function $E(n){Sc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function PO(n,e){return function V5(n,e=jD.z){return new Pi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function Ok(n,e){return PO(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function hT(n,e){return Ok(n,e).pipe(Mp(void 0),wy(),(0,Pt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const h=r.find(_=>_.doc.ref.isEqual(a.ref)),g=null==t?void 0:t.payload.docs.find(_=>_.ref.isEqual(a.ref));h&&JSON.stringify(h.doc.metadata)===JSON.stringify(a.metadata)||!h&&g&&JSON.stringify(g.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),s}))}function OO(n,e,t){return hT(n,t).pipe(gs((i,r)=>function U5(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function j5(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Lk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lk(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),vh(),(0,Pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Lk(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function LO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function F5(n){(function L5(n,e){n.INTERNAL.registerComponent(new Rl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},O5)))})(n,(e,t)=>new SO(e,t,new N5)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(zD.Z);class FO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=hT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Mp(void 0),wy(),ir(([i,r])=>r.length>0||!i),(0,Pt.U)(([i,r])=>r),zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(gs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=LO(e);return OO(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),zt.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(zt.iC)}add(e){return this.ref.add(e)}doc(e){return new VO(this.ref.doc(e),this.afs)}}class VO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=jO(i,t);return new FO(r,s,this.afs)}snapshotChanges(){return function B5(n,e){return PO(n,e).pipe(Mp(void 0),wy(),(0,Pt.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Cn.D)(this.ref.get(e)).pipe(zt.iC)}}class H5{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ir(t=>t.length>0),zt.iC):hT(this.query,this.afs.schedulers.outsideAngular).pipe(zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(gs((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=LO(e);return OO(this.query,t,this.afs.schedulers.outsideAngular).pipe(zt.iC)}valueChanges(e={}){return Ok(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),zt.iC)}get(e){return(0,Cn.D)(this.query.get(e)).pipe(zt.iC)}}const BO=new d.OlP("angularfire2.enableFirestorePersistence"),UO=new d.OlP("angularfire2.firestore.persistenceSettings"),z5=new d.OlP("angularfire2.firestore.settings"),W5=new d.OlP("angularfire2.firestore.use-emulator");function jO(n,e=(t=>t)){return{query:e(n),ref:n}}let $5=(()=>{class n{constructor(t,i,r,s,a,u,h,g,_,b,I,S,P,U,J,le,Te){this.schedulers=h;const He=(0,Hr.on)(t,u,i),Ne=_;b&&Kx(He,u,I,P,U,J,S,le),[this.firestore,this.persistenceEnabled$]=(0,Hr.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const ke=u.runOutsideAngular(()=>He.firestore());if(s&&ke.settings(s),Ne&&ke.useEmulator(...Ne),r&&!Xi(a)){const tt=()=>{try{return(0,Cn.D)(ke.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(lt){return"undefined"!=typeof console&&console.warn(lt),qt(!1)}};return[ke,u.runOutsideAngular(tt)]}return[ke,qt(!1)]},[s,Ne,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:a}=jO(r,i),u=this.schedulers.ngZone.run(()=>s);return new FO(u,a,this)}collectionGroup(t,i){const r=i||(a=>a),s=this.firestore.collectionGroup(t);return new H5(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new VO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hr.Dh),d.LFG(Hr.xv,8),d.LFG(BO,8),d.LFG(z5,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zt.HU),d.LFG(UO,8),d.LFG(W5,8),d.LFG(pv,8),d.LFG(_h,8),d.LFG(Ap,8),d.LFG(fv,8),d.LFG(Sp,8),d.LFG(kp,8),d.LFG(_y,8),d.LFG(yh,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),G5=(()=>{class n{constructor(){Ba.Z.registerVersion("angularfire",zt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:BO,useValue:!0},{provide:UO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$5]}),n})();var q5=R(5032);const HO="@firebase/database";let Fk="";function WO(n){Fk=n}class Y5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,H.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,H.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Q5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,H.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $O=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y5(e)}}catch(e){}return new Q5},Xg=$O("localStorage"),Vk=$O("sessionStorage"),U_=new ca.Yd("@firebase/database"),GO=function(){let n=1;return function(){return n++}}(),qO=function(n){const e=(0,H.dS)(n),t=new H.gQ;t.update(e);const i=t.digest();return H.US.encodeByteArray(i)},Lw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Lw.apply(null,i):e+="object"==typeof i?(0,H.Pz)(i):i,e+=" "}return e};let em=null,ZO=!0;const KO=function(n,e){(0,H.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(U_.logLevel=ca.in.VERBOSE,em=U_.log.bind(U_),e&&Vk.set("logging_enabled",!0)):"function"==typeof n?em=n:(em=null,Vk.remove("logging_enabled"))},as=function(...n){if(!0===ZO&&(ZO=!1,null===em&&!0===Vk.get("logging_enabled")&&KO(!0)),em){const e=Lw.apply(null,n);em(e)}},Fw=function(n){return function(...e){as(n,...e)}},Bk=function(...n){const e="FIREBASE INTERNAL ERROR: "+Lw(...n);U_.error(e)},Zc=function(...n){const e=`FIREBASE FATAL ERROR: ${Lw(...n)}`;throw U_.error(e),new Error(e)},Rs=function(...n){const e="FIREBASE WARNING: "+Lw(...n);U_.warn(e)},fT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},_d="[MIN_NAME]",Kc="[MAX_NAME]",tm=function(n,e){if(n===e)return 0;if(n===_d||e===Kc)return-1;if(e===_d||n===Kc)return 1;{const t=pT(n),i=pT(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},ej=function(n,e){return n===e?0:n<e?-1:1},Vw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,H.Pz)(e))},Uk=function(n){if("object"!=typeof n||null===n)return(0,H.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,H.Pz)(e[i]),t+=":",t+=Uk(n[e[i]]);return t+="}",t},YO=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ls(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const QO=function(n){(0,H.hu)(!fT(n),"Invalid JSON number");const i=1023;let r,s,a,u,h;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=u+i,a=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const g=[];for(h=52;h;h-=1)g.push(a%2?1:0),a=Math.floor(a/2);for(h=11;h;h-=1)g.push(s%2?1:0),s=Math.floor(s/2);g.push(r?1:0),g.reverse();const _=g.join("");let b="";for(h=0;h<64;h+=8){let I=parseInt(_.substr(h,8),2).toString(16);1===I.length&&(I="0"+I),b+=I}return b.toLowerCase()},rj=new RegExp("^-?(0*)\\d{1,10}$"),JO=-2147483648,jk=2147483647,pT=function(n){if(rj.test(n)){const e=Number(n);if(e>=JO&&e<=jk)return e}return null},j_=function(n){try{n()}catch(e){setTimeout(()=>{throw Rs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Bw=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class oj{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Rs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aj{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(as("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rs(e)}}let Uw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const iL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oL="websocket",aL="long_polling";class zk{constructor(e,t,i,r,s=!1,a="",u=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Xg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function lL(n,e,t){let i;if((0,H.hu)("string"==typeof e,"typeof type must == string"),(0,H.hu)("object"==typeof t,"typeof params must == object"),e===oL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==aL)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function lj(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ls(t,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class cj{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,H.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,H.p$)(this.counters_)}}const Wk={},$k={};function Gk(n){const e=n.toString();return Wk[e]||(Wk[e]=new cj),Wk[e]}class dj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&j_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Cf{constructor(e,t,i,r,s,a,u){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fw(e),this.stats_=Gk(t),this.urlFn=h=>(this.appCheckToken&&(h.ac=this.appCheckToken),lL(t,aL,h))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,H.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qk((...s)=>{const[a,u,h,g,_]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=u,this.password=h;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,u]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&iL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cf.forceAllow_=!0}static forceDisallow(){Cf.forceDisallow_=!0}static isAvailable(){return!((0,H.Yr)()||!Cf.forceAllow_&&(Cf.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,H.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,H.h$)(t),r=YO(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,H.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,H.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class qk{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,H.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=GO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=qk.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){as("frame writing exception"),u.stack&&as(u.stack),as(u)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||as("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,H.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{as("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let mT=null;"undefined"!=typeof MozWebSocket?mT=MozWebSocket:"undefined"!=typeof WebSocket&&(mT=WebSocket);let H_=(()=>{class n{constructor(t,i,r,s,a,u,h){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fw(this.connId),this.stats_=Gk(i),this.connURL=n.connectionURL_(i,u,h,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,a){const u={v:"5"};return!(0,H.Yr)()&&"undefined"!=typeof location&&location.hostname&&iL.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),s&&(u.ac=s),a&&(u.p=a),lL(t,oL,u)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xg.set("previous_websocket_failure",!0);try{let r;if((0,H.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${Fk}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(a.proxy={origin:h})}this.mySock=new mT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==mT&&!n.forceDisallow_}static previouslyFailed(){return Xg.isInMemoryStorage||!0===Xg.get("previous_websocket_failure")}markConnectionHealthy(){Xg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,H.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,H.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,H.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=YO(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),gL=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Cf,H_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=H_&&H_.isAvailable();let r=i&&!H_.previouslyFailed();if(t.webSocketOnly&&(i||Rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[H_];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class CL{constructor(e,t,i,r,s,a,u,h,g,_){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=u,this.onDisconnect_=h,this.onKill_=g,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fw("c:"+this.id+":"),this.transportManager_=new gL(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Bw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Vw("t",e),i=Vw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Vw("t",e),i=Vw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Vw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?Bk("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bk("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Rs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Bw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xL{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class EL{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,H.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,H.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class yT extends EL{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,H.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yT}getInitialEvent(e){return(0,H.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ti{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Qn(){return new ti("")}function En(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function xf(n){return n.pieces_.length-n.pieceNum_}function gi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ti(n.pieces_,e)}function Kk(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function DL(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ti(e,0)}function Ui(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ti)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ti(t,0)}function In(n){return n.pieceNum_>=n.pieces_.length}function ao(n,e){const t=En(n),i=En(e);if(null===t)return e;if(t===i)return ao(gi(n),gi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Rj(n,e){const t=jw(n,0),i=jw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=tm(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function Yk(n,e){if(xf(n)!==xf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Ya(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(xf(n)>xf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Pj{constructor(e,t){this.errorPrefix_=t,this.parts_=jw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,H.ug)(this.parts_[i]);AL(this)}}function AL(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nm(n))}function nm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Qk extends EL{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Qk}getInitialEvent(e){return(0,H.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Hw=1e3;let vT,im=(()=>{class n extends xL{constructor(t,i,r,s,a,u,h,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=Fw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,H.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qk.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&yT.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,a={r:s,a:t,b:i};this.log_((0,H.Pz)(a)),(0,H.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new H.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:u=>{const h=u.d;"ok"===u.s?(this.onDataUpdate_(r.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const u=this.outstandingGets_[a];void 0===u||s!==u||(delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),i.promise}listen(t,i,r,s){this.initConnection_();const a=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,H.hu)(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const h={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(u).set(a,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};t.tag&&(a.q=i._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,h=>{const g=h.d,_=h.s;n.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",h),"ok"!==_&&this.removeListen_(r,s),t.onComplete&&t.onComplete(_,g))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,H.r3)(t,"w")){const r=(0,H.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();Rs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,H.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,H.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,u=s.d||"error";this.authToken_===t&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,H.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const a={p:t};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,u=>{s&&setTimeout(()=>{s(u.s,u.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,a){this.initConnection_();const u={p:i,d:r};void 0!==a&&(u.h=a),this.outstandingPuts_.push({action:t,request:u,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,H.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):Bk("Unrecognized action received from server: "+(0,H.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,H.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,$e.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),a=t.id+":"+n.nextConnectionId_++,u=t.lastSessionId;let h=!1,g=null;const _=function(){g?g.close():(h=!0,s())};t.realtime_={close:_,sendRequest:function(S){(0,H.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(S)}};const I=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[S,P]=yield Promise.all([t.authTokenProvider_.getToken(I),t.appCheckTokenProvider_.getToken(I)]);h?as("getToken() completed but was canceled"):(as("getToken() completed. Creating connection."),t.authToken_=S&&S.accessToken,t.appCheckToken_=P&&P.token,g=new CL(a,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,U=>{Rs(U+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},u))}catch(S){t.log_("Failed to get token: "+S),h||(t.repoInfo_.nodeAdmin&&Rs(S),_())}}})()}interrupt(t){as("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){as("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,H.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(a=>Uk(a)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ti(t).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){as("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){as("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,H.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Fk.replace(/\./g,"-")]=1,(0,H.uI)()?t["framework.cordova"]=1:(0,H.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=yT.getInstance().currentlyOnline();return(0,H.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Dn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Dn(e,t)}}class _T{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Dn(_d,e),r=new Dn(_d,t);return 0!==this.compare(i,r)}minPost(){return Dn.MIN}}class ML extends _T{static get __EMPTY_NODE(){return vT}static set __EMPTY_NODE(e){vT=e}compare(e,t){return tm(e.name,t.name)}isDefinedOn(e){throw(0,H.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Dn.MIN}maxPost(){return new Dn(Kc,vT)}makePost(e,t){return(0,H.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Dn(e,vT)}toString(){return".key"}}const Yc=new ML;class bT{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=t?i(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Xk,Wl=(()=>{class n{constructor(t,i,r,s,a){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Ro.EMPTY_NODE,this.right=null!=a?a:Ro.EMPTY_NODE}copy(t,i,r,s,a){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const a=r(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ro.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ro.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ro{constructor(e,t=Ro.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ro(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wl.BLACK,null,null))}remove(e){return new Ro(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wl.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new bT(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new bT(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new bT(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new bT(this.root_,null,this.comparator_,!0,e)}}function zj(n,e){return tm(n.name,e.name)}function Jk(n,e){return tm(n,e)}Ro.EMPTY_NODE=new class Hj{copy(e,t,i,r,s){return this}insert(e,t,i){return new Wl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const NL=function(n){return"number"==typeof n?"number:"+QO(n):"string:"+n},RL=function(n){if(n.isLeafNode()){const e=n.val();(0,H.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,H.r3)(e,".sv"),"Priority must be a string or number.")}else(0,H.hu)(n===Xk||n.isEmpty(),"priority of unexpected type.");(0,H.hu)(n===Xk||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PL,OL,LL,z_=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,H.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RL(this.priorityNode_)}static set __childrenNodeConstructor(t){PL=t}static get __childrenNodeConstructor(){return PL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return In(t)?this:".priority"===En(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=En(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,H.hu)(".priority"!==r||1===xf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(gi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+NL(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?QO(this.value_):this.value_,this.lazyHash_=qO(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,H.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,H.hu)(s>=0,"Unknown leaf type: "+i),(0,H.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xi=new class qj extends _T{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?tm(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Dn.MIN}maxPost(){return new Dn(Kc,new z_("[PRIORITY-POST]",LL))}makePost(e,t){const i=OL(e);return new Dn(t,new z_("[PRIORITY-POST]",i))}toString(){return".priority"}},Zj=Math.log(2);class Kj{constructor(e){this.count=parseInt(Math.log(e+1)/Zj,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wT=function(n,e,t,i){n.sort(e);const r=function(h,g){const _=g-h;let b,I;if(0===_)return null;if(1===_)return b=n[h],I=t?t(b):b,new Wl(I,b.node,Wl.BLACK,null,null);{const S=parseInt(_/2,10)+h,P=r(h,S),U=r(S+1,g);return b=n[S],I=t?t(b):b,new Wl(I,b.node,Wl.BLACK,P,U)}},u=function(h){let g=null,_=null,b=n.length;const I=function(P,U){const J=b-P,le=b;b-=P;const Te=r(J+1,le),He=n[J],Ne=t?t(He):He;S(new Wl(Ne,He.node,U,null,Te))},S=function(P){g?(g.left=P,g=P):(_=P,g=P)};for(let P=0;P<h.count;++P){const U=h.nextBitIsOne(),J=Math.pow(2,h.count-(P+1));U?I(J,Wl.BLACK):(I(J,Wl.BLACK),I(J,Wl.RED))}return _}(new Kj(n.length));return new Ro(i||e,u)};let eM;const W_={};class vd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,H.hu)(W_&&xi,"ChildrenNode.ts has not been loaded"),eM=eM||new vd({".priority":W_},{".priority":xi}),eM}get(e){const t=(0,H.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ro?t:null}hasIndex(e){return(0,H.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,H.hu)(e!==Yc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Dn.Wrap);let u,a=s.getNext();for(;a;)r=r||e.isDefinedOn(a.node),i.push(a),a=s.getNext();u=r?wT(i,e.getCompare()):W_;const h=e.toString(),g=Object.assign({},this.indexSet_);g[h]=e;const _=Object.assign({},this.indexes_);return _[h]=u,new vd(_,g)}addToIndexes(e,t){const i=(0,H.UI)(this.indexes_,(r,s)=>{const a=(0,H.DV)(this.indexSet_,s);if((0,H.hu)(a,"Missing index implementation for "+s),r===W_){if(a.isDefinedOn(e.node)){const u=[],h=t.getIterator(Dn.Wrap);let g=h.getNext();for(;g;)g.name!==e.name&&u.push(g),g=h.getNext();return u.push(e),wT(u,a.getCompare())}return W_}{const u=t.get(e.name);let h=r;return u&&(h=h.remove(new Dn(e.name,u))),h.insert(e,e.node)}});return new vd(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,H.UI)(this.indexes_,r=>{if(r===W_)return r;{const s=t.get(e.name);return s?r.remove(new Dn(e.name,s)):r}});return new vd(i,this.indexSet_)}}let zw,mn=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RL(this.priorityNode_),this.children_.isEmpty()&&(0,H.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zw||(zw=new n(new Ro(Jk),null,vd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?zw:i}}getChild(t){const i=En(t);return null===i?this:this.getImmediateChild(i).getChild(gi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,H.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Dn(t,i);let s,a;i.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),a=this.indexMap_.addToIndexes(r,this.children_));const u=s.isEmpty()?zw:this.priorityNode_;return new n(s,u,a)}}updateChild(t,i){const r=En(t);if(null===r)return i;{(0,H.hu)(".priority"!==En(t)||1===xf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(gi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(xi,(u,h)=>{i[u]=h.val(t),r++,a&&n.INTEGER_REGEXP_.test(u)?s=Math.max(s,Number(u)):a=!1}),!t&&a&&s<2*r){const u=[];for(const h in i)u[h]=i[h];return u}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+NL(this.getPriority().val())+":"),this.forEachChild(xi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":qO(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new Dn(t,i));return a?a.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Dn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Dn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Dn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Dn.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ww?-1:0}withIndex(t){if(t===Yc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Yc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(xi),s=i.getIterator(xi);let a=r.getNext(),u=s.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=r.getNext(),u=s.getNext()}return null===a&&null===u}return!1}return!1}}resolveIndex_(t){return t===Yc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ww=new class Yj extends mn{constructor(){super(new Ro(Jk),mn.EMPTY_NODE,vd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return mn.EMPTY_NODE}isEmpty(){return!1}};function Ji(n,e=null){if(null===n)return mn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,H.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new z_(n,Ji(e));if(n instanceof Array){let t=mn.EMPTY_NODE;return ls(n,(i,r)=>{if((0,H.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ji(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Ji(e))}{const t=[];let i=!1;if(ls(n,(a,u)=>{if("."!==a.substring(0,1)){const h=Ji(u);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),t.push(new Dn(a,h)))}}),0===t.length)return mn.EMPTY_NODE;const s=wT(t,zj,a=>a.name,Jk);if(i){const a=wT(t,xi.getCompare());return new mn(s,Ji(e),new vd({".priority":a},{".priority":xi}))}return new mn(s,Ji(e),vd.Default)}}Object.defineProperties(Dn,{MIN:{value:new Dn(_d,mn.EMPTY_NODE)},MAX:{value:new Dn(Kc,Ww)}}),ML.__EMPTY_NODE=mn.EMPTY_NODE,z_.__childrenNodeConstructor=mn,function Wj(n){Xk=n}(Ww),function Gj(n){LL=n}(Ww),function $j(n){OL=n}(Ji);class tM extends _T{constructor(e){super(),this.indexPath_=e,(0,H.hu)(!In(e)&&".priority"!==En(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?tm(e.name,t.name):s}makePost(e,t){const i=Ji(e),r=mn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Dn(t,r)}maxPost(){const e=mn.EMPTY_NODE.updateChild(this.indexPath_,Ww);return new Dn(Kc,e)}toString(){return jw(this.indexPath_,0).join("/")}}const nM=new class Jj extends _T{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?tm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Dn.MIN}maxPost(){return Dn.MAX}makePost(e,t){const i=Ji(e);return new Dn(t,i)}toString(){return".value"}},$_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xj=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=$_.charAt(t%64),t=Math.floor(t/64);(0,H.hu)(0===t,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=$_.charAt(e[r]);return(0,H.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),BL=function(n){if(n===""+jk)return"-";const e=pT(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let a=0;a<t.length;a++)t[a]=n.charAt(a);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Kc;const s=$_.charAt($_.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},UL=function(n){if(n===""+JO)return _d;const e=pT(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+jk:(delete t[t.length-1],t.join("")):(t[t.length-1]=$_.charAt($_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function jL(n){return{type:"value",snapshotNode:n}}function G_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function $w(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Gw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class rM{constructor(e){this.index_=e}updateChild(e,t,i,r,s,a){(0,H.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=e.getImmediateChild(t);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?e.hasChild(t)?a.trackChildChange($w(t,u)):(0,H.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?a.trackChildChange(G_(t,i)):a.trackChildChange(Gw(t,i,u))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(xi,(r,s)=>{t.hasChild(r)||i.trackChildChange($w(r,s))}),t.isLeafNode()||t.forEachChild(xi,(r,s)=>{if(e.hasChild(r)){const a=e.getImmediateChild(r);a.equals(s)||i.trackChildChange(Gw(r,s,a))}else i.trackChildChange(G_(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?mn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qw{constructor(e){this.indexedFilter_=new rM(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qw.getStartPost_(e),this.endPost_=qw.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,a){return this.matches(new Dn(t,i))||(i=mn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,a)}updateFullNode(e,t,i){t.isLeafNode()&&(t=mn.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(mn.EMPTY_NODE);const s=this;return t.forEachChild(xi,(a,u)=>{s.matches(new Dn(a,u))||(r=r.updateImmediateChild(a,mn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class t4{constructor(e){this.rangedFilter_=new qw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,a){return this.rangedFilter_.matches(new Dn(t,i))||(i=mn.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,a):this.fullLimitUpdateChild_(e,t,i,s,a)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=mn.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const u=s.getNext();let h;if(h=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),u)<=0:this.index_.compare(u,this.rangedFilter_.getEndPost())<=0,!h)break;r=r.updateImmediateChild(u.name,u.node),a++}}else{let s,a,u,h;if(r=t.withIndex(this.index_),r=r.updatePriority(mn.EMPTY_NODE),this.reverse_){h=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const b=this.index_.getCompare();u=(I,S)=>b(S,I)}else h=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();let g=0,_=!1;for(;h.hasNext();){const b=h.getNext();!_&&u(s,b)<=0&&(_=!0),_&&g<this.limit_&&u(b,a)<=0?g++:r=r.updateImmediateChild(b.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let a;if(this.reverse_){const b=this.index_.getCompare();a=(I,S)=>b(S,I)}else a=this.index_.getCompare();const u=e;(0,H.hu)(u.numChildren()===this.limit_,"");const h=new Dn(t,i),g=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),_=this.rangedFilter_.matches(h);if(u.hasChild(t)){const b=u.getImmediateChild(t);let I=r.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=I&&(I.name===t||u.hasChild(I.name));)I=r.getChildAfterChild(this.index_,I,this.reverse_);const S=null==I?1:a(I,h);if(_&&!i.isEmpty()&&S>=0)return null!=s&&s.trackChildChange(Gw(t,i,b)),u.updateImmediateChild(t,i);{null!=s&&s.trackChildChange($w(t,b));const U=u.updateImmediateChild(t,mn.EMPTY_NODE);return null!=I&&this.rangedFilter_.matches(I)?(null!=s&&s.trackChildChange(G_(I.name,I.node)),U.updateImmediateChild(I.name,I.node)):U}}return i.isEmpty()?e:_&&a(g,h)>=0?(null!=s&&(s.trackChildChange($w(g.name,g.node)),s.trackChildChange(G_(t,i))),u.updateImmediateChild(t,i).updateImmediateChild(g.name,mn.EMPTY_NODE)):e}}class CT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,H.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_d}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,H.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,H.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xi}copy(){const e=new CT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sM(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function oM(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function xT(n,e){const t=n.copy();return t.index_=e,t}function HL(n){const e={};if(n.isDefault())return e;let t;return n.index_===xi?t="$priority":n.index_===nM?t="$value":n.index_===Yc?t="$key":((0,H.hu)(n.index_ instanceof tM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,H.Pz)(t),n.startSet_&&(e.startAt=(0,H.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,H.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,H.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,H.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function zL(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==xi&&(e.i=n.index_.toString()),e}class ET extends xL{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Fw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,H.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=ET.getListenId_(e,i),u={};this.listens_[a]=u;const h=HL(e._queryParams);this.restRequest_(s+".json",h,(g,_)=>{let b=_;if(404===g&&(b=null,g=null),null===g&&this.onDataUpdate_(s,b,!1,i),(0,H.DV)(this.listens_,a)===u){let I;I=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(I,null)}})}unlisten(e,t){const i=ET.getListenId_(e,t);delete this.listens_[i]}get(e){const t=HL(e._queryParams),i=e._path.toString(),r=new H.BH;return this.restRequest_(i+".json",t,(s,a)=>{let u=a;404===s&&(u=null,s=null),null===s?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,H.xO)(t);this.log_("Sending REST request for "+a);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);let h=null;if(u.status>=200&&u.status<300){try{h=(0,H.cI)(u.responseText)}catch(g){Rs("Failed to parse JSON response for "+a+": "+u.responseText)}i(null,h)}else 401!==u.status&&404!==u.status&&Rs("Got unsuccessful REST response for "+a+" Status: "+u.status),i(u.status);i=null}},u.open("GET",a,!0),u.send()})}}class a4{constructor(){this.rootNode_=mn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function IT(){return{value:null,children:new Map}}function q_(n,e,t){if(In(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=En(e);n.children.has(i)||n.children.set(i,IT()),q_(n.children.get(i),e=gi(e),t)}}function aM(n,e){if(In(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(xi,(i,r)=>{q_(n,new ti(i),r)}),aM(n,e)}}if(n.children.size>0){const t=En(e);return e=gi(e),n.children.has(t)&&aM(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function lM(n,e,t){null!==n.value?t(e,n.value):function l4(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{lM(r,new ti(e.toString()+"/"+i),t)})}class c4{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ls(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class h4{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new c4(e);const i=1e4+2e4*Math.random();Bw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ls(e,(r,s)=>{s>0&&(0,H.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Bw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qa=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Qa||(Qa={})),Qa))();function dM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class TT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Qa.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(In(this.path)){if(null!=this.affectedTree.value)return(0,H.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ti(e));return new TT(Qn(),t,this.revert)}}return(0,H.hu)(En(this.path)===e,"operationForChild called for unrelated child."),new TT(gi(this.path),this.affectedTree,this.revert)}}class Zw{constructor(e,t){this.source=e,this.path=t,this.type=Qa.LISTEN_COMPLETE}operationForChild(e){return In(this.path)?new Zw(this.source,Qn()):new Zw(this.source,gi(this.path))}}class rm{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Qa.OVERWRITE}operationForChild(e){return In(this.path)?new rm(this.source,Qn(),this.snap.getImmediateChild(e)):new rm(this.source,gi(this.path),this.snap)}}class Z_{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Qa.MERGE}operationForChild(e){if(In(this.path)){const t=this.children.subtree(new ti(e));return t.isEmpty()?null:t.value?new rm(this.source,Qn(),t.value):new Z_(this.source,Qn(),t)}return(0,H.hu)(En(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Z_(this.source,gi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ef{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(In(e))return this.isFullyInitialized()&&!this.filtered_;const t=En(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class f4{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kw(n,e,t,i,r,s){const a=i.filter(u=>u.type===t);a.sort((u,h)=>function m4(n,e,t){if(null==e.childName||null==t.childName)throw(0,H.g5)("Should only compare child_ events.");const i=new Dn(e.childName,e.snapshotNode),r=new Dn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,u,h)),a.forEach(u=>{const h=function g4(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,u,s);r.forEach(g=>{g.respondsTo(u.type)&&e.push(g.createEvent(h,n.query_))})})}function DT(n,e){return{eventCache:n,serverCache:e}}function Yw(n,e,t,i){return DT(new Ef(e,t,i),n.serverCache)}function $L(n,e,t,i){return DT(n.eventCache,new Ef(e,t,i))}function AT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function sm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let hM;class Ei{constructor(e,t=(()=>(hM||(hM=new Ro(ej)),hM))()){this.value=e,this.children=t}static fromObject(e){let t=new Ei(null);return ls(e,(i,r)=>{t=t.set(new ti(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Qn(),value:this.value};if(In(e))return null;{const i=En(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(gi(e),t);return null!=s?{path:Ui(new ti(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(In(e))return this;{const t=En(e),i=this.children.get(t);return null!==i?i.subtree(gi(e)):new Ei(null)}}set(e,t){if(In(e))return new Ei(t,this.children);{const i=En(e),s=(this.children.get(i)||new Ei(null)).set(gi(e),t),a=this.children.insert(i,s);return new Ei(this.value,a)}}remove(e){if(In(e))return this.children.isEmpty()?new Ei(null):new Ei(null,this.children);{const t=En(e),i=this.children.get(t);if(i){const r=i.remove(gi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ei(null):new Ei(this.value,s)}return this}}get(e){if(In(e))return this.value;{const t=En(e),i=this.children.get(t);return i?i.get(gi(e)):null}}setTree(e,t){if(In(e))return t;{const i=En(e),s=(this.children.get(i)||new Ei(null)).setTree(gi(e),t);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ei(this.value,a)}}fold(e){return this.fold_(Qn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ui(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Qn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(In(e))return null;{const s=En(e),a=this.children.get(s);return a?a.findOnPath_(gi(e),Ui(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Qn(),t)}foreachOnPath_(e,t,i){if(In(e))return this;{this.value&&i(t,this.value);const r=En(e),s=this.children.get(r);return s?s.foreachOnPath_(gi(e),Ui(t,r),i):new Ei(null)}}foreach(e){this.foreach_(Qn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ui(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class $l{constructor(e){this.writeTree_=e}static empty(){return new $l(new Ei(null))}}function Qw(n,e,t){if(In(e))return new $l(new Ei(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const a=ao(r,e);return s=s.updateChild(a,t),new $l(n.writeTree_.set(r,s))}{const r=new Ei(t),s=n.writeTree_.setTree(e,r);return new $l(s)}}}function fM(n,e,t){let i=n;return ls(t,(r,s)=>{i=Qw(i,Ui(e,r),s)}),i}function GL(n,e){if(In(e))return $l.empty();{const t=n.writeTree_.setTree(e,new Ei(null));return new $l(t)}}function pM(n,e){return null!=om(n,e)}function om(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ao(t.path,e)):null}function qL(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xi,(i,r)=>{e.push(new Dn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Dn(i,r.value))}),e}function If(n,e){if(In(e))return n;{const t=om(n,e);return new $l(null!=t?new Ei(t):n.writeTree_.subtree(e))}}function gM(n){return n.writeTree_.isEmpty()}function K_(n,e){return ZL(Qn(),n.writeTree_,e)}function ZL(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,H.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=ZL(Ui(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Ui(n,".priority"),i)),t}}function ST(n,e){return XL(e,n)}function C4(n,e){if(n.snap)return Ya(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ya(Ui(n.path,t),e))return!0;return!1}function E4(n){return n.visible}function KL(n,e,t){let i=$l.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const a=s.path;let u;if(s.snap)Ya(t,a)?(u=ao(t,a),i=Qw(i,u,s.snap)):Ya(a,t)&&(u=ao(a,t),i=Qw(i,Qn(),s.snap.getChild(u)));else{if(!s.children)throw(0,H.g5)("WriteRecord should have .snap or .children");if(Ya(t,a))u=ao(t,a),i=fM(i,u,s.children);else if(Ya(a,t))if(u=ao(a,t),In(u))i=fM(i,Qn(),s.children);else{const h=(0,H.DV)(s.children,En(u));if(h){const g=h.getChild(gi(u));i=Qw(i,Qn(),g)}}}}}return i}function YL(n,e,t,i,r){if(i||r){const s=If(n.visibleWrites,e);return!r&&gM(s)?t:r||null!=t||pM(s,Qn())?K_(KL(n.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(Ya(g.path,e)||Ya(e,g.path))},e),t||mn.EMPTY_NODE):null}{const s=om(n.visibleWrites,e);if(null!=s)return s;{const a=If(n.visibleWrites,e);return gM(a)?t:null!=t||pM(a,Qn())?K_(a,t||mn.EMPTY_NODE):null}}}function kT(n,e,t,i){return YL(n.writeTree,n.treePath,e,t,i)}function mM(n,e){return function I4(n,e,t){let i=mn.EMPTY_NODE;const r=om(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(xi,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(t){const s=If(n.visibleWrites,e);return t.forEachChild(xi,(a,u)=>{const h=K_(If(s,new ti(a)),u);i=i.updateImmediateChild(a,h)}),qL(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return qL(If(n.visibleWrites,e)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,e)}function QL(n,e,t,i){return function T4(n,e,t,i,r){(0,H.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ui(e,t);if(pM(n.visibleWrites,s))return null;{const a=If(n.visibleWrites,s);return gM(a)?r.getChild(t):K_(a,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function MT(n,e){return function A4(n,e){return om(n.visibleWrites,e)}(n.writeTree,Ui(n.treePath,e))}function yM(n,e,t){return function D4(n,e,t,i){const r=Ui(e,t),s=om(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?K_(If(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function JL(n,e){return XL(Ui(n.treePath,e),n.writeTree)}function XL(n,e){return{treePath:n,writeTree:e}}class N4{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,H.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,H.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Gw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,$w(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,G_(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,H.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Gw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const eF=new class R4{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class _M{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ef(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yM(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sm(this.viewCache_),s=function M4(n,e,t,i,r,s){return function S4(n,e,t,i,r,s,a){let u;const h=If(n.visibleWrites,e),g=om(h,Qn());if(null!=g)u=g;else{if(null==t)return[];u=K_(h,t)}if(u=u.withIndex(a),u.isEmpty()||u.isLeafNode())return[];{const _=[],b=a.getCompare(),I=s?u.getReverseIteratorFrom(i,a):u.getIteratorFrom(i,a);let S=I.getNext();for(;S&&_.length<r;)0!==b(S,i)&&_.push(S),S=I.getNext();return _}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function tF(n,e,t,i,r,s){const a=e.eventCache;if(null!=MT(i,t))return e;{let u,h;if(In(t))if((0,H.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=sm(e),b=mM(i,g instanceof mn?g:mn.EMPTY_NODE);u=n.filter.updateFullNode(e.eventCache.getNode(),b,s)}else{const g=kT(i,sm(e));u=n.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const g=En(t);if(".priority"===g){(0,H.hu)(1===xf(t),"Can't have a priority with additional path components");const _=a.getNode();h=e.serverCache.getNode();const b=QL(i,t,_,h);u=null!=b?n.filter.updatePriority(_,b):a.getNode()}else{const _=gi(t);let b;if(a.isCompleteForChild(g)){h=e.serverCache.getNode();const I=QL(i,t,a.getNode(),h);b=null!=I?a.getNode().getImmediateChild(g).updateChild(_,I):a.getNode().getImmediateChild(g)}else b=yM(i,g,e.serverCache);u=null!=b?n.filter.updateChild(a.getNode(),g,b,_,r,s):a.getNode()}}return Yw(e,u,a.isFullyInitialized()||In(t),n.filter.filtersNodes())}}function NT(n,e,t,i,r,s,a,u){const h=e.serverCache;let g;const _=a?n.filter:n.filter.getIndexedFilter();if(In(t))g=_.updateFullNode(h.getNode(),i,null);else if(_.filtersNodes()&&!h.isFiltered()){const S=h.getNode().updateChild(t,i);g=_.updateFullNode(h.getNode(),S,null)}else{const S=En(t);if(!h.isCompleteForPath(t)&&xf(t)>1)return e;const P=gi(t),J=h.getNode().getImmediateChild(S).updateChild(P,i);g=".priority"===S?_.updatePriority(h.getNode(),J):_.updateChild(h.getNode(),S,J,P,eF,null)}const b=$L(e,g,h.isFullyInitialized()||In(t),_.filtersNodes());return tF(n,b,t,r,new _M(r,b,s),u)}function vM(n,e,t,i,r,s,a){const u=e.eventCache;let h,g;const _=new _M(r,e,s);if(In(t))g=n.filter.updateFullNode(e.eventCache.getNode(),i,a),h=Yw(e,g,!0,n.filter.filtersNodes());else{const b=En(t);if(".priority"===b)g=n.filter.updatePriority(e.eventCache.getNode(),i),h=Yw(e,g,u.isFullyInitialized(),u.isFiltered());else{const I=gi(t),S=u.getNode().getImmediateChild(b);let P;if(In(I))P=i;else{const U=_.getCompleteChild(b);P=null!=U?".priority"===Kk(I)&&U.getChild(DL(I)).isEmpty()?U:U.updateChild(I,i):mn.EMPTY_NODE}h=S.equals(P)?e:Yw(e,n.filter.updateChild(u.getNode(),b,P,I,_,a),u.isFullyInitialized(),n.filter.filtersNodes())}}return h}function nF(n,e){return n.eventCache.isCompleteForChild(e)}function iF(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function bM(n,e,t,i,r,s,a,u){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,h=e;g=In(t)?i:new Ei(null).setTree(t,i);const _=e.serverCache.getNode();return g.children.inorderTraversal((b,I)=>{if(_.hasChild(b)){const P=iF(0,e.serverCache.getNode().getImmediateChild(b),I);h=NT(n,h,new ti(b),P,r,s,a,u)}}),g.children.inorderTraversal((b,I)=>{const S=!e.serverCache.isCompleteForChild(b)&&void 0===I.value;if(!_.hasChild(b)&&!S){const U=iF(0,e.serverCache.getNode().getImmediateChild(b),I);h=NT(n,h,new ti(b),U,r,s,a,u)}}),h}class H4{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new rM(i.getIndex()),s=function n4(n){return n.loadsAllData()?new rM(n.getIndex()):n.hasLimit()?new t4(n):new qw(n)}(i);this.processor_=function P4(n){return{filter:n}}(s);const a=t.serverCache,u=t.eventCache,h=r.updateFullNode(mn.EMPTY_NODE,a.getNode(),null),g=s.updateFullNode(mn.EMPTY_NODE,u.getNode(),null),_=new Ef(h,a.isFullyInitialized(),r.filtersNodes()),b=new Ef(g,u.isFullyInitialized(),s.filtersNodes());this.viewCache_=DT(b,_),this.eventGenerator_=new f4(this.query_)}get query(){return this.query_}}function $4(n,e){const t=sm(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!In(e)&&!t.getImmediateChild(En(e)).isEmpty())?t.getChild(e):null}function rF(n){return 0===n.eventRegistrations_.length}function sF(n,e,t){const i=[];if(t){(0,H.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(t,r);a&&i.push(a)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function oF(n,e,t,i){e.type===Qa.MERGE&&null!==e.source.queryId&&((0,H.hu)(sm(n.viewCache_),"We should always have a full cache before handling merges"),(0,H.hu)(AT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function L4(n,e,t,i,r){const s=new N4;let a,u;if(t.type===Qa.OVERWRITE){const g=t;g.source.fromUser?a=vM(n,e,g.path,g.snap,i,r,s):((0,H.hu)(g.source.fromServer,"Unknown source."),u=g.source.tagged||e.serverCache.isFiltered()&&!In(g.path),a=NT(n,e,g.path,g.snap,i,r,u,s))}else if(t.type===Qa.MERGE){const g=t;g.source.fromUser?a=function V4(n,e,t,i,r,s,a){let u=e;return i.foreach((h,g)=>{const _=Ui(t,h);nF(e,En(_))&&(u=vM(n,u,_,g,r,s,a))}),i.foreach((h,g)=>{const _=Ui(t,h);nF(e,En(_))||(u=vM(n,u,_,g,r,s,a))}),u}(n,e,g.path,g.children,i,r,s):((0,H.hu)(g.source.fromServer,"Unknown source."),u=g.source.tagged||e.serverCache.isFiltered(),a=bM(n,e,g.path,g.children,i,r,u,s))}else if(t.type===Qa.ACK_USER_WRITE){const g=t;a=g.revert?function j4(n,e,t,i,r,s){let a;if(null!=MT(i,t))return e;{const u=new _M(i,e,r),h=e.eventCache.getNode();let g;if(In(t)||".priority"===En(t)){let _;if(e.serverCache.isFullyInitialized())_=kT(i,sm(e));else{const b=e.serverCache.getNode();(0,H.hu)(b instanceof mn,"serverChildren would be complete if leaf node"),_=mM(i,b)}_=_,g=n.filter.updateFullNode(h,_,s)}else{const _=En(t);let b=yM(i,_,e.serverCache);null==b&&e.serverCache.isCompleteForChild(_)&&(b=h.getImmediateChild(_)),g=null!=b?n.filter.updateChild(h,_,b,gi(t),u,s):e.eventCache.getNode().hasChild(_)?n.filter.updateChild(h,_,mn.EMPTY_NODE,gi(t),u,s):h,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=kT(i,sm(e)),a.isLeafNode()&&(g=n.filter.updateFullNode(g,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=MT(i,Qn()),Yw(e,g,a,n.filter.filtersNodes())}}(n,e,g.path,i,r,s):function B4(n,e,t,i,r,s,a){if(null!=MT(r,t))return e;const u=e.serverCache.isFiltered(),h=e.serverCache;if(null!=i.value){if(In(t)&&h.isFullyInitialized()||h.isCompleteForPath(t))return NT(n,e,t,h.getNode().getChild(t),r,s,u,a);if(In(t)){let g=new Ei(null);return h.getNode().forEachChild(Yc,(_,b)=>{g=g.set(new ti(_),b)}),bM(n,e,t,g,r,s,u,a)}return e}{let g=new Ei(null);return i.foreach((_,b)=>{const I=Ui(t,_);h.isCompleteForPath(I)&&(g=g.set(_,h.getNode().getChild(I)))}),bM(n,e,t,g,r,s,u,a)}}(n,e,g.path,g.affectedTree,i,r,s)}else{if(t.type!==Qa.LISTEN_COMPLETE)throw(0,H.g5)("Unknown operation type: "+t.type);a=function U4(n,e,t,i,r){const s=e.serverCache;return tF(n,$L(e,s.getNode(),s.isFullyInitialized()||In(t),s.isFiltered()),t,i,eF,r)}(n,e,t.path,i,s)}const h=s.getChanges();return function F4(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=AT(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(jL(AT(e)))}}(e,a,h),{viewCache:a,changes:h}}(n.processor_,r,e,t,i);return function O4(n,e){(0,H.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,H.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,H.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,aF(n,s.changes,s.viewCache.eventCache.getNode(),null)}function aF(n,e,t,i){return function p4(n,e,t,i){const r=[],s=[];return e.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function e4(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(a.childName,a.snapshotNode))}),Kw(n,r,"child_removed",e,i,t),Kw(n,r,"child_added",e,i,t),Kw(n,r,"child_moved",s,i,t),Kw(n,r,"child_changed",e,i,t),Kw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let RT,OT;class lF{constructor(){this.views=new Map}}function wM(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,H.hu)(null!=s,"SyncTree gave us an op for an invalid query."),oF(s,e,t,i)}{let s=[];for(const a of n.views.values())s=s.concat(oF(a,e,t,i));return s}}function cF(n,e,t,i,r){const a=n.views.get(e._queryIdentifier);if(!a){let u=kT(t,r?i:null),h=!1;u?h=!0:i instanceof mn?(u=mM(t,i),h=!1):(u=mn.EMPTY_NODE,h=!1);const g=DT(new Ef(u,h,!1),new Ef(i,r,!1));return new H4(e,g)}return a}function uF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Tf(n,e){let t=null;for(const i of n.views.values())t=t||$4(i,e);return t}function dF(n,e){return e._queryParams.loadsAllData()?PT(n):n.views.get(e._queryIdentifier)}function hF(n,e){return null!=dF(n,e)}function Df(n){return null!=PT(n)}function PT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let tH=1;class fF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ei(null),this.pendingWriteTree_=function k4(){return{visibleWrites:$l.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CM(n,e,t,i,r){return function _4(n,e,t,i,r){(0,H.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Qw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Y_(n,new rm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Af(n,e,t=!1){const i=function b4(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function w4(n,e){const t=n.allWrites.findIndex(u=>u.writeId===e);(0,H.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const u=n.allWrites[a];u.visible&&(a>=t&&C4(u,i.path)?r=!1:Ya(i.path,u.path)&&(s=!0)),a--}return!!r&&(s?(function x4(n){n.visibleWrites=KL(n.allWrites,E4,Qn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=GL(n.visibleWrites,i.path):ls(i.children,h=>{n.visibleWrites=GL(n.visibleWrites,Ui(i.path,h))}),!0))}(n.pendingWriteTree_,e)){let s=new Ei(null);return null!=i.snap?s=s.set(Qn(),!0):ls(i.children,a=>{s=s.set(new ti(a),!0)}),Y_(n,new TT(i.path,s,t))}return[]}function Jw(n,e,t){return Y_(n,new rm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function xM(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let a=[];if(s&&("default"===e._queryIdentifier||hF(s,e))){const u=function J4(n,e,t,i){const r=e._queryIdentifier,s=[];let a=[];const u=Df(n);if("default"===r)for(const[h,g]of n.views.entries())a=a.concat(sF(g,t,i)),rF(g)&&(n.views.delete(h),g.query._queryParams.loadsAllData()||s.push(g.query));else{const h=n.views.get(r);h&&(a=a.concat(sF(h,t,i)),rF(h)&&(n.views.delete(r),h.query._queryParams.loadsAllData()||s.push(h.query)))}return u&&!Df(n)&&s.push(new(function K4(){return(0,H.hu)(RT,"Reference.ts has not been loaded"),RT}())(e._repo,e._path)),{removed:s,events:a}}(s,e,t,i);(function Y4(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const h=u.removed;a=u.events;const g=-1!==h.findIndex(b=>b._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(r,(b,I)=>Df(I));if(g&&!_){const b=n.syncPointTree_.subtree(r);if(!b.isEmpty()){const I=function cH(n){return n.fold((e,t,i)=>{if(t&&Df(t))return[PT(t)];{let r=[];return t&&(r=uF(t)),ls(i,(s,a)=>{r=r.concat(a)}),r}})}(b);for(let S=0;S<I.length;++S){const P=I[S],U=P.query,J=yF(n,P);n.listenProvider_.startListening(Xw(U),FT(n,U),J.hashFn,J.onComplete)}}}!_&&h.length>0&&!i&&(g?n.listenProvider_.stopListening(Xw(e),null):h.forEach(b=>{const I=n.queryToTagMap.get(VT(b));n.listenProvider_.stopListening(Xw(b),I)})),function uH(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=VT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,h)}return a}function pF(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(b,I)=>{const S=ao(b,i);r=r||Tf(I,S),s=s||Df(I)});let u,a=n.syncPointTree_.get(i);a?(s=s||Df(a),r=r||Tf(a,Qn())):(a=new lF,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=r?u=!0:(u=!1,r=mn.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((I,S)=>{const P=Tf(S,Qn());P&&(r=r.updateImmediateChild(I,P))}));const h=hF(a,e);if(!h&&!e._queryParams.loadsAllData()){const b=VT(e);(0,H.hu)(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const I=function dH(){return tH++}();n.queryToTagMap.set(b,I),n.tagToQueryMap.set(I,b)}let _=function Q4(n,e,t,i,r,s){const a=cF(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),function G4(n,e){n.eventRegistrations_.push(e)}(a,t),function q4(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(xi,(s,a)=>{i.push(G_(s,a))}),t.isFullyInitialized()&&i.push(jL(t.getNode())),aF(n,i,t.getNode(),e)}(a,t)}(a,e,t,ST(n.pendingWriteTree_,i),r,u);if(!h&&!s){const b=dF(a,e);_=_.concat(function hH(n,e,t){const i=e._path,r=FT(n,e),s=yF(n,t),a=n.listenProvider_.startListening(Xw(e),r,s.hashFn,s.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,H.hu)(!Df(u.value),"If we're adding a query, it shouldn't be shadowed");else{const h=u.fold((g,_,b)=>{if(!In(g)&&_&&Df(_))return[PT(_).query];{let I=[];return _&&(I=I.concat(uF(_).map(S=>S.query))),ls(b,(S,P)=>{I=I.concat(P)}),I}});for(let g=0;g<h.length;++g){const _=h[g];n.listenProvider_.stopListening(Xw(_),FT(n,_))}}return a}(n,e,b))}return _}function LT(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,u)=>{const g=Tf(u,ao(a,e));if(g)return g});return YL(r,e,s,t,!0)}function Y_(n,e){return gF(e,n.syncPointTree_,null,ST(n.pendingWriteTree_,Qn()))}function gF(n,e,t,i){if(In(n.path))return mF(n,e,t,i);{const r=e.get(Qn());null==t&&null!=r&&(t=Tf(r,Qn()));let s=[];const a=En(n.path),u=n.operationForChild(a),h=e.children.get(a);if(h&&u){const g=t?t.getImmediateChild(a):null,_=JL(i,a);s=s.concat(gF(u,h,g,_))}return r&&(s=s.concat(wM(r,n,i,t))),s}}function mF(n,e,t,i){const r=e.get(Qn());null==t&&null!=r&&(t=Tf(r,Qn()));let s=[];return e.children.inorderTraversal((a,u)=>{const h=t?t.getImmediateChild(a):null,g=JL(i,a),_=n.operationForChild(a);_&&(s=s.concat(mF(_,u,h,g)))}),r&&(s=s.concat(wM(r,n,i,t))),s}function yF(n,e){const t=e.query,i=FT(n,t);return{hashFn:()=>(function z4(n){return n.viewCache_.serverCache.getNode()}(e)||mn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function sH(n,e,t){const i=EM(n,t);if(i){const r=IM(i),s=r.path,a=r.queryId,u=ao(s,e);return TM(n,s,new Zw(dM(a),u))}return[]}(n,t._path,i):function rH(n,e){return Y_(n,new Zw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function ij(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return xM(n,t,null,s)}}}}function FT(n,e){const t=VT(e);return n.queryToTagMap.get(t)}function VT(n){return n._path.toString()+"$"+n._queryIdentifier}function EM(n,e){return n.tagToQueryMap.get(e)}function IM(n){const e=n.indexOf("$");return(0,H.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ti(n.substr(0,e))}}function TM(n,e,t){const i=n.syncPointTree_.get(e);return(0,H.hu)(i,"Missing sync point for query tag that we're tracking"),wM(i,t,ST(n.pendingWriteTree_,e),null)}function Xw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function eH(){return(0,H.hu)(OT,"Reference.ts has not been loaded"),OT}())(n._repo,n._path):n}class DM{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new DM(t)}node(){return this.node_}}class AM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ui(this.path_,e);return new AM(this.syncTree_,t)}node(){return LT(this.syncTree_,this.path_)}}const _F=function(n,e,t){return n&&"object"==typeof n?((0,H.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?pH(n[".sv"],e,t):"object"==typeof n[".sv"]?gH(n[".sv"],e):void(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},pH=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,H.hu)(!1,"Unexpected server value: "+n)},gH=function(n,e,t){n.hasOwnProperty("increment")||(0,H.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,H.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,H.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},vF=function(n,e,t,i){return kM(e,new AM(t,n),i)},SM=function(n,e,t){return kM(n,new DM(e),t)};function kM(n,e,t){const i=n.getPriority().val(),r=_F(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,u=_F(a.getValue(),e,t);return u!==a.getValue()||r!==a.getPriority().val()?new z_(u,Ji(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new z_(r))),a.forEachChild(xi,(u,h)=>{const g=kM(h,e.getImmediateChild(u),t);g!==h&&(s=s.updateImmediateChild(u,g))}),s}}class MM{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function BT(n,e){let t=e instanceof ti?e:new ti(e),i=n,r=En(t);for(;null!==r;){const s=(0,H.DV)(i.node.children,r)||{children:{},childCount:0};i=new MM(r,i,s),t=gi(t),r=En(t)}return i}function am(n){return n.node.value}function NM(n,e){n.node.value=e,RM(n)}function bF(n){return n.node.childCount>0}function UT(n,e){ls(n.node.children,(t,i)=>{e(new MM(t,n,i))})}function wF(n,e,t,i){t&&!i&&e(n),UT(n,r=>{wF(r,e,!0,i)}),t&&i&&e(n)}function eC(n){return new ti(null===n.parent?n.name:eC(n.parent)+"/"+n.name)}function RM(n){null!==n.parent&&function _H(n,e,t){const i=function mH(n){return void 0===am(n)&&!bF(n)}(t),r=(0,H.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,RM(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,RM(n))}(n.parent,n.name,n)}const vH=/[\[\].#$\/\u0000-\u001F\u007F]/,bH=/[\[\].#$\u0000-\u001F\u007F]/,PM=10485760,jT=function(n){return"string"==typeof n&&0!==n.length&&!vH.test(n)},CF=function(n){return"string"==typeof n&&0!==n.length&&!bH.test(n)},tC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!fT(n)||n&&"object"==typeof n&&(0,H.r3)(n,".sv")},Qc=function(n,e,t,i){i&&void 0===e||nC((0,H.gK)(n,"value"),e,t)},nC=function(n,e,t){const i=t instanceof ti?new Pj(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+nm(i));if("function"==typeof e)throw new Error(n+"contains a function "+nm(i)+" with contents = "+e.toString());if(fT(e))throw new Error(n+"contains "+e.toString()+" "+nm(i));if("string"==typeof e&&e.length>PM/3&&(0,H.ug)(e)>PM)throw new Error(n+"contains a string greater than "+PM+" utf8 bytes "+nm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(ls(e,(a,u)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!jT(a)))throw new Error(n+" contains an invalid key ("+a+") "+nm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Oj(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,H.ug)(e),AL(n)})(i,a),nC(n,u,i),function Lj(n){const e=n.parts_.pop();n.byteLength_-=(0,H.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+nm(i)+" in addition to actual children.")}},xF=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,H.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];ls(e,(a,u)=>{const h=new ti(a);if(nC(r,u,Ui(t,h)),".priority"===Kk(h)&&!tC(u))throw new Error(r+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(h)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=jw(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!jT(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Rj);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Ya(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},OM=function(n,e,t){if(!t||void 0!==e){if(fT(e))throw new Error((0,H.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tC(e))throw new Error((0,H.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},iC=function(n,e,t,i){if(!(i&&void 0===t||jT(t)))throw new Error((0,H.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rC=function(n,e,t,i){if(!(i&&void 0===t||CF(t)))throw new Error((0,H.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ja=function(n,e){if(".info"===En(e))throw new Error(n+" failed = Can't modify data under /.info/")},EF=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CF(n)}(t))throw new Error((0,H.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class EH{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!Yk(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function LM(n,e,t){HT(n,t),IF(n,i=>Yk(i,e))}function Xa(n,e,t){HT(n,t),IF(n,i=>Ya(i,e)||Ya(e,i))}function IF(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(IH(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function IH(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();em&&as("event: "+t.toString()),j_(i)}}}const TF="repo_interrupt";class DH{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EH,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=IT(),this.transactionQueueTree_=new MM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DF(n){const t=n.infoData_.getNode(new ti(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:DF(n)})}function AF(n,e,t,i,r){n.dataUpdateCount++;const s=new ti(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(r)if(i){const h=(0,H.UI)(t,g=>Ji(g));a=function aH(n,e,t,i){const r=EM(n,i);if(r){const s=IM(r),a=s.path,u=s.queryId,h=ao(a,e),g=Ei.fromObject(t);return TM(n,a,new Z_(dM(u),h,g))}return[]}(n.serverSyncTree_,s,h,r)}else{const h=Ji(t);a=function oH(n,e,t,i){const r=EM(n,i);if(null!=r){const s=IM(r),a=s.path,u=s.queryId,h=ao(a,e);return TM(n,a,new rm(dM(u),h,t))}return[]}(n.serverSyncTree_,s,h,r)}else if(i){const h=(0,H.UI)(t,g=>Ji(g));a=function iH(n,e,t){const i=Ei.fromObject(t);return Y_(n,new Z_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,h)}else{const h=Ji(t);a=Jw(n.serverSyncTree_,s,h)}let u=s;a.length>0&&(u=J_(n,s)),Xa(n.eventQueue_,u,a)}function SF(n,e){FM(n,"connected",e),!1===e&&function NH(n){Q_(n,"onDisconnectEvents");const e=sC(n),t=IT();lM(n.onDisconnect_,Qn(),(r,s)=>{const a=vF(r,s,n.serverSyncTree_,e);q_(t,r,a)});let i=[];lM(t,Qn(),(r,s)=>{i=i.concat(Jw(n.serverSyncTree_,r,s));const a=jM(n,r);J_(n,a)}),n.onDisconnect_=IT(),Xa(n.eventQueue_,Qn(),i)}(n)}function FM(n,e,t){const i=new ti("/.info/"+e),r=Ji(t);n.infoData_.updateSnapshot(i,r);const s=Jw(n.infoSyncTree_,i,r);Xa(n.eventQueue_,i,s)}function zT(n){return n.nextWriteId_++}function VM(n,e,t,i,r){Q_(n,"set",{path:e.toString(),value:t,priority:i});const s=sC(n),a=Ji(t,i),u=LT(n.serverSyncTree_,e),h=SM(a,u,s),g=zT(n),_=CM(n.serverSyncTree_,e,h,g,!0);HT(n.eventQueue_,_),n.server_.put(e.toString(),a.val(!0),(I,S)=>{const P="ok"===I;P||Rs("set at "+e+" failed: "+I);const U=Af(n.serverSyncTree_,g,!P);Xa(n.eventQueue_,e,U),Sf(0,r,I,S)});const b=jM(n,e);J_(n,b),Xa(n.eventQueue_,b,[])}function RH(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&aM(n.onDisconnect_,e),Sf(0,t,i,r)})}function kF(n,e,t,i){const r=Ji(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,a)=>{"ok"===s&&q_(n.onDisconnect_,e,r),Sf(0,i,s,a)})}function BM(n,e,t){let i;i=".info"===En(e._path)?xM(n.infoSyncTree_,e,t):xM(n.serverSyncTree_,e,t),LM(n.eventQueue_,e._path,i)}function MF(n){n.persistentConnection_&&n.persistentConnection_.interrupt(TF)}function Q_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),as(t,...e)}function Sf(n,e,t,i){e&&j_(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,e(a)}})}function UM(n,e,t){return LT(n.serverSyncTree_,e,t)||mn.EMPTY_NODE}function WT(n,e=n.transactionQueueTree_){if(e||$T(n,e),am(e)){const t=RF(n,e);(0,H.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function BH(n,e,t){const i=t.map(g=>g.currentWriteId),r=UM(n,e,i);let s=r;const a=r.hash();for(let g=0;g<t.length;g++){const _=t[g];(0,H.hu)(0===_.status,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=ao(e,_.path);s=s.updateChild(b,_.currentOutputSnapshotRaw)}const u=s.val(!0),h=e;n.server_.put(h.toString(),u,g=>{Q_(n,"transaction put response",{path:h.toString(),status:g});let _=[];if("ok"===g){const b=[];for(let I=0;I<t.length;I++)t[I].status=2,_=_.concat(Af(n.serverSyncTree_,t[I].currentWriteId)),t[I].onComplete&&b.push(()=>t[I].onComplete(null,!0,t[I].currentOutputSnapshotResolved)),t[I].unwatcher();$T(n,BT(n.transactionQueueTree_,e)),WT(n,n.transactionQueueTree_),Xa(n.eventQueue_,e,_);for(let I=0;I<b.length;I++)j_(b[I])}else{if("datastale"===g)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{Rs("transaction at "+h.toString()+" failed: "+g);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=g}J_(n,e)}},a)}(n,eC(e),t)}else bF(e)&&UT(e,t=>{WT(n,t)})}function J_(n,e){const t=NF(n,e),i=eC(t);return function UH(n,e,t){if(0===e.length)return;const i=[];let r=[];const a=e.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<e.length;u++){const h=e[u],g=ao(t,h.path);let b,_=!1;if((0,H.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status)_=!0,b=h.abortReason,r=r.concat(Af(n.serverSyncTree_,h.currentWriteId,!0));else if(0===h.status)if(h.retryCount>=25)_=!0,b="maxretry",r=r.concat(Af(n.serverSyncTree_,h.currentWriteId,!0));else{const I=UM(n,h.path,a);h.currentInputSnapshot=I;const S=e[u].update(I.val());if(void 0!==S){nC("transaction failed: Data returned ",S,h.path);let P=Ji(S);"object"==typeof S&&null!=S&&(0,H.r3)(S,".priority")||(P=P.updatePriority(I.getPriority()));const J=h.currentWriteId,le=sC(n),Te=SM(P,I,le);h.currentOutputSnapshotRaw=P,h.currentOutputSnapshotResolved=Te,h.currentWriteId=zT(n),a.splice(a.indexOf(J),1),r=r.concat(CM(n.serverSyncTree_,h.path,Te,h.currentWriteId,h.applyLocally)),r=r.concat(Af(n.serverSyncTree_,J,!0))}else _=!0,b="nodata",r=r.concat(Af(n.serverSyncTree_,h.currentWriteId,!0))}Xa(n.eventQueue_,t,r),r=[],_&&(e[u].status=2,setTimeout(e[u].unwatcher,Math.floor(0)),e[u].onComplete&&i.push("nodata"===b?()=>e[u].onComplete(null,!1,e[u].currentInputSnapshot):()=>e[u].onComplete(new Error(b),!1,null)))}$T(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)j_(i[u]);WT(n,n.transactionQueueTree_)}(n,RF(n,t),i),i}function NF(n,e){let t,i=n.transactionQueueTree_;for(t=En(e);null!==t&&void 0===am(i);)i=BT(i,t),t=En(e=gi(e));return i}function RF(n,e){const t=[];return PF(n,e,t),t.sort((i,r)=>i.order-r.order),t}function PF(n,e,t){const i=am(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);UT(e,r=>{PF(n,r,t)})}function $T(n,e){const t=am(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,NM(e,t.length>0?t:void 0)}UT(e,i=>{$T(n,i)})}function jM(n,e){const t=eC(NF(n,e)),i=BT(n.transactionQueueTree_,e);return function yH(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{HM(n,r)}),HM(n,i),wF(i,r=>{HM(n,r)}),t}function HM(n,e){const t=am(e);if(t){const i=[];let r=[],s=-1;for(let a=0;a<t.length;a++)3===t[a].status||(1===t[a].status?((0,H.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):((0,H.hu)(0===t[a].status,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(Af(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&i.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?NM(e,void 0):t.length=s+1,Xa(n.eventQueue_,eC(e),r);for(let a=0;a<i.length;a++)j_(i[a])}}const zM=function(n,e){const t=zH(n),i=t.namespace;return"firebase.com"===t.domain&&Zc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Zc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new zk(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ti(t.pathString)}},zH=function(n){let e="",t="",i="",r="",s="",a=!0,u="https",h=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(u=n.substring(0,g-1),n=n.substring(g+2));let _=n.indexOf("/");-1===_&&(_=n.length);let b=n.indexOf("?");-1===b&&(b=n.length),e=n.substring(0,Math.min(_,b)),_<b&&(r=function jH(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(_,b)));const I=function HH(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Rs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,b)));g=e.indexOf(":"),g>=0?(a="https"===u||"wss"===u,h=parseInt(e.substring(g+1),10)):g=e.length;const S=e.slice(0,g);if("localhost"===S.toLowerCase())t="localhost";else if(S.split(".").length<=2)t=S;else{const P=e.indexOf(".");i=e.substring(0,P).toLowerCase(),t=e.substring(P+1),s=i}"ns"in I&&(s=I.ns)}return{host:e,port:h,domain:t,subdomain:i,secure:a,scheme:u,pathString:r,namespace:s}};class OF{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,H.Pz)(this.snapshot.exportVal())}}class LF{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class FF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,H.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class VF{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new H.BH;return RH(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Ja("OnDisconnect.remove",this._path);const e=new H.BH;return kF(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Ja("OnDisconnect.set",this._path),Qc("OnDisconnect.set",e,this._path,!1);const t=new H.BH;return kF(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Ja("OnDisconnect.setWithPriority",this._path),Qc("OnDisconnect.setWithPriority",e,this._path,!1),OM("OnDisconnect.setWithPriority",t,!1);const i=new H.BH;return function PH(n,e,t,i,r){const s=Ji(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(a,u)=>{"ok"===a&&q_(n.onDisconnect_,e,s),Sf(0,r,a,u)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Ja("OnDisconnect.update",this._path),xF("OnDisconnect.update",e,this._path,!1);const t=new H.BH;return function OH(n,e,t,i){if((0,H.xb)(t))return as("onDisconnect().update() called with empty data.  Don't do anything."),void Sf(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&ls(t,(a,u)=>{const h=Ji(u);q_(n.onDisconnect_,Ui(e,a),h)}),Sf(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Po{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return In(this._path)?null:Kk(this._path)}get ref(){return new el(this._repo,this._path)}get _queryIdentifier(){const e=zL(this._queryParams),t=Uk(e);return"{}"===t?"default":t}get _queryObject(){return zL(this._queryParams)}isEqual(e){if(!((e=(0,H.m9)(e))instanceof Po))return!1;const t=this._repo===e._repo,i=Yk(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Nj(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function GT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function kf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Yc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==_d)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Kc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===xi){if(null!=e&&!tC(e)||null!=t&&!tC(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,H.hu)(n.getIndex()instanceof tM||n.getIndex()===nM,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class el extends Po{constructor(e,t){super(e,t,new CT,!1)}get parent(){const e=DL(this._path);return null===e?null:new el(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class lm{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ti(e),i=cm(this.ref,e);return new lm(this._node.getChild(t),i,xi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new lm(r,cm(this.ref,i),xi)))}hasChild(e){const t=new ti(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function BF(n,e){return(n=(0,H.m9)(n))._checkNotDeleted("ref"),void 0!==e?cm(n._root,e):n._root}function UF(n,e){(n=(0,H.m9)(n))._checkNotDeleted("refFromURL");const t=zM(e,n._repo.repoInfo_.nodeAdmin);EF("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Zc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),BF(n,t.path.toString())}function cm(n,e){return null===En((n=(0,H.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rC("child","path",t,!1)):rC("child","path",e,!1),new el(n._repo,Ui(n._path,e));var t}function WM(n,e){n=(0,H.m9)(n),Ja("set",n._path),Qc("set",e,n._path,!1);const t=new H.BH;return VM(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function ZH(n,e){xF("update",e,n._path,!1);const t=new H.BH;return function MH(n,e,t,i){Q_(n,"update",{path:e.toString(),value:t});let r=!0;const s=sC(n),a={};if(ls(t,(u,h)=>{r=!1,a[u]=vF(Ui(e,u),Ji(h),n.serverSyncTree_,s)}),r)as("update() called with empty data.  Don't do anything."),Sf(0,i,"ok",void 0);else{const u=zT(n),h=function nH(n,e,t,i){!function v4(n,e,t,i){(0,H.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=fM(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ei.fromObject(t);return Y_(n,new Z_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,a,u);HT(n.eventQueue_,h),n.server_.merge(e.toString(),t,(g,_)=>{const b="ok"===g;b||Rs("update at "+e+" failed: "+g);const I=Af(n.serverSyncTree_,u,!b),S=I.length>0?J_(n,e):e;Xa(n.eventQueue_,S,I),Sf(0,i,g,_)}),ls(t,g=>{const _=jM(n,Ui(e,g));J_(n,_)}),Xa(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function KH(n){return function kH(n,e){const t=function lH(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(g,_)=>{const b=ao(g,t);i=i||Tf(_,b)});let r=n.syncPointTree_.get(t);r?i=i||Tf(r,Qn()):(r=new lF,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,a=s?new Ef(i,!0,!1):null;return function W4(n){return AT(n.viewCache_)}(cF(r,e,ST(n.pendingWriteTree_,e._path),s?a.getNode():mn.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Ji(i).withIndex(e._queryParams.getIndex()),s=Jw(n.serverSyncTree_,e._path,r);return LM(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(Q_(n,"get for query "+(0,H.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,H.m9)(n))._repo,n).then(e=>new lm(e,new el(n._repo,n._path),n._queryParams.getIndex()))}class ZT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new OF("value",this,new lm(e.snapshotNode,new el(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LF(this,e,t):null}matches(e){return e instanceof ZT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class KT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new LF(this,e,t):null}createEvent(e,t){(0,H.hu)(null!=e.childName,"Child events should have a childName.");const i=cm(new el(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new OF(e.type,this,new lm(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof KT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function oC(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const h=t,g=(_,b)=>{BM(n._repo,n,u),h(_,b)};g.userCallback=t.userCallback,g.context=t.context,t=g}const a=new FF(t,s||void 0),u="value"===e?new ZT(a):new KT(e,a);return function LH(n,e,t){let i;i=".info"===En(e._path)?pF(n.infoSyncTree_,e,t):pF(n.serverSyncTree_,e,t),LM(n.eventQueue_,e._path,i)}(n._repo,n,u),()=>BM(n._repo,n,u)}function $M(n,e,t,i){return oC(n,"value",e,t,i)}function jF(n,e,t,i){return oC(n,"child_added",e,t,i)}function HF(n,e,t,i){return oC(n,"child_changed",e,t,i)}function zF(n,e,t,i){return oC(n,"child_moved",e,t,i)}function WF(n,e,t,i){return oC(n,"child_removed",e,t,i)}function $F(n,e,t){let i=null;const r=t?new FF(t):null;"value"===e?i=new ZT(r):e&&(i=new KT(e,r)),BM(n._repo,n,i)}class Gl{}class GF extends Gl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qc("endAt",this._value,e._path,!0);const t=oM(e._queryParams,this._value,this._key);if(qT(t),kf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(e._repo,e._path,t,e._orderByCalled)}}class QH extends Gl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qc("endBefore",this._value,e._path,!1);const t=function o4(n,e,t){let i,r;return n.index_===Yc?("string"==typeof e&&(e=UL(e)),r=oM(n,e,t)):(i=null==t?_d:UL(t),r=oM(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(qT(t),kf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Po(e._repo,e._path,t,e._orderByCalled)}}class qF extends Gl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qc("startAt",this._value,e._path,!0);const t=sM(e._queryParams,this._value,this._key);if(qT(t),kf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Po(e._repo,e._path,t,e._orderByCalled)}}class e8 extends Gl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Qc("startAfter",this._value,e._path,!1);const t=function s4(n,e,t){let i;if(n.index_===Yc)"string"==typeof e&&(e=BL(e)),i=sM(n,e,t);else{let r;r=null==t?Kc:BL(t),i=sM(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(qT(t),kf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Po(e._repo,e._path,t,e._orderByCalled)}}class n8 extends Gl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(e._repo,e._path,function i4(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class r8 extends Gl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Po(e._repo,e._path,function r4(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class o8 extends Gl{constructor(e){super(),this._path=e}_apply(e){GT(e,"orderByChild");const t=new ti(this._path);if(In(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new tM(t),r=xT(e._queryParams,i);return kf(r),new Po(e._repo,e._path,r,!0)}}class l8 extends Gl{_apply(e){GT(e,"orderByKey");const t=xT(e._queryParams,Yc);return kf(t),new Po(e._repo,e._path,t,!0)}}class u8 extends Gl{_apply(e){GT(e,"orderByPriority");const t=xT(e._queryParams,xi);return kf(t),new Po(e._repo,e._path,t,!0)}}class h8 extends Gl{_apply(e){GT(e,"orderByValue");const t=xT(e._queryParams,nM);return kf(t),new Po(e._repo,e._path,t,!0)}}class p8 extends Gl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Qc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GF(this._value,this._key)._apply(new qF(this._value,this._key)._apply(e))}}function ql(n,...e){let t=(0,H.m9)(n);for(const i of e)t=i._apply(t);return t}(function Z4(n){(0,H.hu)(!RT,"__referenceConstructor has already been defined"),RT=n})(el),function X4(n){(0,H.hu)(!OT,"__referenceConstructor has already been defined"),OT=n}(el);const GM={};function KF(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Zc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),as("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let h,g,a=zM(s,r),u=a.repoInfo;"undefined"!=typeof process&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(h=!0,s=`http://${g}?ns=${u.namespace}`,a=zM(s,r),u=a.repoInfo):h=!a.repoInfo.secure;const _=r&&h?new Uw(Uw.OWNER):new aj(n.name,n.options,e);EF("Invalid Firebase Database URL",a),In(a.path)||Zc("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function v8(n,e,t,i){let r=GM[e.name];r||(r={},GM[e.name]=r);let s=r[n.toURLString()];return s&&Zc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new DH(n,false,t,i),r[n.toURLString()]=s,s}(u,n,_,new oj(n.name,t));return new w8(b,n)}class w8{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function AH(n,e,t){if(n.stats_=Gk(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ET(n.repoInfo_,(i,r,s,a)=>{AF(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>SF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,H.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new im(n.repoInfo_,e,(i,r,s,a)=>{AF(n,i,r,s,a)},i=>{SF(n,i)},i=>{!function SH(n,e){ls(e,(t,i)=>{FM(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function uj(n,e){const t=n.toString();return $k[t]||($k[t]=e()),$k[t]}(n.repoInfo_,()=>new h4(n.stats_,n.server_)),n.infoData_=new a4,n.infoSyncTree_=new fF({startListening:(i,r,s,a)=>{let u=[];const h=n.infoData_.getNode(i._path);return h.isEmpty()||(u=Jw(n.infoSyncTree_,i._path,h),setTimeout(()=>{a("ok")},0)),u},stopListening:()=>{}}),FM(n,"connected",!1),n.serverSyncTree_=new fF({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(u,h)=>{const g=a(u,h);Xa(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new el(this._repo,Qn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function _8(n,e){const t=GM[e];(!t||t[n.key]!==n)&&Zc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),MF(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Zc("Cannot call "+e+" on a deleted database.")}}function YF(){gL.IS_TRANSPORT_INITIALIZED&&Rs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function C8(){YF(),Cf.forceDisallow()}function x8(){YF(),H_.forceDisallow(),Cf.forceAllow()}function D8(n,e){KO(n,e)}const S8={".sv":"timestamp"};class N8{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}im.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},im.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function A8(n){WO(la.SDK_VERSION),(0,la._registerComponent)(new Rl.wA("database",(e,{instanceIdentifier:t})=>KF(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,la.registerVersion)(HO,"0.13.0",n),(0,la.registerVersion)(HO,"0.13.0","esm2017")}();const L8=new ca.Yd("@firebase/database-compat"),QF=function(n){L8.warn("FIREBASE WARNING: "+n)};class B8{constructor(e){this._delegate=e}cancel(e){(0,H.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,H.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,H.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,H.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,H.Dv)("OnDisconnect.set",1,2,arguments.length),(0,H.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,H.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,H.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,QF("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,H.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class U8{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,H.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Mf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,H.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,H.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,H.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,H.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,H.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rC("DataSnapshot.child","path",e,!1),new Mf(this._database,this._delegate.child(e))}hasChild(e){return(0,H.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rC("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,H.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,H.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,H.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Mf(this._database,t)))}hasChildren(){return(0,H.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,H.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,H.Dv)("DataSnapshot.ref",0,0,arguments.length),new _a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class _s{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,H.Dv)("Query.on",2,4,arguments.length),(0,H.Wj)("Query.on","callback",t,!1);const a=_s.getCancelAndContextArgs_("Query.on",i,r),u=(g,_)=>{t.call(a.context,new Mf(this.database,g),_)};u.userCallback=t,u.context=a.context;const h=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(e){case"value":return $M(this._delegate,u,h),t;case"child_added":return jF(this._delegate,u,h),t;case"child_removed":return WF(this._delegate,u,h),t;case"child_changed":return HF(this._delegate,u,h),t;case"child_moved":return zF(this._delegate,u,h),t;default:throw new Error((0,H.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,H.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,H.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,H.Wj)("Query.off","callback",t,!0),(0,H.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,$F(this._delegate,e,r)}else $F(this._delegate,e)}get(){return KH(this._delegate).then(e=>new Mf(this.database,e))}once(e,t,i,r){(0,H.Dv)("Query.once",1,4,arguments.length),(0,H.Wj)("Query.once","callback",t,!0);const s=_s.getCancelAndContextArgs_("Query.once",i,r),a=new H.BH,u=(g,_)=>{const b=new Mf(this.database,g);t&&t.call(s.context,b,_),a.resolve(b)};u.userCallback=t,u.context=s.context;const h=g=>{s.cancel&&s.cancel.call(s.context,g),a.reject(g)};switch(e){case"value":$M(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":jF(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":WF(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":HF(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":zF(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,H.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(e){return(0,H.Dv)("Query.limitToFirst",1,1,arguments.length),new _s(this.database,ql(this._delegate,function i8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new n8(n)}(e)))}limitToLast(e){return(0,H.Dv)("Query.limitToLast",1,1,arguments.length),new _s(this.database,ql(this._delegate,function s8(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new r8(n)}(e)))}orderByChild(e){return(0,H.Dv)("Query.orderByChild",1,1,arguments.length),new _s(this.database,ql(this._delegate,function a8(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rC("orderByChild","path",n,!1),new o8(n)}(e)))}orderByKey(){return(0,H.Dv)("Query.orderByKey",0,0,arguments.length),new _s(this.database,ql(this._delegate,function c8(){return new l8}()))}orderByPriority(){return(0,H.Dv)("Query.orderByPriority",0,0,arguments.length),new _s(this.database,ql(this._delegate,function d8(){return new u8}()))}orderByValue(){return(0,H.Dv)("Query.orderByValue",0,0,arguments.length),new _s(this.database,ql(this._delegate,function f8(){return new h8}()))}startAt(e=null,t){return(0,H.Dv)("Query.startAt",0,2,arguments.length),new _s(this.database,ql(this._delegate,function XH(n=null,e){return iC("startAt","key",e,!0),new qF(n,e)}(e,t)))}startAfter(e=null,t){return(0,H.Dv)("Query.startAfter",0,2,arguments.length),new _s(this.database,ql(this._delegate,function t8(n,e){return iC("startAfter","key",e,!0),new e8(n,e)}(e,t)))}endAt(e=null,t){return(0,H.Dv)("Query.endAt",0,2,arguments.length),new _s(this.database,ql(this._delegate,function YH(n,e){return iC("endAt","key",e,!0),new GF(n,e)}(e,t)))}endBefore(e=null,t){return(0,H.Dv)("Query.endBefore",0,2,arguments.length),new _s(this.database,ql(this._delegate,function JH(n,e){return iC("endBefore","key",e,!0),new QH(n,e)}(e,t)))}equalTo(e,t){return(0,H.Dv)("Query.equalTo",1,2,arguments.length),new _s(this.database,ql(this._delegate,function g8(n,e){return iC("equalTo","key",e,!0),new p8(n,e)}(e,t)))}toString(){return(0,H.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,H.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,H.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof _s))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,H.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,H.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,H.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new _a(this.database,new el(this._delegate._repo,this._delegate._path))}}class _a extends _s{constructor(e,t){super(e,new Po(t._repo,t._path,new CT,!1)),this.database=e,this._delegate=t}getKey(){return(0,H.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,H.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new _a(this.database,cm(this._delegate,e))}getParent(){(0,H.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new _a(this.database,e):null}getRoot(){return(0,H.Dv)("Reference.root",0,0,arguments.length),new _a(this.database,this._delegate.root)}set(e,t){(0,H.Dv)("Reference.set",1,2,arguments.length),(0,H.Wj)("Reference.set","onComplete",t,!0);const i=WM(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,H.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,QF("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ja("Reference.update",this._delegate._path),(0,H.Wj)("Reference.update","onComplete",t,!0);const i=ZH(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,H.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,H.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function qH(n,e,t){if(Ja("setWithPriority",n._path),Qc("setWithPriority",e,n._path,!1),OM("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new H.BH;return VM(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,H.Dv)("Reference.remove",0,1,arguments.length),(0,H.Wj)("Reference.remove","onComplete",e,!0);const t=function $H(n){return Ja("remove",n._path),WM(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,H.Dv)("Reference.transaction",1,3,arguments.length),(0,H.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,H.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,H.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function R8(n,e,t){var i;if(n=(0,H.m9)(n),Ja("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new H.BH,u=$M(n,()=>{});return function VH(n,e,t,i,r,s){Q_(n,"transaction on "+e);const a={path:e,update:t,onComplete:i,status:null,order:GO(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=UM(n,e,void 0);a.currentInputSnapshot=u;const h=a.update(u.val());if(void 0===h)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{nC("transaction failed: Data returned ",h,a.path),a.status=0;const g=BT(n.transactionQueueTree_,e),_=am(g)||[];let b;_.push(a),NM(g,_),"object"==typeof h&&null!==h&&(0,H.r3)(h,".priority")?(b=(0,H.DV)(h,".priority"),(0,H.hu)(tC(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(LT(n.serverSyncTree_,e)||mn.EMPTY_NODE).getPriority().val();const I=sC(n),S=Ji(h,b),P=SM(S,u,I);a.currentOutputSnapshotRaw=S,a.currentOutputSnapshotResolved=P,a.currentWriteId=zT(n);const U=CM(n.serverSyncTree_,e,P,a.currentWriteId,a.applyLocally);Xa(n.eventQueue_,e,U),WT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(h,g,_)=>{let b=null;h?s.reject(h):(b=new lm(_,new el(n._repo,n._path),xi),s.resolve(new N8(g,b)))},u,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new U8(s.committed,new Mf(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,H.Dv)("Reference.setPriority",1,2,arguments.length),(0,H.Wj)("Reference.setPriority","onComplete",t,!0);const i=function GH(n,e){n=(0,H.m9)(n),Ja("setPriority",n._path),OM("setPriority",e,!1);const t=new H.BH;return VM(n._repo,Ui(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,H.Dv)("Reference.push",0,2,arguments.length),(0,H.Wj)("Reference.push","onComplete",t,!0);const i=function WH(n,e){n=(0,H.m9)(n),Ja("push",n._path),Qc("push",e,n._path,!0);const t=DF(n._repo),i=Xj(t),r=cm(n,i),s=cm(n,i);let a;return a=null!=e?WM(s,e).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,e),r=i.then(a=>new _a(this.database,a));t&&r.then(()=>t(null),a=>t(a));const s=new _a(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Ja("Reference.onDisconnect",this._delegate._path),new B8(new VF(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class aC{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:C8,forceLongPolling:x8}}useEmulator(e,t,i={}){!function E8(n,e,t,i={}){(n=(0,H.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Zc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Zc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uw(Uw.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,H.Sg)(i.mockUserToken,n.app.options.projectId);s=new Uw(a)}!function y8(n,e,t,i){n.repoInfo_=new zk(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,H.Dv)("database.ref",0,1,arguments.length),e instanceof _a){const t=UF(this._delegate,e.toString());return new _a(this,t)}{const t=BF(this._delegate,e);return new _a(this,t)}}refFromURL(e){(0,H.Dv)("database.refFromURL",1,1,arguments.length);const i=UF(this._delegate,e);return new _a(this,i)}goOffline(){return(0,H.Dv)("database.goOffline",0,0,arguments.length),function I8(n){(n=(0,H.m9)(n))._checkNotDeleted("goOffline"),MF(n._repo)}(this._delegate)}goOnline(){return(0,H.Dv)("database.goOnline",0,0,arguments.length),function T8(n){(n=(0,H.m9)(n))._checkNotDeleted("goOnline"),function FH(n){n.persistentConnection_&&n.persistentConnection_.resume(TF)}(n._repo)}(this._delegate)}}aC.ServerValue={TIMESTAMP:function k8(){return S8}(),increment:n=>function M8(n){return{".sv":{increment:n}}}(n)};var H8=Object.freeze({__proto__:null,initStandalone:function j8({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){WO(t);const a=new Rl.zt("auth-internal",new Rl.H0("database-standalone"));return a.setComponent(new Rl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new aC(KF(n,a,void 0,e,s),n),namespace:r}}});const z8=aC.ServerValue;function JF(n){return null==n}function XF(n){return"function"==typeof n.set}function e2(n,e){return XF(e)?e:n.ref(e)}function t2(n,e){if(function $8(n){return"string"==typeof n}(n))return e.stringCase();if(XF(n))return e.firebaseCase();if(function G8(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function lC(n,e,t="on",i=jD.z){return new Pi.y(r=>{let s=null;return s=n[t](e,(a,u)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:u})}),"once"===t&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,Pt.U)(r=>{const{snapshot:s,prevKey:a}=r;let u=null;return s.exists()&&(u=s.key),{type:e,payload:s,prevKey:a,key:u}}),(0,Wx.B)())}function n2(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function K8(n,e){const{payload:t,prevKey:i,key:r}=e,s=n2(n,r),a=function Z8(n,e){if(JF(e))return 0;{const t=n2(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let u=null;e.payload.forEach(h=>{const g={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,g],!1})}return n;case"child_added":if(s>-1){const u=n[s-1];(u&&u.key||null)!==i&&(n=n.filter(h=>h.payload.key!==t.key)).splice(a,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(a,0,e)}return n;case"child_removed":return n.filter(u=>u.payload.key!==t.key);case"child_changed":return n.map(u=>u.payload.key===r?e:u);case"child_moved":if(s>-1){const u=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}function i2(n){return(JF(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function r2(n,e,t){return function q8(n,e,t){return lC(n,"value","once",t).pipe(zr(i=>{const r=[qt(i)];return e.forEach(s=>r.push(lC(n,s,"on",t))),(0,uv.T)(...r).pipe(gs(K8,[]))}),vh())}(n,e=i2(e),t)}function s2(n,e,t){const i=(e=i2(e)).map(r=>lC(n,r,"on",t));return(0,uv.T)(...i)}function o2(n,e){return function(i,r){return t2(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function X8(n){return function(t){return t?t2(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function a2(n,e){return function(){return lC(n,"value","on",e)}}!function W8(n){n.INTERNAL.registerComponent(new Rl.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new aC(r,i)},"PUBLIC").setServiceProps({Reference:_a,Query:_s,Database:aC,DataSnapshot:Mf,enableLogging:D8,INTERNAL:H8,ServerValue:z8}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(zD.Z);const nz=new d.OlP("angularfire2.realtimeDatabaseURL"),iz=new d.OlP("angularfire2.database.use-emulator");let l2=(()=>{class n{constructor(t,i,r,s,a,u,h,g,_,b,I,S,P,U,J){this.schedulers=u;const le=h,Te=(0,Hr.on)(t,a,i);g&&Kx(Te,a,_,I,S,P,b,U),this.database=(0,Hr.cc)(`${Te.name}.database.${r}`,"AngularFireDatabase",Te.name,()=>{const He=a.runOutsideAngular(()=>Te.database(r||void 0));return le&&He.useEmulator(...le),He},[le])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>e2(this.database,t));let s=r;return i&&(s=i(r)),function ez(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:o2(i,"update"),set:o2(i,"set"),push:r=>i.push(r),remove:X8(i),snapshotChanges:r=>r2(n,r,t).pipe(zt.iC),stateChanges:r=>s2(n,r,t).pipe(zt.iC),auditTrail:r=>function Y8(n,e,t){return function J8(n,e,t){return function Q8(n,e){return lC(n,"value","on",e).pipe((0,Pt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function Z5(...n){const e=(0,Ks.jO)(n);return(0,ns.e)((t,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),u=!1;for(let h=0;h<r;h++)(0,Br.Xf)(n[h]).subscribe((0,Gi.x)(i,g=>{s[h]=g,!u&&!a[h]&&(a[h]=!0,(u=a.every(Ou.y))&&(a=null))},q5.Z));t.subscribe((0,Gi.x)(i,h=>{if(u){const g=[h,...s];i.next(e?e(...g):g)}}))})}(e),(0,Pt.U)(([r,s])=>{const a=r.lastKeyToLoad,u=s.map(h=>h.key);return{actions:s,lastKeyToLoad:a,loadedKeys:u}}),function K5(n){return(0,ns.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Gi.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Pt.U)(r=>r.actions))}(n,s2(n,e).pipe(gs((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(zt.iC),valueChanges:(r,s)=>r2(n,r,t).pipe((0,Pt.U)(u=>u.map(h=>s&&s.idField?Object.assign(Object.assign({},h.payload.val()),{[s.idField]:h.key}):h.payload.val())),zt.iC)}}(s,this)}object(t){return function tz(n,e){return{query:n,snapshotChanges:()=>a2(n,e.schedulers.outsideAngular)().pipe(zt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>a2(n,e.schedulers.outsideAngular)().pipe(zt.iC,(0,Pt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>e2(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hr.Dh),d.LFG(Hr.xv,8),d.LFG(nz,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(zt.HU),d.LFG(iz,8),d.LFG(pv,8),d.LFG(_h,8),d.LFG(Ap,8),d.LFG(fv,8),d.LFG(Sp,8),d.LFG(kp,8),d.LFG(_y,8),d.LFG(yh,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rz=(()=>{class n{constructor(){Ba.Z.registerVersion("angularfire",zt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[l2]}),n})();class tl extends fa.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var sz=R(9672);function c2(n,e,t){n?(0,sz.f)(t,n,e):e()}function YT(n,e){const t=(0,hv.m)(n)?n:()=>n,i=r=>r.error(t());return new Pi.y(e?r=>e.schedule(i,0,r):i)}function qM(n){return new Pi.y(e=>{(0,Br.Xf)(n()).subscribe(e)})}var X_=R(515),u2=R(727);function d2(){return(0,ns.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Gi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class lz extends Pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ns.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new u2.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=u2.w0.EMPTY)}return e}refCount(){return d2()(this)}}function Nf(n){return(0,ns.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Gi.x)(t,void 0,void 0,a=>{s=(0,Br.Xf)(n(a,Nf(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Ps=R(5577);function e0(n,e){return(0,hv.m)(e)?(0,Ps.z)(n,e,1):(0,Ps.z)(n,1)}function ZM(n){return n<=0?()=>X_.E:(0,ns.e)((e,t)=>{let i=[];e.subscribe((0,Gi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var Oo=R(8505);class bd{constructor(e,t){this.id=e,this.url=t}}class KM extends bd{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cC extends bd{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class h2 extends bd{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dz extends bd{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hz extends bd{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fz extends bd{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pz extends bd{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gz extends bd{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mz extends bd{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f2{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p2{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yz{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _z{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vz{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bz{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g2{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const An="primary";class wz{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function t0(n){return new wz(n)}const m2="ngNavigationCancelingError";function YM(n){const e=Error("NavigationCancelingError: "+n);return e[m2]=!0,e}function xz(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],u=n[s];if(a.startsWith(":"))r[a.substring(1)]=u;else if(a!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Jc(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!y2(n[r],e[r]))return!1;return!0}function y2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function _2(n){return Array.prototype.concat.apply([],n)}function v2(n){return n.length>0?n[n.length-1]:null}function vs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xc(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):qt(n)}const Tz={exact:function C2(n,e,t){if(!dm(n.segments,e.segments)||!QT(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!C2(n.children[i],e.children[i],t))return!1;return!0},subset:x2},b2={exact:function Dz(n,e){return Jc(n,e)},subset:function Az(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>y2(n[t],e[t]))},ignored:()=>!0};function w2(n,e,t){return Tz[t.paths](n.root,e.root,t.matrixParams)&&b2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function x2(n,e,t){return E2(n,e,e.segments,t)}function E2(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!dm(r,t)||e.hasChildren()||!QT(r,t,i))}if(n.segments.length===t.length){if(!dm(n.segments,t)||!QT(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!x2(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(dm(n.segments,r)&&QT(n.segments,r,i)&&n.children[An])&&E2(n.children[An],e,s,i)}}function QT(n,e,t){return e.every((i,r)=>b2[t](n[r].parameters,i.parameters))}class um{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=t0(this.queryParams)),this._queryParamMap}toString(){return Mz.serialize(this)}}class Pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,vs(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return JT(this)}}class uC{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=t0(this.parameters)),this._parameterMap}toString(){return S2(this)}}function dm(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class I2{}class T2{parse(e){const t=new Uz(e);return new um(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dC(e.root,!0)}`,i=function Pz(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${XT(t)}=${XT(r)}`).join("&"):`${XT(t)}=${XT(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function Nz(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const Mz=new T2;function JT(n){return n.segments.map(e=>S2(e)).join("/")}function dC(n,e){if(!n.hasChildren())return JT(n);if(e){const t=n.children[An]?dC(n.children[An],!1):"",i=[];return vs(n.children,(r,s)=>{s!==An&&i.push(`${s}:${dC(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function kz(n,e){let t=[];return vs(n.children,(i,r)=>{r===An&&(t=t.concat(e(i,r)))}),vs(n.children,(i,r)=>{r!==An&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===An?[dC(n.children[An],!1)]:[`${r}:${dC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${JT(n)}/${t[0]}`:`${JT(n)}/(${t.join("//")})`}}function D2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function XT(n){return D2(n).replace(/%3B/gi,";")}function QM(n){return D2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function e1(n){return decodeURIComponent(n)}function A2(n){return e1(n.replace(/\+/g,"%20"))}function S2(n){return`${QM(n.path)}${function Rz(n){return Object.keys(n).map(e=>`;${QM(e)}=${QM(n[e])}`).join("")}(n.parameters)}`}const Oz=/^[^\/()?;=#]+/;function t1(n){const e=n.match(Oz);return e?e[0]:""}const Lz=/^[^=?&#]+/,Vz=/^[^&#]+/;class Uz{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pn([],{}):new Pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[An]=new Pn(e,t)),i}parseSegment(){const e=t1(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new uC(e1(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=t1(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=t1(this.remaining);r&&(i=r,this.capture(i))}e[e1(t)]=e1(i)}parseQueryParam(e){const t=function Fz(n){const e=n.match(Lz);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function Bz(n){const e=n.match(Vz);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=A2(t),s=A2(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=t1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=An);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[An]:new Pn([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class k2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=JM(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=JM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=XM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return XM(e,this._root).map(t=>t.value)}}function JM(n,e){if(n===e.value)return e;for(const t of e.children){const i=JM(n,t);if(i)return i}return null}function XM(n,e){if(n===e.value)return[e];for(const t of e.children){const i=XM(n,t);if(i.length)return i.unshift(e),i}return[]}class wd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function n0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class M2 extends k2{constructor(e,t){super(e),this.snapshot=t,eN(this,e)}toString(){return this.snapshot.toString()}}function N2(n,e){const t=function jz(n,e){const a=new n1([],{},{},"",{},An,e,null,n.root,-1,{});return new P2("",new wd(a,[]))}(n,e),i=new tl([new uC("",{})]),r=new tl({}),s=new tl({}),a=new tl({}),u=new tl(""),h=new r0(i,r,a,u,s,An,e,t.root);return h.snapshot=t.root,new M2(new wd(h,[]),t)}class r0{constructor(e,t,i,r,s,a,u,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this._futureSnapshot=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>t0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>t0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function R2(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Hz(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class n1{constructor(e,t,i,r,s,a,u,h,g,_,b){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=u,this.routeConfig=h,this._urlSegment=g,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=t0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=t0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class P2 extends k2{constructor(e,t){super(t),this.url=e,eN(this,t)}toString(){return O2(this._root)}}function eN(n,e){e.value._routerState=n,e.children.forEach(t=>eN(n,t))}function O2(n){const e=n.children.length>0?` { ${n.children.map(O2).join(", ")} } `:"";return`${n.value}${e}`}function tN(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Jc(e.params,t.params)||n.params.next(t.params),function Ez(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Jc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nN(n,e){const t=Jc(n.params,e.params)&&function Sz(n,e){return dm(n,e)&&n.every((t,i)=>Jc(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nN(n.parent,e.parent))}function hC(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Wz(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hC(n,i,r);return hC(n,i)})}(n,e,t);return new wd(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(u=>hC(n,u)),a}}const i=function $z(n){return new r0(new tl(n.url),new tl(n.params),new tl(n.queryParams),new tl(n.fragment),new tl(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>hC(n,s));return new wd(i,r)}}function i1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fC(n){return"object"==typeof n&&null!=n&&n.outlets}function iN(n,e,t,i,r){let s={};if(i&&vs(i,(u,h)=>{s[h]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),n===e)return new um(t,s,r);const a=L2(n,e,t);return new um(a,s,r)}function L2(n,e,t){const i={};return vs(n.children,(r,s)=>{i[s]=r===e?t:L2(r,e,t)}),new Pn(n.segments,i)}class F2{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&i1(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(fC);if(r&&r!==v2(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rN{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function V2(n,e,t){if(n||(n=new Pn([],{})),0===n.segments.length&&n.hasChildren())return r1(n,e,t);const i=function Qz(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],u=t[i];if(fC(u))break;const h=`${u}`,g=i<t.length-1?t[i+1]:null;if(r>0&&void 0===h)break;if(h&&g&&"object"==typeof g&&void 0===g.outlets){if(!U2(h,g,a))return s;i+=2}else{if(!U2(h,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Pn(n.segments.slice(0,i.pathIndex),{});return s.children[An]=new Pn(n.segments.slice(i.pathIndex),n.children),r1(s,0,r)}return i.match&&0===r.length?new Pn(n.segments,{}):i.match&&!n.hasChildren()?sN(n,e,t):i.match?r1(n,0,r):sN(n,e,t)}function r1(n,e,t){if(0===t.length)return new Pn(n.segments,{});{const i=function Yz(n){return fC(n[0])?n[0].outlets:{[An]:n}}(t),r={};return vs(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=V2(n.children[a],e,s))}),vs(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new Pn(n.segments,r)}}function sN(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(fC(s)){const h=Jz(s.outlets);return new Pn(i,h)}if(0===r&&i1(t[0])){i.push(new uC(n.segments[e].path,B2(t[0]))),r++;continue}const a=fC(s)?s.outlets[An]:`${s}`,u=r<t.length-1?t[r+1]:null;a&&u&&i1(u)?(i.push(new uC(a,B2(u))),r+=2):(i.push(new uC(a,{})),r++)}return new Pn(i,{})}function Jz(n){const e={};return vs(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=sN(new Pn([],{}),0,t))}),e}function B2(n){const e={};return vs(n,(t,i)=>e[i]=`${t}`),e}function U2(n,e,t){return n==t.path&&Jc(e,t.parameters)}class eW{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),tN(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=n0(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),vs(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=n0(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:u})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=n0(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=n0(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new bz(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _z(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(tN(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(u.contexts),a.attachRef=u.componentRef,a.route=u.route.value,a.outlet&&a.outlet.attach(u.componentRef,u.route.value),tN(u.route.value),this.activateChildRoutes(e,null,a.children)}else{const u=function tW(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),h=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=h,a.outlet&&a.outlet.activateWith(r,h),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class oN{constructor(e,t){this.routes=e,this.module=t}}function Rf(n){return"function"==typeof n}function hm(n){return n instanceof um}const pC=Symbol("INITIAL_VALUE");function gC(){return zr(n=>function oz(...n){const e=(0,Ks.yG)(n),t=(0,Ks.jO)(n),{args:i,keys:r}=cc(n);if(0===i.length)return(0,Cn.D)([],e);const s=new Pi.y(function az(n,e,t=Ou.y){return i=>{c2(e,()=>{const{length:r}=n,s=new Array(r);let a=r,u=r;for(let h=0;h<r;h++)c2(e,()=>{const g=(0,Cn.D)(n[h],e);let _=!1;g.subscribe((0,Gi.x)(i,b=>{s[h]=b,_||(_=!0,u--),u||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>du(r,a):Ou.y));return t?s.pipe(Dl(t)):s}(n.map(e=>e.pipe((0,Tp.q)(1),Mp(pC)))).pipe(gs((e,t)=>{let i=!1;return t.reduce((r,s,a)=>r!==pC?r:(s===pC&&(i=!0),i||!1!==s&&a!==t.length-1&&!hm(s)?r:s),e)},pC),ir(e=>e!==pC),(0,Pt.U)(e=>hm(e)?e:!0===e),(0,Tp.q)(1)))}class aW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mC,this.attachRef=null}}class mC{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new aW,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let aN=(()=>{class n{constructor(t,i,r,s,a){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=s||An,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const a=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),u=this.parentContexts.getOrCreateContext(this.name).children,h=new lW(t,u,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,h),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mC),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class lW{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===r0?this.route:e===mC?this.childContexts:this.parent.get(e,t)}}let j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&d._UZ(0,"router-outlet")},directives:[aN],encapsulation:2}),n})();function H2(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];cW(i,uW(e,i))}}function cW(n,e){n.children&&H2(n.children,e)}function uW(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function lN(n){const e=n.children&&n.children.map(lN),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=j2),t}function nl(n){return n.outlet||An}function z2(n,e){const t=n.filter(i=>nl(i)===e);return t.push(...n.filter(i=>nl(i)!==e)),t}const W2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s1(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},W2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||xz)(t,n,e);if(!s)return Object.assign({},W2);const a={};vs(s.posParams,(h,g)=>{a[g]=h.path});const u=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:u,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function o1(n,e,t,i,r="corrected"){if(t.length>0&&function fW(n,e,t){return t.some(i=>a1(n,e,i)&&nl(i)!==An)}(n,t,i)){const a=new Pn(e,function hW(n,e,t,i){const r={};r[An]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&nl(s)!==An){const a=new Pn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[nl(s)]=a}return r}(n,e,i,new Pn(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function pW(n,e,t){return t.some(i=>a1(n,e,i))}(n,t,i)){const a=new Pn(n.segments,function dW(n,e,t,i,r,s){const a={};for(const u of i)if(a1(n,t,u)&&!r[nl(u)]){const h=new Pn([],{});h._sourceSegment=n,h._segmentIndexShift="legacy"===s?n.segments.length:e.length,a[nl(u)]=h}return Object.assign(Object.assign({},r),a)}(n,e,t,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const s=new Pn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function a1(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $2(n,e,t,i){return!!(nl(n)===i||i!==An&&a1(e,t,n))&&("**"===n.path||s1(e,n,t).matched)}function G2(n,e,t){return 0===e.length&&!n.children[t]}class l1{constructor(e){this.segmentGroup=e||null}}class q2{constructor(e){this.urlTree=e}}function yC(n){return YT(new l1(n))}function Z2(n){return YT(new q2(n))}function gW(n){return YT(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class _W{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=o1(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,An).pipe((0,Pt.U)(s=>this.createUrlTree(cN(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nf(s=>{if(s instanceof q2)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof l1?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,An).pipe((0,Pt.U)(r=>this.createUrlTree(cN(r),e.queryParams,e.fragment))).pipe(Nf(r=>{throw r instanceof l1?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Pn([],{[An]:e}):e;return new um(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,Pt.U)(s=>new Pn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Cn.D)(r).pipe(e0(s=>{const a=i.children[s],u=z2(t,s);return this.expandSegmentGroup(e,u,a,s).pipe((0,Pt.U)(h=>({segment:h,outlet:s})))}),gs((s,a)=>(s[a.outlet]=a.segment,s),{}),function cz(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ir((r,s)=>n(r,s,i)):Ou.y,ZM(1),t?Gx(e):qx(()=>new yy))}())}expandSegment(e,t,i,r,s,a){return(0,Cn.D)(i).pipe(e0(u=>this.expandSegmentAgainstRoute(e,t,i,u,r,s,a).pipe(Nf(g=>{if(g instanceof l1)return qt(null);throw g}))),Lu(u=>!!u),Nf((u,h)=>{if(u instanceof yy||"EmptyError"===u.name)return G2(t,r,s)?qt(new Pn([],{})):yC(t);throw u}))}expandSegmentAgainstRoute(e,t,i,r,s,a,u){return $2(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):yC(t):yC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Z2(s):this.lineralizeSegments(i,s).pipe((0,Ps.z)(a=>{const u=new Pn(a,{});return this.expandSegment(e,u,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:u,consumedSegments:h,remainingSegments:g,positionalParamSegments:_}=s1(t,r,s);if(!u)return yC(t);const b=this.applyRedirectCommands(h,r.redirectTo,_);return r.redirectTo.startsWith("/")?Z2(b):this.lineralizeSegments(r,b).pipe((0,Ps.z)(I=>this.expandSegment(e,t,i,I.concat(g),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?qt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,Pt.U)(b=>(i._loadedConfig=b,new Pn(r,{})))):qt(new Pn(r,{}));const{matched:a,consumedSegments:u,remainingSegments:h}=s1(t,i,r);return a?this.getChildConfig(e,i,r).pipe((0,Ps.z)(_=>{const b=_.module,I=_.routes,{segmentGroup:S,slicedSegments:P}=o1(t,u,h,I),U=new Pn(S.segments,S.children);if(0===P.length&&U.hasChildren())return this.expandChildren(b,I,U).pipe((0,Pt.U)(He=>new Pn(u,He)));if(0===I.length&&0===P.length)return qt(new Pn(u,{}));const J=nl(i)===s;return this.expandSegment(b,U,I,P,J?An:s,!0).pipe((0,Pt.U)(Te=>new Pn(u.concat(Te.segments),Te.children)))})):yC(t)}getChildConfig(e,t,i){return t.children?qt(new oN(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?qt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Ps.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,Pt.U)(s=>(t._loadedConfig=s,s))):function mW(n){return YT(YM(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):qt(new oN([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return qt(!0);const s=r.map(a=>{const u=e.get(a);let h;if(function iW(n){return n&&Rf(n.canLoad)}(u))h=u.canLoad(t,i);else{if(!Rf(u))throw new Error("Invalid CanLoad guard");h=u(t,i)}return Xc(h)});return qt(s).pipe(gC(),(0,Oo.b)(a=>{if(!hm(a))return;const u=YM(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw u.url=a,u}),(0,Pt.U)(a=>!0===a))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qt(i);if(r.numberOfChildren>1||!r.children[An])return gW(e.redirectTo);r=r.children[An]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new um(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return vs(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[s]=t[u]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return vs(t.children,(u,h)=>{a[h]=this.createSegmentGroup(e,u,i,r)}),new Pn(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function cN(n){const e={};for(const i of Object.keys(n.children)){const s=cN(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function vW(n){if(1===n.numberOfChildren&&n.children[An]){const e=n.children[An];return new Pn(n.segments.concat(e.segments),e.children)}return n}(new Pn(n.segments,e))}class K2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class c1{constructor(e,t){this.component=e,this.route=t}}function wW(n,e,t){const i=n._root;return _C(i,e?e._root:null,t,[i.value])}function u1(n,e,t){const i=function xW(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function _C(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n0(e);return n.children.forEach(a=>{(function EW(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,u=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const h=function IW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!dm(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dm(n.url,e.url)||!Jc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nN(n,e)||!Jc(n.queryParams,e.queryParams);default:return!nN(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);h?r.canActivateChecks.push(new K2(i)):(s.data=a.data,s._resolvedData=a._resolvedData),_C(n,e,s.component?u?u.children:null:t,i,r),h&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new c1(u.outlet.component,a))}else a&&vC(e,u,r),r.canActivateChecks.push(new K2(i)),_C(n,null,s.component?u?u.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),vs(s,(a,u)=>vC(a,t.getContext(u),r)),r}function vC(n,e,t){const i=n0(n),r=n.value;vs(i,(s,a)=>{vC(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new c1(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class PW{}function Y2(n){return new Pi.y(e=>e.error(n))}class LW{constructor(e,t,i,r,s,a){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const e=o1(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,An);if(null===t)return null;const i=new n1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wd(i,t),s=new P2(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=R2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const a=t.children[s],u=z2(e,s),h=this.processSegmentGroup(u,a,s);if(null===h)return null;i.push(...h)}const r=Q2(i);return function FW(n){n.sort((e,t)=>e.value.outlet===An?-1:t.value.outlet===An?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const a=this.processSegmentAgainstRoute(s,t,i,r);if(null!==a)return a}return G2(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!$2(e,t,i,r))return null;let s,a=[],u=[];if("**"===e.path){const S=i.length>0?v2(i).parameters:{};s=new n1(i,S,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eV(e),nl(e),e.component,e,J2(t),X2(t)+i.length,tV(e))}else{const S=s1(t,e,i);if(!S.matched)return null;a=S.consumedSegments,u=S.remainingSegments,s=new n1(a,S.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eV(e),nl(e),e.component,e,J2(t),X2(t)+a.length,tV(e))}const h=function VW(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:g,slicedSegments:_}=o1(t,a,u,h.filter(S=>void 0===S.redirectTo),this.relativeLinkResolution);if(0===_.length&&g.hasChildren()){const S=this.processChildren(h,g);return null===S?null:[new wd(s,S)]}if(0===h.length&&0===_.length)return[new wd(s,[])];const b=nl(e)===r,I=this.processSegment(h,g,_,b?An:r);return null===I?null:[new wd(s,I)]}}function BW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Q2(n){const e=[],t=new Set;for(const i of n){if(!BW(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Q2(i.children);e.push(new wd(i.value,r))}return e.filter(i=>!t.has(i))}function J2(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function X2(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function eV(n){return n.data||{}}function tV(n){return n.resolve||{}}function nV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uN(n){return zr(e=>{const t=n(e);return t?(0,Cn.D)(t).pipe((0,Pt.U)(()=>e)):qt(e)})}class qW extends class GW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const dN=new d.OlP("ROUTES");class iV{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,Pt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const a=s.create(e);return new oN(_2(a.injector.get(dN,void 0,d.XFs.Self|d.XFs.Optional)).map(lN),a)}),Nf(s=>{throw t._loader$=void 0,s}));return t._loader$=new lz(r,()=>new fa.x).pipe(d2()),t._loader$}loadModuleFactory(e){return Xc(e()).pipe((0,Ps.z)(t=>t instanceof d.YKP?qt(t):(0,Cn.D)(this.compiler.compileModuleAsync(t))))}}class KW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function YW(n){throw n}function QW(n,e,t){return e.parse("/")}function rV(n,e){return qt(null)}const JW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kr=(()=>{class n{constructor(t,i,r,s,a,u,h){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=h,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fa.x,this.errorHandler=YW,this.malformedUriErrorHandler=QW,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rV,afterPreactivation:rV},this.urlHandlingStrategy=new KW,this.routeReuseStrategy=new qW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(d.h0i),this.console=a.get(d.c2e);const b=a.get(d.R0b);this.isNgZoneEnabled=b instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(h),this.currentUrlTree=function Iz(){return new um(new Pn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iV(a,u,I=>this.triggerEvent(new f2(I)),I=>this.triggerEvent(new p2(I))),this.routerState=N2(this.currentUrlTree,this.rootComponentType),this.transitions=new tl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(ir(r=>0!==r.id),(0,Pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),zr(r=>{let s=!1,a=!1;return qt(r).pipe((0,Oo.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.currentRawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zr(u=>{const h=this.browserUrlTree.toString(),g=!this.navigated||u.extractedUrl.toString()!==h||h!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return sV(u.source)&&(this.browserUrlTree=u.extractedUrl),qt(u).pipe(zr(b=>{const I=this.transitions.getValue();return i.next(new KM(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),I!==this.transitions.getValue()?X_.E:Promise.resolve(b)}),function bW(n,e,t,i){return zr(r=>function yW(n,e,t,i,r){return new _W(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,Pt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oo.b)(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function UW(n,e,t,i,r){return(0,Ps.z)(s=>function OW(n,e,t,i,r="emptyOnly",s="legacy"){try{const a=new LW(n,e,t,i,r,s).recognize();return null===a?Y2(new PW):qt(a)}catch(a){return Y2(a)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,Pt.U)(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oo.b)(b=>{if("eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(S,b)}this.browserUrlTree=b.urlAfterRedirects}const I=new hz(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);i.next(I)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:S,source:P,restoredState:U,extras:J}=u,le=new KM(I,this.serializeUrl(S),P,U);i.next(le);const Te=N2(S,this.rootComponentType).snapshot;return qt(Object.assign(Object.assign({},u),{targetSnapshot:Te,urlAfterRedirects:S,extras:Object.assign(Object.assign({},J),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=u.rawUrl,u.resolve(null),X_.E}),uN(u=>{const{targetSnapshot:h,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:I,replaceUrl:S}}=u;return this.hooks.beforePreactivation(h,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!I,replaceUrl:!!S})}),(0,Oo.b)(u=>{const h=new fz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),(0,Pt.U)(u=>Object.assign(Object.assign({},u),{guards:wW(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function TW(n,e){return(0,Ps.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?qt(Object.assign(Object.assign({},t),{guardsResult:!0})):function DW(n,e,t,i){return(0,Cn.D)(n).pipe((0,Ps.z)(r=>function RW(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?qt(s.map(u=>{const h=u1(u,e,r);let g;if(function oW(n){return n&&Rf(n.canDeactivate)}(h))g=Xc(h.canDeactivate(n,e,t,i));else{if(!Rf(h))throw new Error("Invalid CanDeactivate guard");g=Xc(h(n,e,t,i))}return g.pipe(Lu())})).pipe(gC()):qt(!0)}(r.component,r.route,t,e,i)),Lu(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Ps.z)(u=>u&&function nW(n){return"boolean"==typeof n}(u)?function AW(n,e,t,i){return(0,Cn.D)(e).pipe(e0(r=>by(function kW(n,e){return null!==n&&e&&e(new yz(n)),qt(!0)}(r.route.parent,i),function SW(n,e){return null!==n&&e&&e(new vz(n)),qt(!0)}(r.route,i),function NW(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function CW(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>qM(()=>qt(a.guards.map(h=>{const g=u1(h,a.node,t);let _;if(function sW(n){return n&&Rf(n.canActivateChild)}(g))_=Xc(g.canActivateChild(i,n));else{if(!Rf(g))throw new Error("Invalid CanActivateChild guard");_=Xc(g(i,n))}return _.pipe(Lu())})).pipe(gC())));return qt(s).pipe(gC())}(n,r.path,t),function MW(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return qt(!0);const r=i.map(s=>qM(()=>{const a=u1(s,e,t);let u;if(function rW(n){return n&&Rf(n.canActivate)}(a))u=Xc(a.canActivate(e,n));else{if(!Rf(a))throw new Error("Invalid CanActivate guard");u=Xc(a(e,n))}return u.pipe(Lu())}));return qt(r).pipe(gC())}(n,r.route,t))),Lu(r=>!0!==r,!0))}(i,s,n,e):qt(u)),(0,Pt.U)(u=>Object.assign(Object.assign({},t),{guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),(0,Oo.b)(u=>{if(hm(u.guardsResult)){const g=YM(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw g.url=u.guardsResult,g}const h=new pz(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(h)}),ir(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),uN(u=>{if(u.guards.canActivateChecks.length)return qt(u).pipe((0,Oo.b)(h=>{const g=new gz(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),zr(h=>{let g=!1;return qt(h).pipe(function jW(n,e){return(0,Ps.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return qt(t);let s=0;return(0,Cn.D)(r).pipe(e0(a=>function HW(n,e,t,i){return function zW(n,e,t,i){const r=nV(n);if(0===r.length)return qt({});const s={};return(0,Cn.D)(r).pipe((0,Ps.z)(a=>function WW(n,e,t,i){const r=u1(n,e,i);return Xc(r.resolve?r.resolve(e,t):r(e,t))}(n[a],e,t,i).pipe((0,Oo.b)(u=>{s[a]=u}))),ZM(1),(0,Ps.z)(()=>nV(s).length===r.length?qt(s):X_.E))}(n._resolve,n,e,i).pipe((0,Pt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),R2(n,t).resolve),null)))}(a.route,i,n,e)),(0,Oo.b)(()=>s++),ZM(1),(0,Ps.z)(a=>s===r.length?qt(t):X_.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oo.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(h),this.cancelNavigationTransition(h,"At least one route resolver didn't emit any value."))}}))}),(0,Oo.b)(h=>{const g=new mz(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}))}),uN(u=>{const{targetSnapshot:h,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:I,replaceUrl:S}}=u;return this.hooks.afterPreactivation(h,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!I,replaceUrl:!!S})}),(0,Pt.U)(u=>{const h=function zz(n,e,t){const i=hC(n,e._root,t?t._root:void 0);return new M2(i,e)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return Object.assign(Object.assign({},u),{targetRouterState:h})}),(0,Oo.b)(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(i=>(new eW(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),(0,Oo.b)({next(){s=!0},complete(){s=!0}}),function uz(n){return(0,ns.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var u;s||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(u=this.currentNavigation)||void 0===u?void 0:u.id)===r.id&&(this.currentNavigation=null)}),Nf(u=>{if(a=!0,function Cz(n){return n&&n[m2]}(u)){const h=hm(u.url);h||(this.navigated=!0,this.restoreHistory(r,!0));const g=new h2(r.id,this.serializeUrl(r.extractedUrl),u.message);i.next(g),h?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sV(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const h=new dz(r.id,this.serializeUrl(r.extractedUrl),u);i.next(h);try{r.resolve(this.errorHandler(u))}catch(g){r.reject(g)}}return X_.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},a=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(a){const h=Object.assign({},a);delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(s.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){H2(t),this.config=t.map(lN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:h}=i,g=r||this.routerState.root,_=h?this.currentUrlTree.fragment:a;let b=null;switch(u){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),function Gz(n,e,t,i,r){if(0===t.length)return iN(e.root,e.root,e.root,i,r);const s=function qz(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new F2(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const u={};return vs(s.outlets,(h,g)=>{u[g]="string"==typeof h?h.split("/"):h}),[...r,{outlets:u}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((u,h)=>{0==h&&"."===u||(0==h&&""===u?t=!0:".."===u?e++:""!=u&&r.push(u))}),r):[...r,s]},[]);return new F2(t,e,i)}(t);if(s.toRoot())return iN(e.root,e.root,new Pn([],{}),i,r);const a=function Zz(n,e,t){if(n.isAbsolute)return new rN(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new rN(s,s===e.root,0)}const i=i1(n.commands[0])?0:1;return function Kz(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new rN(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),u=a.processChildren?r1(a.segmentGroup,a.index,s.commands):V2(a.segmentGroup,a.index,s.commands);return iN(e.root,a.segmentGroup,u,i,r)}(g,this.currentUrlTree,t,b,null!=_?_:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=hm(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function e$(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},JW):!1===i?Object.assign({},XW):i,hm(t))return w2(this.currentUrlTree,t,r);const s=this.parseUrl(t);return w2(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new cC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,a){var u,h;if(this.disposed)return Promise.resolve(!1);let g,_,b;a?(g=a.resolve,_=a.reject,b=a.promise):b=new Promise((P,U)=>{g=P,_=U});const I=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):S=0,this.setTransition({id:I,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new h2(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function sV(n){return"imperative"!==n}let fm=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new fa.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:o0(this.skipLocationChange),replaceUrl:o0(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:o0(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kr),d.Y36(r0),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&d.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})(),s0=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new fa.x,this.subscription=t.events.subscribe(s=>{s instanceof cC&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,a){if(0!==t||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:o0(this.skipLocationChange),replaceUrl:o0(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:o0(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kr),d.Y36(r0),d.Y36(me))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&d.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&d.uIk("target",i.target)("href",i.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function o0(n){return""===n||!!n}class oV{}class aV{preload(e,t){return qt(null)}}let lV=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new iV(r,i,h=>t.triggerEvent(new f2(h)),h=>t.triggerEvent(new p2(h)))}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof cC),e0(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,Cn.D)(r).pipe((0,vy.J)(),(0,Pt.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?qt(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Ps.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(kr),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(oV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),hN=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cC&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof g2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new g2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const pm=new d.OlP("ROUTER_CONFIGURATION"),cV=new d.OlP("ROUTER_FORROOT_GUARD"),r$=[je,{provide:I2,useClass:T2},{provide:kr,useFactory:function c$(n,e,t,i,r,s,a={},u,h){const g=new kr(null,n,e,t,i,r,_2(s));return u&&(g.urlHandlingStrategy=u),h&&(g.routeReuseStrategy=h),function u$(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(a,g),a.enableTracing&&g.events.subscribe(_=>{var b,I;null===(b=console.group)||void 0===b||b.call(console,`Router Event: ${_.constructor.name}`),console.log(_.toString()),console.log(_),null===(I=console.groupEnd)||void 0===I||I.call(console)}),g},deps:[I2,mC,je,d.zs3,d.Sil,dN,pm,[class ZW{},new d.FiY],[class $W{},new d.FiY]]},mC,{provide:r0,useFactory:function d$(n){return n.routerState.root},deps:[kr]},lV,aV,class i${preload(e,t){return t().pipe(Nf(()=>qt(null)))}},{provide:pm,useValue:{enableTracing:!1}}];function s$(){return new d.PXZ("Router",kr)}let uV=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[r$,dV(t),{provide:cV,useFactory:l$,deps:[[kr,new d.FiY,new d.tp0]]},{provide:pm,useValue:i||{}},{provide:me,useFactory:a$,deps:[K,[new d.tBr(Be),new d.FiY],pm]},{provide:hN,useFactory:o$,deps:[kr,ec,pm]},{provide:oV,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:aV},{provide:d.PXZ,multi:!0,useFactory:s$},[fN,{provide:d.ip1,multi:!0,useFactory:h$,deps:[fN]},{provide:hV,useFactory:f$,deps:[fN]},{provide:d.tb,multi:!0,useExisting:hV}]]}}static forChild(t){return{ngModule:n,providers:[dV(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(cV,8),d.LFG(kr,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function o$(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new hN(n,e,t)}function a$(n,e,t={}){return t.useHash?new Ue(n,e):new Re(n,e)}function l$(n){return"guarded"}function dV(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:dN,multi:!0,useValue:n}]}let fN=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fa.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(u=>i=u),s=this.injector.get(kr),a=this.injector.get(pm);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?qt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(pm),r=this.injector.get(lV),s=this.injector.get(hN),a=this.injector.get(kr),u=this.injector.get(d.z2F);t===u.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),s.init(),a.resetRootComponentType(u.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function h$(n){return n.appInitializer.bind(n)}function f$(n){return n.bootstrapListener.bind(n)}const hV=new d.OlP("Router Initializer");var pN=R(655);function gN(n){return n instanceof d.Rgc}function mN(n){return"function"==typeof n}function fV(n){return"string"==typeof n}let g$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&d._UZ(0,"div",0),2&t&&d.Q6J("innerHTML",i.content,d.oJD)},encapsulation:2}),n})();class m${constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){var e;1!==this.viewRef.rootNodes[0]&&(null===(e=this.element)||void 0===e||e.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class y${constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class _${constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let pV=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new _$({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new m$({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(gN(t))return this.createTemplate(t,i);if(mN(t))return this.createComponent(t,i);if(fV(t))return new y$(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d._Vd),d.LFG(d.zs3),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v$=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){var t,i;null===(t=this.viewRef)||void 0===t||t.destroy(),fV(this.view)?(this.viewRef=this.viewService.createComponent(g$,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:null!==(i=this.injector)&&void 0!==i?i:this.vcr.injector,context:this.context})}ngOnDestroy(){var t;null===(t=this.viewRef)||void 0===t||t.destroy()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(pV))},n.\u0275dir=d.lG2({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[d.TTD]}),n})(),b$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const{isArray:w$}=Array;const I$=["*"],T$=function(n,e){return{"border-color":n,"border-right-color":e}};function D$(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1,"\n        "),d._UZ(2,"hot-toast-error",2),d._uU(3,"\n      "),d.qZA()),2&n){const t=d.oxw(3);d.xp6(2),d.Q6J("theme",t.theme)}}function A$(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1,"\n        "),d._UZ(2,"hot-toast-checkmark",2),d._uU(3,"\n      "),d.qZA()),2&n){const t=d.oxw(3);d.xp6(2),d.Q6J("theme",t.theme)}}function S$(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1,"\n        "),d._UZ(2,"hot-toast-warning",2),d._uU(3,"\n      "),d.qZA()),2&n){const t=d.oxw(3);d.xp6(2),d.Q6J("theme",t.theme)}}function k$(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1,"\n        "),d._UZ(2,"hot-toast-info",2),d._uU(3,"\n      "),d.qZA()),2&n){const t=d.oxw(3);d.xp6(2),d.Q6J("theme",t.theme)}}function M$(n,e){if(1&n&&(d.TgZ(0,"div",4),d._uU(1,"\n    "),d.TgZ(2,"div",5),d._uU(3,"\n      "),d.YNc(4,D$,4,1,"div",6),d._uU(5,"\n      "),d.YNc(6,A$,4,1,"div",6),d._uU(7,"\n      "),d.YNc(8,S$,4,1,"div",6),d._uU(9,"\n      "),d.YNc(10,k$,4,1,"div",6),d._uU(11,"\n    "),d.qZA(),d._uU(12,"\n  "),d.qZA()),2&n){const t=d.oxw(2);d.xp6(2),d.Q6J("ngSwitch",t.type),d.xp6(2),d.Q6J("ngSwitchCase","error"),d.xp6(2),d.Q6J("ngSwitchCase","success"),d.xp6(2),d.Q6J("ngSwitchCase","warning"),d.xp6(2),d.Q6J("ngSwitchCase","info")}}function N$(n,e){if(1&n&&(d.TgZ(0,"div",1),d._uU(1,"\n  "),d._UZ(2,"hot-toast-loader",2),d._uU(3,"\n  "),d.YNc(4,M$,13,5,"div",3),d._uU(5,"\n"),d.qZA()),2&n){const t=d.oxw();d.xp6(2),d.Q6J("theme",t.theme),d.xp6(2),d.Q6J("ngIf","loading"!==t.type)}}const R$=["hotToastBarBase"];function P$(n,e){if(1&n&&(d.ynx(0),d._uU(1,"\n          "),d.TgZ(2,"hot-toast-animated-icon",10),d._uU(3),d.qZA(),d._uU(4,"\n        "),d.BQk()),2&n){const t=d.oxw(2);d.xp6(2),d.Q6J("iconTheme",t.toast.iconTheme),d.xp6(1),d.Oqu(t.toast.icon)}}function O$(n,e){if(1&n&&(d._uU(0,"\n          "),d.TgZ(1,"div"),d._uU(2,"\n            "),d.GkF(3,11),d._uU(4,"\n          "),d.qZA(),d._uU(5,"\n        ")),2&n){const t=d.oxw(2);d.xp6(3),d.Q6J("dynamicView",t.toast.icon)}}function L$(n,e){if(1&n&&(d.ynx(0),d._uU(1,"\n        "),d.YNc(2,P$,5,2,"ng-container",4),d._uU(3,"\n        "),d.YNc(4,O$,6,1,"ng-template",null,9,d.W1O),d._uU(6,"\n      "),d.BQk()),2&n){const t=d.MAs(5),i=d.oxw();d.xp6(2),d.Q6J("ngIf",i.isIconString)("ngIfElse",t)}}function F$(n,e){if(1&n&&(d._uU(0,"\n        "),d._UZ(1,"hot-toast-indicator",12),d._uU(2,"\n      ")),2&n){const t=d.oxw();d.xp6(1),d.Q6J("theme",t.toast.iconTheme)("type",t.toast.type)}}function V$(n,e){1&n&&d.GkF(0)}function B$(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",13),d.NdJ("click",function(){return d.CHM(t),d.oxw().close()}),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("ngStyle",t.toast.closeStyle)}}function U$(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"hot-toast",3),d.NdJ("height",function(r){const a=d.CHM(t).$implicit;return d.oxw().updateHeight(r,a)})("beforeClosed",function(){const s=d.CHM(t).$implicit;return d.oxw().beforeClosed(s)})("afterClosed",function(r){return d.CHM(t),d.oxw().afterClosed(r)}),d.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.Q6J("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const gV={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class yV{constructor(e){this.toast=e,this._onClosed=new fa.x}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:s}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function x$(...n){return 1===(n=function C$(n){return 1===n.length&&w$(n[0])?n[0]:n}(n)).length?(0,Br.Xf)(n[0]):new Pi.y(function E$(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Br.Xf)(n[i]).subscribe((0,Gi.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),s),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let W$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:I$,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0),d._uU(1,"\n  "),d.Hsn(2),d._uU(3,"\n"),d.qZA(),d._uU(4,"\n")),2&t&&d.Udp("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),$$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(d._UZ(0,"div",0),d._uU(1,"\n")),2&t&&d.Q6J("ngStyle",d.WLB(1,T$,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},directives:[Ql],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),G$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(d._UZ(0,"div",0),d._uU(1,"\n")),2&t&&d.Udp("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),q$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(d._UZ(0,"div",0),d._uU(1,"\n")),2&t&&d.Udp("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),Z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(d._UZ(0,"div",0),d._uU(1,"\n")),2&t&&d.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(d._UZ(0,"div",0),d._uU(1,"\n")),2&t&&d.Udp("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),Y$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(d.YNc(0,N$,6,2,"div",0),d._uU(1,"\n")),2&t&&d.Q6J("ngIf","blank"!==i.type)},directives:[$$,G$,q$,Z$,K$,Di,Zr,Or],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),_V=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new d.vpe,this.beforeClosed=new d.vpe,this.afterClosed=new d.vpe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){gN(this.toast.message)&&(this.context={$implicit:this.toastRef}),mN(this.toast.message)&&(this.toastComponentInjector=d.zs3.create({providers:[{provide:yV,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return Object.assign(Object.assign({transform:`translateY(${this.offset*(t?1:-1)}px)`},i),r)}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`,s=this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i;return Object.assign(Object.assign({},this.toast.style),{animation:s})}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.zs3),d.Y36(d.Qsj),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&d.Gf(R$,5),2&t){let r;d.iGM(r=d.CRH())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(d.TgZ(0,"div",0),d._uU(1,"\n  "),d.TgZ(2,"div",1,2),d._uU(4,"\n    "),d.TgZ(5,"div",3),d._uU(6,"\n      "),d.YNc(7,L$,7,2,"ng-container",4),d._uU(8,"\n\n      "),d.YNc(9,F$,3,2,"ng-template",null,5,d.W1O),d._uU(11,"\n    "),d.qZA(),d._uU(12,"\n\n    "),d.TgZ(13,"div",6),d._uU(14,"\n      "),d.TgZ(15,"div"),d._uU(16,"\n        "),d.YNc(17,V$,1,0,"ng-container",7),d._uU(18,"\n      "),d.qZA(),d._uU(19,"\n    "),d.qZA(),d._uU(20,"\n\n    "),d.YNc(21,B$,1,1,"button",8),d._uU(22,"\n  "),d.qZA(),d._uU(23,"\n"),d.qZA(),d._uU(24,"\n")),2&t){const r=d.MAs(10);d.Q6J("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),d.xp6(2),d.Udp("--hot-toast-animation-state",i.isManualClose?"running":"paused"),d.Q6J("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),d.uIk("aria-live",i.toast.ariaLive)("role",i.toast.role),d.xp6(5),d.Q6J("ngIf",void 0!==i.toast.icon)("ngIfElse",r),d.xp6(10),d.Q6J("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),d.xp6(4),d.Q6J("ngIf",i.toast.dismissible)}},directives:[W$,Y$,Ql,Bo,Di,v$],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),Q$=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new fa.x,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(u=>u.visible&&u.position===i),s=r.findIndex(u=>u.id===t);return-1!==s?r.slice(...this.defaultConfig.reverseOrder?[s+1]:[0,s]).reduce((u,h)=>u+(h.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(ir(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>Object.assign(Object.assign({},r),r.id===t.id&&Object.assign(Object.assign({},t),i)))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&d.Gf(_V,5),2&t){let r;d.iGM(r=d.CRH())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d._uU(1,"\n  "),d.TgZ(2,"div",1),d._uU(3,"\n    "),d.YNc(4,U$,1,3,"hot-toast",2),d._uU(5,"\n  "),d.qZA(),d._uU(6,"\n"),d.qZA(),d._uU(7,"\n")),2&t&&(d.xp6(4),d.Q6J("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},directives:[_V,hi],encapsulation:2,changeDetection:0}),n})();class yN{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class eG{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let _N=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new yN,this._defaultPersistConfig=new eG,r&&(this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),r))}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig=Object.assign(Object.assign({},this._defaultConfig),t),this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",Object.assign(Object.assign({},this._defaultConfig),i))}error(t,i){var r;return this.createToast(t||this._defaultConfig.error.content,"error",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.error),i))}success(t,i){var r;return this.createToast(t||this._defaultConfig.success.content,"success",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.success),i))}loading(t,i){var r;return this.createToast(t||this._defaultConfig.loading.content,"loading",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.loading),i))}warning(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"warning",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}info(t,i){var r;return this.createToast(t||this._defaultConfig.warning.content,"info",Object.assign(Object.assign(Object.assign({},this._defaultConfig),null===(r=this._defaultConfig)||void 0===r?void 0:r.warning),i))}observe(t){return i=>{var r,s,a,u,h,g;let _,b=0;const I=null!==(r=t.loading)&&void 0!==r?r:null===(s=this._defaultConfig.loading)||void 0===s?void 0:s.content,S=null!==(a=t.success)&&void 0!==a?a:null===(u=this._defaultConfig.success)||void 0===u?void 0:u.content,P=null!==(h=t.error)&&void 0!==h?h:null===(g=this._defaultConfig.error)||void 0===g?void 0:g.content;return qM(()=>(I&&(_=this.createLoadingToast(I),b=Date.now()),i.pipe((0,Oo.b)(Object.assign(Object.assign({},S&&{next:U=>{_=this.createOrUpdateToast(t,U,_,"success",0===b?b:Date.now()-b)}}),P&&{error:U=>{_=this.createOrUpdateToast(t,U,_,"error",0===b?b:Date.now()-b)}})))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){Xi(this.platformId)||(this._componentRef=this._viewService.createComponent(Q$).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,s,a){let u=null,h={};if(({content:u,options:h}=this.getContentAndOptions(s,t[s]||(this._defaultConfig[s]?this._defaultConfig[s].content:""))),u=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(u,i),r){r.updateMessage(u);const g=Object.assign(Object.assign({type:s,duration:a+gV[s]},h),h.duration&&{duration:a+h.duration});r.updateToast(g)}else this.createToast(u,s,h);return r}createToast(t,i,r,s){var a,u,h,g,_,b;this._isInitialized||(this._isInitialized=!0,this.init());const I=Date.now(),S=null!==(a=null==r?void 0:r.id)&&void 0!==a?a:I.toString();if(!this.isDuplicate(S)&&(!(null===(u=r.persist)||void 0===u?void 0:u.enabled)||(null===(h=r.persist)||void 0===h?void 0:h.enabled)&&this.handleStorageValue(S,r))){const P=Object.assign({ariaLive:null!==(g=null==r?void 0:r.ariaLive)&&void 0!==g?g:"polite",createdAt:I,duration:null!==(_=null==r?void 0:r.duration)&&void 0!==_?_:gV[i],id:S,message:t,role:null!==(b=null==r?void 0:r.role)&&void 0!==b?b:"status",type:i,visible:!0,observableMessages:null!=s?s:void 0},r);return new yV(P).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const s=Object.assign(Object.assign({},this._defaultPersistConfig),i.persist),a="local"===s.storage?localStorage:sessionStorage,u=s.key.replace(/\${id}/g,t);let h=a.getItem(u);return h?(h=parseInt(h,10),r=h>0?h-1:h):r=s.count,a.setItem(u,r.toString()),r}getContentAndOptions(t,i){let r,s=Object.assign(Object.assign({},this._defaultConfig),this._defaultConfig[t]);if("string"==typeof i||gN(i)||mN(i))r=i;else{let a;({content:r}=i),a=(0,pN._T)(i,["content"]),s=Object.assign(Object.assign({},s),a)}return{content:r,options:s}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pV),d.LFG(d.Lbi),d.LFG(yN,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tG=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:yN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Hs,b$]]}),n})();function nG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"input",3,4),d.NdJ("paste",function(r){return d.CHM(t),d.oxw(2).handlePaste(r)})("keyup",function(r){const a=d.CHM(t).index;return d.oxw(2).onKeyUp(r,a)})("input",function(r){return d.CHM(t),d.oxw(2).onInput(r)})("keydown",function(r){const a=d.CHM(t).index;return d.oxw(2).onKeyDown(r,a)}),d.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw(2);d.Gre("otp-input ",r.config.inputClass,""),d.hYB("id","otp_",i,"_",r.componentKey,""),d.Q6J("pattern",r.config.allowNumbersOnly?"\\d*":"")("type",r.inputType)("placeholder",(null==r.config?null:r.config.placeholder)||"")("ngStyle",r.config.inputStyles)("formControl",r.otpForm.controls[t])}}function iG(n,e){if(1&n&&(d.TgZ(0,"div",1),d.YNc(1,nG,2,10,"input",2),d.ALo(2,"keys"),d.qZA()),2&n){const t=d.oxw();d.Gre("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),d.MGl("id","c_",t.componentKey,""),d.Q6J("ngStyle",t.config.containerStyles),d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,6,null==t.otpForm?null:t.otpForm.controls))}}class d1{static ifBackspaceOrDelete(e){return this.ifKey(e,"Backspace;Delete;Del")}static ifRightArrow(e){return this.ifKey(e,"ArrowRight;Right")}static ifLeftArrow(e){return this.ifKey(e,"ArrowLeft;Left")}static ifSpacebar(e){return this.ifKey(e,"Spacebar; ")}static ifKey(e,t){return t.split(";").some(r=>r===e.key)}}let vN=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=d.Yjl({name:"keys",type:n,pure:!0}),n})(),rG=(()=>{class n{constructor(t){this.keysPipe=t,this.config={length:4},this.onInputChange=new d.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){var t,i;return(null===(t=this.config)||void 0===t?void 0:t.isPasswordInput)?"password":(null===(i=this.config)||void 0===i?void 0:i.allowNumbersOnly)?"tel":"text"}ngOnInit(){this.otpForm=new oa({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new ts);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(i=>{var r=this.otpForm.controls[i].value;r&&r.length>1&&(r.length>=this.config.length?this.setValue(r):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=document.getElementById(`c_${this.componentKey}`);if(t){const i=t.getElementsByClassName("otp-input")[0];i&&i.focus&&i.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,i){if(d1.ifSpacebar(t))return t.preventDefault(),!1}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,i){const r=this.appendKey(`otp_${i+1}`),s=this.appendKey("otp_"+(i-1));return d1.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(r)):d1.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(s)):d1.ifBackspaceOrDelete(t)&&!t.target.value?(this.setSelected(s),void this.rebuildValue()):void(!t.target.value||(this.ifValidKeyCode(t)&&this.setSelected(r),this.rebuildValue()))}validateNumber(t){return t&&/^\d*\.?\d*$/.test(t)}appendKey(t){return`${t}_${this.componentKey}`}setSelected(t){this.focusTo(t);const i=document.getElementById(t);i&&i.setSelectionRange&&setTimeout(()=>{i.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const i=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(i)||this.config.allowKeyCodes&&this.config.allowKeyCodes.includes(t.keyCode)}focusTo(t){const i=document.getElementById(t);i&&i.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((r,s)=>{this.otpForm.get(this.getControlName(s))&&this.otpForm.get(this.getControlName(s)).setValue(r)}),!this.config.disableAutoFocus){const r=document.getElementById(`c_${this.componentKey}`);var i=t.length<this.config.length?t.length:this.config.length-1;let s=r.getElementsByClassName("otp-input")[i];s&&s.focus&&s.focus()}this.rebuildValue()}}rebuildValue(){var t;let i="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let s=this.otpForm.controls[r].value,a=s.length>1,u=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());s=s[0];let h=u?"upper"==this.config.letterCase.toLocaleLowerCase()?s.toUpperCase():s.toLowerCase():s;u&&h==s?u=!1:s=h,i+=s,(a||u)&&this.otpForm.controls[r].setValue(s)}}),(null===(t=this.formCtrl)||void 0===t?void 0:t.setValue)&&this.formCtrl.setValue(i),this.onInputChange.emit(i),this.currentVal=i}handlePaste(t){let i=t.clipboardData||window.clipboardData;if(i)var r=i.getData("Text");t.stopPropagation(),t.preventDefault(),r&&(!this.config.allowNumbersOnly||this.validateNumber(r))&&this.setValue(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,i){1&t&&d.YNc(0,iG,3,8,"div",0),2&t&&d.Q6J("ngIf",null==i.otpForm?null:i.otpForm.controls)},directives:[Di,Ql,hi,_r,Jm,es,Ds],pipes:[vN],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),sG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[vN],imports:[[Hs,px,Xm]]}),n})(),oG=(()=>{class n{constructor(t,i,r){this.router=t,this.ngZone=i,this.toast=r,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:"",inputStyles:{width:"50px",height:"50px"}}}ngOnInit(){this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),console.log(this.verify)}onOtpChange(t){this.otp=t}handleClick(){console.log(this.otp);var t=Ba.Z.auth.PhoneAuthProvider.credential(this.verify,this.otp);console.log(t),Ba.Z.auth().signInWithCredential(t).then(i=>{this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:r})=>`There was an error: ${r} `}),localStorage.setItem("user_data",JSON.stringify(i)),this.ngZone.run(()=>{this.router.navigate(["/agregar"])})}).catch(i=>{console.log(i),alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kr),d.Y36(d.R0b),d.Y36(_N))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-code"]],decls:9,vars:1,consts:[[1,"card","text-center"],[1,"card-header","bg-info"],[1,"card-body"],[1,"otp"],[3,"config","onInputChange"],["ngOtpInput",""],[1,"btn","btn-success","mt-4","signup",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1),d._uU(2," Ingresa el codigo "),d.qZA(),d.TgZ(3,"div",2)(4,"div",3)(5,"ng-otp-input",4,5),d.NdJ("onInputChange",function(s){return i.onOtpChange(s)}),d.qZA(),d.TgZ(7,"button",6),d.NdJ("click",function(){return i.handleClick()}),d._uU(8,"Verificar Codigo"),d.qZA()()()()),2&t&&(d.xp6(5),d.Q6J("config",i.config))},directives:[rG],styles:[".otp[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:25em}.card[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto;margin-top:50px}.card-body[_ngcontent-%COMP%]{background-image:url(https://previews.123rf.com/images/captainvector/captainvector1705/captainvector170513153/79132424-dise%C3%B1o-de-fondo-azteca.jpg)}.card-header[_ngcontent-%COMP%]{font-family:fantasy;font-size:30px;color:#f10486}"]}),n})(),vV=(()=>{class n{constructor(){}get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bC=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=ZR(this.auth)}login(t,i){return(0,Cn.D)((0,Nu.a6)(this.auth,t,i))}signUp(t,i,r){return(0,Cn.D)((0,Nu.a5)(this.auth,i,r)).pipe(zr(({user:s})=>(0,Nu.af)(s,{displayName:t})))}loginwithGoogle(){return(0,Cn.D)((0,Nu.c)(this.auth,new Nu.Q))}logout(){return(0,Cn.D)(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(av))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aG=(()=>{class n{constructor(t,i,r,s){this.windowService=t,this.authService=i,this.router=r,this.toast=s,this.loginForm=new oa({email:new ts,password:new ts}),this.phoneSignIn=!0,this.windowRef=this.windowService.windowRef}ngOnInit(){this.reCaptchaVerifie=new Ba.Z.auth.RecaptchaVerifier("recaptcha-conteiner",{size:"invisible"}),Ba.Z.auth()}togglePhoneSignIn(){this.phoneSignIn=!this.phoneSignIn}submit(){const{email:t,password:i}=this.loginForm.value;this.authService.login(t,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:r})=>`There was an error: ${r} `})).subscribe(()=>{this.router.navigate(["/agregar"])})}onClick(){this.authService.loginwithGoogle().subscribe(()=>{this.router.navigate(["/agregar"])})}onClick2(){this.router.navigate(["/phone"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vV),d.Y36(bC),d.Y36(kr),d.Y36(_N))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:1,consts:[[1,"card","bg-info","mb-3",2,"max-width","600px"],[1,"row","no-gutters"],[1,"col-md-4"],["src","https://thumbs.dreamstime.com/b/fotograf%C3%ADa-de-una-joven-guapa-morena-con-maquillaje-profesional-manos-doradas-moda-pintalabios-desnudos-y-cabello-natural-retrato-171150242.jpg","alt","...",1,"img-fluid"],[1,"col-md-8"],[1,"card-body"],[1,"card-title","text-center"],[1,"form",3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","submit","id","submit",1,"btn","btn-danger","btn-lg","btn-block",3,"click"],["src","../../assets/img/login.png","alt",""],["id","submit",1,"btn","btn-success","btn-lg","btn-block",3,"click"],["src","../../assets/img/google.png","alt",""],["id","submit",1,"btn","btn-warning","btn-lg","btn-block",3,"click"],["src","../../assets/img/phone.png","alt",""],["routerLink","/registrar",1,"sign-up-link"],["type","submit","value","cancelar","routerLink","/inicio",1,"C1"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2),d._UZ(3,"img",3),d.qZA(),d.TgZ(4,"div",4)(5,"div",5)(6,"h5",6),d._uU(7,"Armate de color"),d.qZA(),d.TgZ(8,"form",7)(9,"div",8)(10,"label",9),d._uU(11,"Email"),d.qZA(),d._UZ(12,"input",10),d.qZA(),d.TgZ(13,"div",8)(14,"label",9),d._uU(15,"Password"),d.qZA(),d._UZ(16,"input",11),d.qZA(),d.TgZ(17,"button",12),d.NdJ("click",function(){return i.submit()}),d._UZ(18,"img",13),d._uU(19,"Login"),d.qZA(),d.TgZ(20,"button",14),d.NdJ("click",function(){return i.onClick()}),d._UZ(21,"img",15),d._uU(22,"Login con Google "),d.qZA(),d.TgZ(23,"button",16),d.NdJ("click",function(){return i.onClick2()}),d._UZ(24,"img",17),d._uU(25,"Login con phone "),d.qZA(),d._UZ(26,"br"),d.TgZ(27,"span"),d._uU(28,"Nuevo en la Plataforma ? "),d.TgZ(29,"b")(30,"a",18),d._uU(31,"Registrate!"),d.qZA()()(),d._UZ(32,"br")(33,"br"),d.TgZ(34,"a",19),d._uU(35,"CANCELAR"),d.qZA()()()()()()),2&t&&(d.xp6(8),d.Q6J("formGroup",i.loginForm))},directives:[y,jr,vc,_r,es,Va,s0],styles:['@import"https://rsms.me/inter/inter-ui.css";@import"https://fonts.googleapis.com/css2?family=Blaka&display=swap";body[_ngcontent-%COMP%]{background:white;font-family:Inter UI,sans-serif;margin:0;padding:20px}.page[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 40px);position:absolute;place-content:center;width:calc(100% - 40px)}.container[_ngcontent-%COMP%]{display:flex;height:450px;margin:0 auto;width:640px}.left[_ngcontent-%COMP%]{background-image:url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTR0sAbFiqrMfSvCd21DLyMKuT-ol1Gd9d3RA58d56ZhCnPcZbEULLt-9_ye7jEccOxExk&usqp=CAU);height:calc(100% - 40px);top:30px;position:relative;width:40%;background-size:100%}.login[_ngcontent-%COMP%]{font-size:50px;font-weight:900;margin:10px 40px 40px;color:#f0f8ff}.card-title[_ngcontent-%COMP%]{font-family:Blaka,cursive;color:#ffd900;line-height:1.5;text-align:center;font-size:40px}.right[_ngcontent-%COMP%]{background:#048be6;box-shadow:0 0 40px 16px #00000038;color:#f1f1f2;position:relative;width:60%}.form[_ngcontent-%COMP%]{margin:40px;position:absolute}label[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;color:#f3f0f1;display:block;font-size:16px;height:20px;margin-top:-10px;margin-bottom:5px}input[_ngcontent-%COMP%]{bottom:30px;border:none;border-bottom:5px solid #ff9100;padding:20px;width:100%;background:transparent;transition:all .25s ease}input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:7px solid #0bb129}.sign-up-link[_ngcontent-%COMP%]{color:#550808}.C1[_ngcontent-%COMP%]{float:right;color:#fff;background-color:#970808}.card[_ngcontent-%COMP%]{margin:30px auto;height:600px}.img-fluid[_ngcontent-%COMP%]{margin:40px 20px;height:500px}']}),n})();var lG={apiKey:"AIzaSyC4YlcWMxvOSow-y9jsChvvQrSHGVuF5QA",authDomain:"proyectopt1.firebaseapp.com",projectId:"proyectopt1",storageBucket:"proyectopt1.appspot.com",messagingSenderId:"377872506607",appId:"1:377872506607:web:fab0a80a82724e6248c51a",measurementId:"G-XJF7ZRJ5TL"};let cG=(()=>{class n{constructor(t,i){this.router=t,this.ngZone=i}ngOnInit(){Ba.Z.initializeApp(lG)}getOTP(){this.reCaptchaVerifier=new Ba.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisible"}),console.log(this.reCaptchaVerifier),console.log(this.phoneNumber),Ba.Z.auth().signInWithPhoneNumber(this.phoneNumber,this.reCaptchaVerifier).then(t=>{localStorage.setItem("verificationId",JSON.stringify(t.verificationId)),this.ngZone.run(()=>{this.router.navigate(["/code"])})}).catch(t=>{console.log(t.message),alert(t.message),setTimeout(()=>{window.location.reload()},8e3)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kr),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-phone-number"]],decls:11,vars:1,consts:[[1,"contain"],[1,"row","d-flex","align-items-center","justify-content-center"],[1,"col-md-6"],[1,"card","px-5","py-5"],[1,"text-center"],[1,"form-input"],["type","text","name","phoneNumber","placeholder","Phone Number","placeholder","Ingresa tu Numero Telfonico","min","10","max","15",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-info","mt-4","signup",3,"click"],["id","sign-in-button"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"h1",4),d._uU(5,"Login Con Telefono"),d.qZA(),d.TgZ(6,"div",5)(7,"input",6),d.NdJ("ngModelChange",function(s){return i.phoneNumber=s}),d.qZA()(),d.TgZ(8,"button",7),d.NdJ("click",function(){return i.getOTP()}),d._uU(9,"Generar Codigo"),d.qZA(),d._UZ(10,"div",8),d.qZA()()()()),2&t&&(d.xp6(7),d.Q6J("ngModel",i.phoneNumber))},directives:[y,jr,Iu,_r,es,C],styles:['@import"https://fonts.googleapis.com/css2?family=Caveat&display=swap";@import"https://fonts.googleapis.com/css2?family=Blaka&display=swap";.card[_ngcontent-%COMP%]{border:none;padding:20px;background-image:url(https://i.pinimg.com/originals/c7/e2/9b/c7e29b857e6fa1762e2f0fd1a2671c89.jpg);color:#fff}.contain[_ngcontent-%COMP%]{margin:10rem 0 3rem}h1[_ngcontent-%COMP%]{font-family:Blaka,cursive;color:#b3031a}.form-input[_ngcontent-%COMP%]{position:relative;margin-bottom:10px;margin-top:10px;color:#fff;font-family:Caveat,cursive}.form-control[_ngcontent-%COMP%]{height:50px;background-color:#fc4c69;text-indent:24px;font-size:30px;color:#fff}.form-control[_ngcontent-%COMP%]:focus{background-color:#650e8d;box-shadow:none;color:#fff;border-color:#e7a04f}.signup[_ngcontent-%COMP%]{height:50px;font-size:14px}']}),n})(),uG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-inicio"]],decls:40,vars:0,consts:[["id","carouselExampleIndicators","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carouselExampleIndicators","data-slide-to","0",1,"active"],["data-target","#carouselExampleIndicators","data-slide-to","1"],["data-target","#carouselExampleIndicators","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://images.chicmagazine.com.mx/fGbrRpcgD8gHK-XF-QFVfxG20rs=/958x596/uploads/media/2021/06/15/maquillaje-ecofriendly-marcas-mexicanas-ingredientes.jpg","alt","...",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"m1"],[1,"p1"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","routerLink","/login",1,"btn","btn","btn-outline-dark"],["type","button","routerLink","/registrar",1,"btn","btn","btn-outline-dark"],[1,"carousel-item"],["src","https://conexion360.mx/wp-content/uploads/2020/02/FOTO-WEB-YUYA-MAQUILLAJE.jpg","alt","...",1,"d-block","w-100"],["src","https://www.sephora.com.mx/on/demandware.static/-/Library-Sites-Sephora/default/dw053b47ef/images/blocnote/mexico/Marcas_Mexicanas_Banner_1125x400.jpg","alt","...",1,"d-block","w-100"],["type","button","data-target","#carouselExampleIndicators","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleIndicators","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"formulario"],["id","botoneje"],["id","botoneje","role","button","aria-labelledby","botoneje",1,"btn","btn-dark",2,"height","80px","background-color","blueviolet","font-size","15px","color","black"],["src","../../assets/img/acce.png","alt",""],["id","detener","hidden","true"],["id","detener","role","button","aria-labelledby","detener",1,"btn","btn-dark",2,"height","80px","background-color","blueviolet","color","black"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"ol",1),d._UZ(2,"li",2)(3,"li",3)(4,"li",4),d.qZA(),d.TgZ(5,"div",5)(6,"div",6),d._UZ(7,"img",7),d.TgZ(8,"div",8)(9,"h1",9),d._uU(10,"El mundo del makeup a tu alcance."),d.qZA(),d.TgZ(11,"p",10),d._uU(12,"Tus marcas Mexicanas favoritas de cosmeticos "),d.qZA(),d.TgZ(13,"div",11)(14,"button",12),d._uU(15,"Login"),d.qZA(),d.TgZ(16,"button",13),d._uU(17,"Register"),d.qZA()()()(),d.TgZ(18,"div",14),d._UZ(19,"img",15),d.qZA(),d.TgZ(20,"div",14),d._UZ(21,"img",16),d.qZA()(),d.TgZ(22,"button",17),d._UZ(23,"span",18),d.TgZ(24,"span",19),d._uU(25,"Previous"),d.qZA()(),d.TgZ(26,"button",20),d._UZ(27,"span",21),d.TgZ(28,"span",19),d._uU(29,"Next"),d.qZA()()(),d.TgZ(30,"div",22)(31,"p",23),d._uU(32,'Nuestra empresa se encarga de distribuir a lo largo de todo el mundo marcas orgullosamente mexicanas como lo son morena mia, yuya cosmetics etc. las cuales cuentan con una enorme catalogo de cosmeticos para las mujeres en general "La belleza comienza en el momento que decides ser tu misma" '),d.qZA(),d.TgZ(33,"button",24),d._UZ(34,"img",25),d._uU(35,"Activar el sreen reader"),d.qZA(),d.TgZ(36,"p",26),d._uU(37,"detenido"),d.qZA(),d.TgZ(38,"button",27),d._uU(39,"Desactivar Sreen reader"),d.qZA()())},directives:[fm],styles:['@import"https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap";.carousel[_ngcontent-%COMP%]{margin-top:-10px}.carousel-inner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:600px}.carousel-inner[_ngcontent-%COMP%]{height:600px}button[_ngcontent-%COMP%]{margin:10px}.m1[_ngcontent-%COMP%]{font-family:Berkshire Swash,cursive;-webkit-text-stroke:1px rgb(239,240,233);color:#141414}.p1[_ngcontent-%COMP%]{color:#d1c2c5;font-size:30px;background-color:brown}.formulario[_ngcontent-%COMP%]{width:60%;background-color:#ffebcd8a;margin:30px auto auto;border-radius:25px;text-align:center;padding:20px;font-size:20px}h1[_ngcontent-%COMP%]{color:#fff}.form-control[_ngcontent-%COMP%]{width:60%;margin:auto}']}),n})();function dG(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1," (El nombre es Obligatorio)"),d.qZA())}function hG(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1," (El email es Obligatorio)"),d.qZA())}function fG(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1," (El email debe ser valido)"),d.qZA())}function pG(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1," (contrase\xf1a requerida al menos 6 caracteres)"),d.qZA())}function gG(n,e){1&n&&(d.TgZ(0,"p"),d._uU(1," (contrase\xf1a requerida al menos 6 caracteres)"),d.qZA())}let mG=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.toast=r,this.signUpForm=new oa({name:new ts("",Ys.required),email:new ts("",[Ys.required,Ys.email]),password:new ts("",[Ys.required]),password2:new ts("",Ys.required)})}ngOnInit(){}get name(){return this.signUpForm.get("name")}get password(){return this.signUpForm.get("password")}get email(){return this.signUpForm.get("email")}get passwords2(){return this.signUpForm.get("password2")}submit(){if(this.signUpForm.valid)if(this.password1==this.password2){const{name:t,email:i,password:r}=this.signUpForm.value;this.authService.signUp(t,i,r).pipe(this.toast.observe({success:"Su registro fue exitoso",loading:"Registrando...",error:({})=>"error no se pudo registrar"})).subscribe(()=>{this.router.navigate(["/agregar"])})}else alert("Las contrase\xf1as no conciden ")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bC),d.Y36(kr),d.Y36(_N))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-register"]],decls:31,vars:8,consts:[[1,"parent-wrapper"],[1,"close-btn","glyphicon","glyphicon-remove"],[1,"subscribe-wrapper"],[1,"form",3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","name",1,"form-control"],[4,"ngIf"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control",3,"ngModel","ngModelChange"],["type","password2","formControlName","password2",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","submit","type","submit",1,"btn","btn-info","btn-lg","btn-block"],["type","button","routerLink","/inicio",1,"btn","btn-danger","btn-lg","btn-block"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"span",1),d.TgZ(2,"div",2)(3,"h4"),d._uU(4,"REGISTRO"),d.qZA(),d.TgZ(5,"form",3),d.NdJ("ngSubmit",function(){return i.submit()}),d.TgZ(6,"div",4)(7,"label",5),d._uU(8,"Nombre"),d.qZA(),d._UZ(9,"input",6),d.YNc(10,dG,2,0,"p",7),d.qZA(),d.TgZ(11,"div",4)(12,"label",5),d._uU(13,"Correo"),d.qZA(),d._UZ(14,"input",8),d.YNc(15,hG,2,0,"p",7),d.YNc(16,fG,2,0,"p",7),d.qZA(),d.TgZ(17,"div",4)(18,"label",5),d._uU(19,"Contrase\xf1a "),d.qZA(),d.TgZ(20,"input",9),d.NdJ("ngModelChange",function(s){return i.password1=s}),d.qZA(),d.YNc(21,pG,2,0,"p",7),d.qZA(),d.TgZ(22,"div",4)(23,"label",5),d._uU(24,"Confirma Contrase\xf1a"),d.qZA(),d.TgZ(25,"input",10),d.NdJ("ngModelChange",function(s){return i.password2=s}),d.qZA(),d.YNc(26,gG,2,0,"p",7),d.qZA(),d.TgZ(27,"button",11),d._uU(28,"Registrar"),d.qZA(),d.TgZ(29,"button",12),d._uU(30,"Cancelar"),d.qZA()()()()),2&t&&(d.xp6(5),d.Q6J("formGroup",i.signUpForm),d.xp6(5),d.Q6J("ngIf",null==i.name||null==i.name.errors?null:i.name.errors.required),d.xp6(5),d.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.required),d.xp6(1),d.Q6J("ngIf",null==i.email||null==i.email.errors?null:i.email.errors.email),d.xp6(4),d.Q6J("ngModel",i.password1),d.xp6(1),d.Q6J("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),d.xp6(4),d.Q6J("ngModel",i.password2),d.xp6(1),d.Q6J("ngIf",null==i.passwords2||null==i.passwords2.errors?null:i.passwords2.errors.required))},directives:[y,jr,vc,_r,es,Va,Di,fm],styles:['.parent-wrapper[_ngcontent-%COMP%]{position:relative;width:400px;height:200px;margin:20px auto 0;background-image:url(http://www.imgbase.info/images/safe-wallpapers/digital_art/1_miscellaneous_digital_art/41750_1_miscellaneous_digital_art_simple_dark_shapes.jpg);background-size:100%;background-repeat:no-repeat;background-position-y:-600%;background-color:#320a58;border-radius:10px;color:#fff;box-shadow:0 0 50px 5px #00000080}.close-btn[_ngcontent-%COMP%]{margin:20px;font-size:18px;cursor:pointer}.subscribe-wrapper[_ngcontent-%COMP%]{position:absolute;left:-50px;right:-50px;height:700px;padding:70px;background-image:url(https://img.freepik.com/vector-gratis/fondo-verano-colorido-zoom_23-2148582985.jpg?w=2000);background-repeat:no-repeat;background-color:#fff;border-radius:4px;color:#781239;box-shadow:0 0 60px 5px #0006}.subscribe-wrapper[_ngcontent-%COMP%]:after{position:absolute;content:"";right:-10px;bottom:71px;width:0;height:0;border-left:0px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #7149c7}.subscribe-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:20px;font-weight:700;letter-spacing:3px;line-height:28px}.subscribe-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{bottom:30px;border:none;border-bottom:5px solid #009EFF;padding:10px;width:100%;background:white;transition:all .25s ease;font-family:cursive;font-size:15px}.subscribe-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-bottom:7px solid #ff4e08}label[_ngcontent-%COMP%]{color:#ece5e5;background-color:#200e63;font-size:20px;font-family:Times New Roman,Times,serif}.subscribe-wrapper[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{position:absolute;border-radius:30px 0 0 30px;background-color:#473826;color:#fff;padding:12px 25px;display:inline-block;font-size:15px;font-weight:700;letter-spacing:2px;right:-10px;bottom:60px;cursor:pointer;transition:all .25s ease;box-shadow:-5px 6px 20px #3336}.subscribe-wrapper[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#06ec7d;color:#000}.submit-btn2[_ngcontent-%COMP%]:hover{background-color:#f8bc01}p[_ngcontent-%COMP%]{color:#fff;background-color:#970808}']}),n})();class bV{}let bN=(()=>{class n{constructor(t){this.db=t,this.dbAltas="/altas",this.misaltasRef=t.list(this.dbAltas)}getAll(){return this.misaltasRef}crear(t){return this.misaltasRef.push(t)}update(t,i){return this.misaltasRef.update(t,i)}delate(t){return this.misaltasRef.remove(t)}deleteAll(){return this.misaltasRef.remove()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(l2))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yG(n,e){if(1&n){const t=d.EpF();d.ynx(0),d.TgZ(1,"li",5)(2,"a",6),d.NdJ("click",function(){return d.CHM(t),d.oxw().logout()}),d._uU(3,"Logout"),d.qZA()(),d.BQk()}}function _G(n,e){1&n&&(d.TgZ(0,"li",5)(1,"a",7),d._uU(2,"Login"),d.qZA()())}function vG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",8)(1,"div",9)(2,"h1"),d._uU(3,"Alta Producto"),d.qZA(),d._UZ(4,"div",10),d.TgZ(5,"div",11)(6,"label",12),d._uU(7,"Nombre:"),d.qZA(),d.TgZ(8,"input",13),d.NdJ("ngModelChange",function(r){return d.CHM(t),d.oxw().alta.nombre=r}),d.qZA()(),d.TgZ(9,"div",11)(10,"label",14),d._uU(11,"Marca:"),d.qZA(),d.TgZ(12,"input",15),d.NdJ("ngModelChange",function(r){return d.CHM(t),d.oxw().alta.descripcion=r}),d.qZA()(),d.TgZ(13,"div",11)(14,"label",16),d._uU(15,"Precio:"),d.qZA(),d._UZ(16,"br"),d.TgZ(17,"input",17),d.NdJ("ngModelChange",function(r){return d.CHM(t),d.oxw().alta.precio=r}),d.qZA()(),d.TgZ(18,"div",11)(19,"label",16),d._uU(20,"Cantidad:"),d.qZA(),d.TgZ(21,"input",18),d.NdJ("ngModelChange",function(r){return d.CHM(t),d.oxw().alta.cantida=r}),d.qZA()(),d.TgZ(22,"div",11)(23,"label",19),d._uU(24,"Linea:"),d.qZA(),d.TgZ(25,"input",20),d.NdJ("ngModelChange",function(r){return d.CHM(t),d.oxw().alta.linea=r}),d.qZA()(),d._UZ(26,"br")(27,"br")(28,"br"),d.TgZ(29,"button",21),d.NdJ("click",function(){return d.CHM(t),d.oxw().guardar()}),d._uU(30,"Guardar"),d.qZA()()()}if(2&n){const t=d.oxw();d.xp6(8),d.Q6J("ngModel",t.alta.nombre),d.xp6(4),d.Q6J("ngModel",t.alta.descripcion),d.xp6(5),d.Q6J("ngModel",t.alta.precio),d.xp6(4),d.Q6J("ngModel",t.alta.cantida),d.xp6(4),d.Q6J("ngModel",t.alta.linea)}}function bG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div")(1,"div",22)(2,"div",23),d._uU(3),d.qZA(),d.TgZ(4,"div",24)(5,"button",25),d.NdJ("click",function(){return d.CHM(t),d.oxw().nuevaAlta()}),d._uU(6,"Nuevo Registro"),d.qZA(),d.TgZ(7,"button",26),d._uU(8,"Inventario"),d.qZA()()()()}if(2&n){const t=d.oxw();d.xp6(3),d.hij(" Los Datos para el producto ",t.alta.nombre," fueron creados con exito ")}}let wG=(()=>{class n{constructor(t,i,r){this.authService=t,this.router=i,this.altasService=r,this.alta=new bV,this.submitted=!1}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/inicio"])})}guardar(){this.altasService.crear(this.alta).then(()=>{console.log("Se dio de alta con exito"),this.submitted=!0})}nuevaAlta(){this.submitted=!1,this.alta=new bV}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bC),d.Y36(kr),d.Y36(bN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-agregar"]],decls:7,vars:6,consts:[[1,"nav","justify-content-end"],[4,"ngIf","ngIfElse"],["loginButton",""],["class","div",4,"ngIf"],[4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"click"],["routerLink","login",1,"nav-link"],[1,"div"],[1,"B1"],["id","sendmessage"],[1,"form-group"],["for","nombre"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["for","descripcion"],["type","text","name","descripcion",1,"form-control",3,"ngModel","ngModelChange"],["for","cantida"],["type","text","name","precio",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","cantida",1,"form-control",3,"ngModel","ngModelChange"],["for","linea"],["type","text","name","linea",1,"form-control",3,"ngModel","ngModelChange"],[1,"bouton-contact",3,"click"],[1,"card","text-center"],[1,"card-header","bg-info"],[1,"card-body"],["type","button",1,"btn","btn-success",3,"click"],["type","button","routerLink","/listas",1,"btn","btn-success"]],template:function(t,i){if(1&t&&(d.TgZ(0,"ul",0),d.YNc(1,yG,4,0,"ng-container",1),d.ALo(2,"async"),d.YNc(3,_G,3,0,"ng-template",null,2,d.W1O),d.qZA(),d.YNc(5,vG,31,5,"div",3),d.YNc(6,bG,9,1,"div",4)),2&t){const r=d.MAs(4);d.xp6(1),d.Q6J("ngIf",d.lcZ(2,4,i.authService.currentUser$))("ngIfElse",r),d.xp6(4),d.Q6J("ngIf",!i.submitted),d.xp6(1),d.Q6J("ngIf",i.submitted)}},directives:[Di,s0,_r,es,C,fm],pipes:[nu],styles:[".B1[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;background:#e43703 none repeat scroll 0% 0%;color:#fff;padding:10px 25px;border-radius:5px 5px 0 0;margin:auto;text-shadow:none;text-align:center}.B1[_ngcontent-%COMP%]{border-radius:5px;max-width:600px;width:100%;margin:2% auto;background-color:#fff;overflow:hidden}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}label[_ngcontent-%COMP%]{margin:10px 30px;font-size:20px;font-weight:500;color:#5e0707}h1[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:3px 3px 3px rgb(20,102,98);margin:50px 0 0}input[_ngcontent-%COMP%]{border-radius:0 5px 5px 0;border:5px solid rgb(126,185,182);width:75%;height:40px;margin:auto;font-size:20px;color:#252246;padding:0 15px}a[_ngcontent-%COMP%]{text-decoration:inherit}i[_ngcontent-%COMP%]{color:#555}.contentform[_ngcontent-%COMP%]{padding:40px 30px}.bouton-contact[_ngcontent-%COMP%]{background-color:#0b5033;color:#fff;text-align:center;width:100%;border:0;padding:17px 25px;border-radius:0 0 5px 5px;cursor:pointer;margin-top:40px;font-size:18px}.leftcontact[_ngcontent-%COMP%]{width:49.5%;float:left;border-right:1px dotted #CCC;box-sizing:border-box;padding:0 15px 0 0}.rightcontact[_ngcontent-%COMP%]{width:49.5%;float:right;margin-top:-30px;box-sizing:border-box;padding:0 0 0 15px}.card[_ngcontent-%COMP%]{width:50%;margin-left:auto;margin-right:auto;margin-top:50px}.card-body[_ngcontent-%COMP%]{background-image:url(https://img.freepik.com/foto-gratis/color-papel-pastel-rosa-morado-fondo-textura_60487-2457.jpg)}button[_ngcontent-%COMP%]{margin:20px}.card-header[_ngcontent-%COMP%]{color:#d3045a;font-size:30px;font-family:Georgia,Times New Roman,Times,serif}.nav-link[_ngcontent-%COMP%]{background-color:#0b5033;color:#fff}.mensa[_ngcontent-%COMP%]{background-color:#180b50;color:#fff;font-family:monospace;font-size:30px;margin:10% auto}.submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})(),wV=(()=>{class n{constructor(t){this.altasService=t,this.refrescarAltas=new d.vpe,this.message=""}ngOnInit(){this.message=""}OnChanges(){this.message="",this.currentAltas=Object.assign({},this.altas)}editarAlta(){this.altasService.update(this.currentAltas.key||"[]",{nombre:this.currentAltas.nombre,descipcion:this.currentAltas.descripcion,precio:this.currentAltas.precio,cantidad:this.currentAltas.cantida}).then(()=>this.message="The tutorial was updated successfully!").catch(i=>console.log(i))}delateAltas(){this.altasService.delate(this.currentAltas.key||"[]").then(()=>this.message="The tutorial was updated successfully!").catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-altas"]],inputs:{altas:"altas"},outputs:{refrescarAltas:"refrescarAltas"},decls:0,vars:0,template:function(t,i){},styles:[".edit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})();function CG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr",33),d.NdJ("click",function(){const r=d.CHM(t),s=r.$implicit,a=r.index;return d.oxw().configuAltas(s,a)}),d.TgZ(1,"td",34),d._uU(2),d.qZA(),d.TgZ(3,"td",35),d._uU(4),d.qZA(),d.TgZ(5,"td",34),d._uU(6),d.qZA(),d.TgZ(7,"td",36),d._uU(8),d.qZA(),d.TgZ(9,"td",34),d._uU(10),d.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.ekj("active",i==r.altaIndex),d.xp6(2),d.hij(" ",t.nombre,""),d.xp6(2),d.hij(" ",t.descripcion,""),d.xp6(2),d.Oqu(t.precio),d.xp6(2),d.hij(" ",t.cantida,""),d.xp6(2),d.Oqu(t.linea)}}function xG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",37)(1,"app-altas",38),d.NdJ("refrescarAltas",function(){return d.CHM(t),d.oxw().refrescarAltas()}),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(1),d.Q6J("tutorial",t.altaDeAl)}}function EG(n,e){1&n&&d._UZ(0,"div",39)}function IG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",40),d.NdJ("click",function(){const r=d.CHM(t),s=r.$implicit,a=r.index;return d.oxw().configuAltas(s,a)}),d.TgZ(1,"button",41),d._uU(2),d.qZA(),d.TgZ(3,"div",42)(4,"p",43),d._uU(5),d.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.ekj("active",i==r.altaIndex),d.xp6(2),d.hij(" ",t.nombre," "),d.xp6(3),d.Oqu(t.precio)}}function TG(n,e){if(1&n&&(d.TgZ(0,"div",49)(1,"h2",50)(2,"button",51),d._uU(3),d.qZA()()()),2&n){const t=d.oxw().$implicit;d.xp6(3),d.hij(" ",t.nombre," ")}}function DG(n,e){if(1&n&&(d.TgZ(0,"div",52)(1,"h2",53),d._uU(2,"Piezas"),d.qZA(),d.TgZ(3,"p",54),d._uU(4),d.qZA()()),2&n){const t=d.oxw().$implicit;d.xp6(4),d.Oqu(t.cantida)}}function AG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",44),d.NdJ("click",function(){const r=d.CHM(t),s=r.$implicit,a=r.index;return d.oxw().configuAltas(s,a)}),d.YNc(1,TG,4,1,"div",45),d.TgZ(2,"div",46)(3,"div",47),d.YNc(4,DG,5,1,"div",48),d.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.ekj("active",i==r.altaIndex),d.xp6(1),d.Q6J("ngIf","Mac"==t.descripcion),d.xp6(3),d.Q6J("ngIf","Mac"==t.descripcion)}}function SG(n,e){if(1&n&&(d.TgZ(0,"div",58),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.lnq(" ",t.nombre," , ",t.descripcion,", ",t.precio," ")}}function kG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",55),d.NdJ("click",function(){const r=d.CHM(t),s=r.$implicit,a=r.index;return d.oxw().configuAltas(s,a)}),d.TgZ(1,"div",39)(2,"div",56),d.YNc(3,SG,2,3,"div",57),d.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.ekj("active",i==r.altaIndex),d.xp6(3),d.Q6J("ngIf","rostro"==t.linea||"rostro"==t.linea)}}function MG(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",59),d.NdJ("click",function(){const r=d.CHM(t),s=r.$implicit,a=r.index;return d.oxw().configuAltas(s,a)}),d.TgZ(1,"div",52)(2,"h5",53),d._uU(3),d.qZA(),d.TgZ(4,"p",60),d._uU(5),d.qZA(),d.TgZ(6,"p",60),d._uU(7),d.qZA(),d.TgZ(8,"p",60),d._uU(9),d.qZA(),d.TgZ(10,"p",60),d._uU(11),d.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=d.oxw();d.ekj("active",i==r.altaIndex),d.xp6(3),d.Oqu(t.nombre),d.xp6(2),d.Oqu(t.descripcion),d.xp6(2),d.Oqu(t.precio),d.xp6(2),d.Oqu(t.cantida),d.xp6(2),d.Oqu(t.linea)}}let NG=(()=>{class n{constructor(t,i,r){this.altaService=t,this.authService=i,this.router=r,this.altaIndex=-1,this.Nombre="",this.message=""}ngOnInit(){this.recibirDatos()}refrescarAltas(){this.altaDeAl=void 0,this.altaIndex=-1}recibirDatos(){this.altaService.getAll().snapshotChanges().pipe((0,Pt.U)(t=>t.map(i=>Object.assign({id:i.payload.key},i.payload.val())))).subscribe(t=>{this.altas=t})}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/inicio"])})}SetActiveTutorial(t,i){this.altaDeAl=t,this.altaIndex=i}configuAltas(t,i){this.altaDeAl=t,this.altaIndex=i}eliminarTodo(){this.altaService.deleteAll().then(()=>this.refrescarAltas()).catch(t=>console.log(t))}OnChanges(){this.message=""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bN),d.Y36(bC),d.Y36(kr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-listas"]],decls:77,vars:7,consts:[[1,"table"],[1,"thead-dark"],[3,"active","click",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],["class","col-md",4,"ngIf"],["class","col",4,"ngIf"],["type","button","data-toggle","modal","data-target","#exampleModal","data-whatever","@mdo",1,"btn","btn-success","btn-lg"],["type","button","data-toggle","modal","data-target","#exampleModal2","data-whatever","@fat",1,"btn","btn-danger","btn-lg"],["type","button","data-toggle","modal","data-target","#exampleModal3","data-whatever","@getbootstrap",1,"btn","btn-info","btn-lg"],["type","button","data-toggle","modal","data-target","#exampleModal4","data-whatever","@getbootstrap",1,"btn","btn-dark","btn-lg"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"he"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],["id","ex1",1,"modal-body"],["class","btn-group",3,"active","click",4,"ngFor","ngForOf"],["id","exampleModal2","tabindex","-1","aria-labelledby","exampleModalLabel2","aria-hidden","true",1,"modal","fade"],[1,"he2"],["id","ex2",1,"modal-body"],["id","accordionExample",1,"accordion"],["class","card",3,"active","click",4,"ngFor","ngForOf"],["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"he3"],["id","ex3",1,"modal-body"],["id","btn2","data-toggle","collapse","href","#multiCollapseExample1","role","button","aria-expanded","false","aria-controls","multiCollapseExample1",1,"btn","btn-warning"],["class","row",3,"active","click",4,"ngFor","ngForOf"],["id","exampleModal4","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"he4"],["id","ex4",1,"modal-body"],["class","media",3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"wh"],[1,"table-success"],[1,"table-danger"],[1,"col-md"],[3,"tutorial","refrescarAltas"],[1,"col"],[1,"btn-group",3,"click"],["type","button","data-toggle","dropdown","aria-expanded","false",1,"btn","btn-info","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"card",3,"click"],["class","card-header","id","headingTwo","style","background: rgb(86, 4, 102);",4,"ngIf"],["id","collapseTwo","aria-labelledby","headingTwo","data-parent","#accordionExample",1,"collapse"],[1,"card-body",2,"background","rgb(8, 173, 132)"],["class","media-body",4,"ngIf"],["id","headingTwo",1,"card-header",2,"background","rgb(86, 4, 102)"],[1,"mb-0"],["id","nom","type","button","data-toggle","collapse","data-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","btn-link","btn-block","text-left","collapsed"],[1,"media-body"],[1,"mt-0"],["id","lis"],[1,"row",3,"click"],["id","multiCollapseExample1",1,"collapse","multi-collapse"],["class","card card-body",4,"ngIf"],[1,"card","card-body"],[1,"media",3,"click"],[1,"l1"]],template:function(t,i){1&t&&(d.TgZ(0,"h2"),d._uU(1," Listado de productos "),d.qZA(),d.TgZ(2,"table",0)(3,"thead",1)(4,"tr")(5,"th"),d._uU(6,"Nombre"),d.qZA(),d.TgZ(7,"th"),d._uU(8,"Marca "),d.qZA(),d.TgZ(9,"th"),d._uU(10,"Precio"),d.qZA(),d.TgZ(11,"th"),d._uU(12,"Cantidad"),d.qZA(),d.TgZ(13,"th"),d._uU(14,"Linea"),d.qZA()()(),d.TgZ(15,"tbody"),d.YNc(16,CG,11,7,"tr",2),d.qZA(),d.TgZ(17,"button",3),d.NdJ("click",function(){return i.eliminarTodo()}),d._uU(18,"Borra Todo"),d.qZA()(),d.YNc(19,xG,2,1,"div",4),d.YNc(20,EG,1,0,"div",5),d.TgZ(21,"button",6),d._uU(22,"Precios de Productos "),d.qZA(),d.TgZ(23,"button",7),d._uU(24,"Productos de la marca Mac "),d.qZA(),d.TgZ(25,"button",8),d._uU(26,"Productos de Rostro"),d.qZA(),d.TgZ(27,"button",9),d._uU(28,"Informacion "),d.qZA(),d.TgZ(29,"div",10)(30,"div",11)(31,"div",12)(32,"div",13)(33,"p",14),d._uU(34,"Precios delos Productos "),d.qZA(),d.TgZ(35,"button",15)(36,"span",16),d._uU(37,"\xd7"),d.qZA()()(),d.TgZ(38,"div",17),d.YNc(39,IG,6,4,"div",18),d.qZA()()()(),d.TgZ(40,"div",19)(41,"div",11)(42,"div",12)(43,"div",13)(44,"p",20),d._uU(45,"Productos de la marca Mac"),d.qZA(),d.TgZ(46,"button",15)(47,"span",16),d._uU(48,"\xd7"),d.qZA()()(),d.TgZ(49,"div",21)(50,"div",22),d.YNc(51,AG,5,4,"div",23),d.qZA()()()()(),d.TgZ(52,"div",24)(53,"div",11)(54,"div",12)(55,"div",13)(56,"p",25),d._uU(57,"Productos para el rostro "),d.qZA(),d.TgZ(58,"button",15)(59,"span",16),d._uU(60,"\xd7"),d.qZA()()(),d.TgZ(61,"div",26)(62,"p")(63,"a",27),d._uU(64,"Rostro"),d.qZA()(),d.YNc(65,kG,4,3,"div",28),d.qZA()()()(),d.TgZ(66,"div",29)(67,"div",11)(68,"div",12)(69,"div",13)(70,"p",30),d._uU(71,"Informacion de los productos "),d.qZA(),d.TgZ(72,"button",15)(73,"span",16),d._uU(74,"\xd7"),d.qZA()()(),d.TgZ(75,"div",31),d.YNc(76,MG,12,7,"div",32),d.qZA()()()()),2&t&&(d.xp6(16),d.Q6J("ngForOf",i.altas),d.xp6(3),d.Q6J("ngIf",i.altaDeAl),d.xp6(1),d.Q6J("ngIf",!i.altaDeAl),d.xp6(19),d.Q6J("ngForOf",i.altas),d.xp6(12),d.Q6J("ngForOf",i.altas),d.xp6(14),d.Q6J("ngForOf",i.altas),d.xp6(11),d.Q6J("ngForOf",i.altas))},directives:[hi,Di,wV],styles:['@import"https://fonts.googleapis.com/css2?family=Rubik+Bubbles&display=swap";table[_ngcontent-%COMP%]{width:70%;border-spacing:0;border-radius:1em;overflow:hidden;margin:auto}h2[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:3px 3px 3px rgb(20,102,98);margin:50px 0 0}.n1[_ngcontent-%COMP%]{text-align:center;color:#fff;text-shadow:3px 3px 3px rgb(20,102,98)}thead[_ngcontent-%COMP%]{background-color:#350a0c;color:#fff;text-align:center}.wh[_ngcontent-%COMP%]{background-color:#fff;font-size:20px;text-align:center;color:brown}.table-success[_ngcontent-%COMP%], .table-danger[_ngcontent-%COMP%]{font-size:20px;text-align:center;color:brown}.list[_ngcontent-%COMP%]{text-align:left;max-width:750px;margin:auto}.btn[_ngcontent-%COMP%]{margin:0 70px;font-family:monospace;color:#fff}#btn2[_ngcontent-%COMP%]{margin:0 20px}.btn-group[_ngcontent-%COMP%]{margin:10px}.he[_ngcontent-%COMP%]{font-family:Rubik Bubbles,cursive;-webkit-text-stroke:1px rgb(0,0,0);color:#d86100;font-size:40px;text-align:center;background:rgb(17,129,204)}#ex1[_ngcontent-%COMP%]{background:rgb(168,3,58)}.he2[_ngcontent-%COMP%]{font-family:Rubik Bubbles,cursive;-webkit-text-stroke:1px rgb(0,0,0);color:#00eb75;font-size:40px;text-align:center}#ex3[_ngcontent-%COMP%]{background:rgb(168,28,3)}.he3[_ngcontent-%COMP%]{font-family:Rubik Bubbles,cursive;-webkit-text-stroke:1px rgb(0,0,0);color:#00bceb;font-size:40px;text-align:center}#lis[_ngcontent-%COMP%], .mt-0[_ngcontent-%COMP%]{font-family:Reenie Beanie,cursive;color:#fff}#lis[_ngcontent-%COMP%]{font-size:30px}#ex4[_ngcontent-%COMP%]{background:rgb(3,168,53)}.he4[_ngcontent-%COMP%]{font-family:Rubik Bubbles,cursive;-webkit-text-stroke:1px rgb(0,0,0);color:#eb4300;font-size:40px;text-align:center}.l1[_ngcontent-%COMP%]{font-family:Rubik Bubbles,cursive;font-size:20px;color:#dc143c}']}),n})();class CV{}class xV{}class Cd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(u=>-1===s.indexOf(u)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RG{encodeKey(e){return EV(e)}encodeValue(e){return EV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OG=/%(\d[a-f0-9])/gi,LG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function EV(n){return encodeURIComponent(n).replace(OG,(e,t)=>{var i;return null!==(i=LG[t])&&void 0!==i?i:e})}function IV(n){return`${n}`}class Pf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,u]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],h=t.get(a)||[];h.push(u),t.set(a,h)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(IV(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(IV(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function DV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function AV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class wC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function VG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Cd),this.context||(this.context=new FG),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const u=t.indexOf("?");this.urlWithParams=t+(-1===u?"?":u<t.length-1?"&":"")+a}}else this.params=new Pf,this.urlWithParams=t}serializeBody(){return null===this.body?null:TV(this.body)||DV(this.body)||AV(this.body)||function BG(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AV(this.body)?null:DV(this.body)?this.body.type||null:TV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,_=e.params||this.params;const b=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((I,S)=>I.set(S,e.setHeaders[S]),g)),e.setParams&&(_=Object.keys(e.setParams).reduce((I,S)=>I.set(S,e.setParams[S]),_)),new wC(i,r,a,{params:_,headers:g,context:b,reportProgress:h,responseType:s,withCredentials:u})}}var Mr=(()=>((Mr=Mr||{})[Mr.Sent=0]="Sent",Mr[Mr.UploadProgress=1]="UploadProgress",Mr[Mr.ResponseHeader=2]="ResponseHeader",Mr[Mr.DownloadProgress=3]="DownloadProgress",Mr[Mr.Response=4]="Response",Mr[Mr.User=5]="User",Mr))();class wN{constructor(e,t=200,i="OK"){this.headers=e.headers||new Cd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CN extends wN{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new CN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class h1 extends wN{constructor(e={}){super(e),this.type=Mr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new h1({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class SV extends wN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let EN=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof wC)s=t;else{let h,g;h=r.headers instanceof Cd?r.headers:new Cd(r.headers),r.params&&(g=r.params instanceof Pf?r.params:new Pf({fromObject:r.params})),s=new wC(t,i,void 0!==r.body?r.body:null,{headers:h,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=qt(s).pipe(e0(h=>this.handler.handle(h)));if(t instanceof wC||"events"===r.observe)return a;const u=a.pipe(ir(h=>h instanceof h1));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe((0,Pt.U)(h=>{if(null!==h.body&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return u.pipe((0,Pt.U)(h=>{if(null!==h.body&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return u.pipe((0,Pt.U)(h=>{if(null!==h.body&&"string"!=typeof h.body)throw new Error("Response is not a string.");return h.body}));default:return u.pipe((0,Pt.U)(h=>h.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Pf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xN(r,i))}post(t,i,r={}){return this.request("POST",t,xN(r,i))}put(t,i,r={}){return this.request("PUT",t,xN(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(CV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class kV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const MV=new d.OlP("HTTP_INTERCEPTORS");let UG=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const jG=/^\)\]\}',?\n/;let NV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((S,P)=>r.setRequestHeader(S,P.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const S=t.detectContentTypeHeader();null!==S&&r.setRequestHeader("Content-Type",S)}if(t.responseType){const S=t.responseType.toLowerCase();r.responseType="json"!==S?S:"text"}const s=t.serializeBody();let a=null;const u=()=>{if(null!==a)return a;const S=r.statusText||"OK",P=new Cd(r.getAllResponseHeaders()),U=function HG(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new CN({headers:P,status:r.status,statusText:S,url:U}),a},h=()=>{let{headers:S,status:P,statusText:U,url:J}=u(),le=null;204!==P&&(le=void 0===r.response?r.responseText:r.response),0===P&&(P=le?200:0);let Te=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof le){const He=le;le=le.replace(jG,"");try{le=""!==le?JSON.parse(le):null}catch(Ne){le=He,Te&&(Te=!1,le={error:Ne,text:le})}}Te?(i.next(new h1({body:le,headers:S,status:P,statusText:U,url:J||void 0})),i.complete()):i.error(new SV({error:le,headers:S,status:P,statusText:U,url:J||void 0}))},g=S=>{const{url:P}=u(),U=new SV({error:S,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error(U)};let _=!1;const b=S=>{_||(i.next(u()),_=!0);let P={type:Mr.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),"text"===t.responseType&&!!r.responseText&&(P.partialText=r.responseText),i.next(P)},I=S=>{let P={type:Mr.UploadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),i.next(P)};return r.addEventListener("load",h),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),t.reportProgress&&(r.addEventListener("progress",b),null!==s&&r.upload&&r.upload.addEventListener("progress",I)),r.send(s),i.next({type:Mr.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",h),r.removeEventListener("timeout",g),t.reportProgress&&(r.removeEventListener("progress",b),null!==s&&r.upload&&r.upload.removeEventListener("progress",I)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const IN=new d.OlP("XSRF_COOKIE_NAME"),TN=new d.OlP("XSRF_HEADER_NAME");class RV{}let zG=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(W),d.LFG(d.Lbi),d.LFG(IN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),DN=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(RV),d.LFG(TN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),WG=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(MV,[]);this.chain=i.reduceRight((r,s)=>new kV(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xV),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),$G=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:DN,useClass:UG}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:IN,useValue:t.cookieName}:[],t.headerName?{provide:TN,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[DN,{provide:MV,useExisting:DN,multi:!0},{provide:RV,useClass:zG},{provide:IN,useValue:"XSRF-TOKEN"},{provide:TN,useValue:"X-XSRF-TOKEN"}]}),n})(),GG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[EN,{provide:CV,useClass:WG},NV,{provide:xV,useExisting:NV}],imports:[[$G.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var AN=R(5876);const qG=["qrcElement"];let ZG=(()=>{class n{constructor(t,i){this.renderer=t,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new d.vpe,this.context=null}ngOnChanges(){return(0,pN.mG)(this,void 0,void 0,function*(){yield this.createQRCode()})}isValidQrCodeText(t){return!1===this.allowEmptyString?!(void 0===t||""===t||"null"===t||null===t):void 0!==t}toDataURL(t){return new Promise((i,r)=>{AN.hz(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}toCanvas(t,i){return new Promise((r,s)=>{AN.rT(t,this.qrdata,i,a=>{a?s(a):r("success")})})}toSVG(t){return new Promise((i,r)=>{AN.toString(this.qrdata,t,(s,a)=>{s?r(s):i(a)})})}renderElement(t){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){return(0,pN.mG)(this,void 0,void 0,function*(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" ");const t={color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:this.elementType,version:this.version,width:this.width},i=this.imageSrc,r=this.imageHeight||40,s=this.imageWidth||40;switch(this.elementType){case"canvas":const a=this.renderer.createElement("canvas");this.context=a.getContext("2d"),this.toCanvas(a,t).then(()=>{if(this.ariaLabel&&this.renderer.setAttribute(a,"aria-label",`${this.ariaLabel}`),this.title&&this.renderer.setAttribute(a,"title",`${this.title}`),i&&this.context){this.centerImage=new Image(s,r),i!==this.centerImage.src&&(this.centerImage.src=i),r!==this.centerImage.height&&(this.centerImage.height=r),s!==this.centerImage.width&&(this.centerImage.width=s);const g=this.centerImage;g&&(g.onload=()=>{var _;null===(_=this.context)||void 0===_||_.drawImage(g,a.width/2-s/2,a.height/2-r/2,s,r)})}this.renderElement(a),this.emitQRCodeURL(a)}).catch(g=>{console.error("[angularx-qrcode] canvas error:",g)});break;case"svg":const u=this.renderer.createElement("div");this.toSVG(t).then(g=>{this.renderer.setProperty(u,"innerHTML",g);const _=u.firstChild;this.renderer.setAttribute(_,"height",`${this.width}`),this.renderer.setAttribute(_,"width",`${this.width}`),this.renderElement(_),this.emitQRCodeURL(_)}).catch(g=>{console.error("[angularx-qrcode] svg error:",g)});break;default:const h=this.renderer.createElement("img");this.toDataURL(t).then(g=>{this.alt&&h.setAttribute("alt",this.alt),this.ariaLabel&&h.setAttribute("aria-label",this.ariaLabel),h.setAttribute("src",g),this.title&&h.setAttribute("title",this.title),this.renderElement(h),this.emitQRCodeURL(h)}).catch(g=>{console.error("[angularx-qrcode] img/url error:",g)})}}catch(t){console.error("[angularx-qrcode] Error generating QR Code:",t.message)}})}emitQRCodeURL(t){const i=t.constructor.name;if(i===SVGSVGElement.name){const a=new Blob([t.outerHTML],{type:"image/svg+xml"}),u=URL.createObjectURL(a),h=this.sanitizer.bypassSecurityTrustUrl(u);return void this.qrCodeURL.emit(h)}let r="";i===HTMLCanvasElement.name&&(r=t.toDataURL("image/png")),i===HTMLImageElement.name&&(r=t.src),fetch(r).then(s=>s.blob()).then(s=>URL.createObjectURL(s)).then(s=>this.sanitizer.bypassSecurityTrustUrl(s)).then(s=>{this.qrCodeURL.emit(s)}).catch(s=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+s)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(wl))},n.\u0275cmp=d.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(t,i){if(1&t&&d.Gf(qG,7),2&t){let r;d.iGM(r=d.CRH())&&(i.qrcElement=r.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[d.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,i){1&t&&d._UZ(0,"div",null,0),2&t&&d.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),n})(),KG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[]}),n})(),YG=(()=>{class n{constructor(t,i,r){this.httpclient=t,this.authService=i,this.router=r,this.qr=""}generador(){this.httpclient.get("http://localhost:3000/generador").subscribe(t=>{console.log(t);const i=JSON.stringify(t);this.qr=i,this.qr=this.qr.replace(/"|{|}|:|alea/g,"")})}ngOnInit(){}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/inicio"])})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(EN),d.Y36(bC),d.Y36(kr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-explora"]],decls:61,vars:4,consts:[[1,"text-center"],[1,"card-deck"],[1,"card"],["src","https://www.biutest.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBNTFjQVE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--722e5fb120f062f595a7bd8ed94848088b08f5c2/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VWTI5dFltbHVaVjl2Y0hScGIyNXpld2M2QzNKbGMybDZaVWtpRGpFd09EQjRNVEE0TUFZNkJrVlVPaEJoZFhSdlgyOXlhV1Z1ZEZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--42e0115a75c26f0b6ece3e3def39043901b5543f/unnamed%20(4).jpg","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],["src","https://www.biutest.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBNXhjQVE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--801cad7fd033d54cf4660daaab85ada82c2519a7/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VWTI5dFltbHVaVjl2Y0hScGIyNXpld2M2QzNKbGMybDZaVWtpRGpFd09EQjRNVEE0TUFZNkJrVlVPaEJoZFhSdlgyOXlhV1Z1ZEZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--42e0115a75c26f0b6ece3e3def39043901b5543f/unnamed%20(3).jpg","alt","...",1,"card-img-top"],["src","https://www.biutest.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBNXRjQVE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--ecc59cf87e88003a4789fa4444de5932b9d89123/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VWTI5dFltbHVaVjl2Y0hScGIyNXpld2M2QzNKbGMybDZaVWtpRGpFd09EQjRNVEE0TUFZNkJrVlVPaEJoZFhSdlgyOXlhV1Z1ZEZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--42e0115a75c26f0b6ece3e3def39043901b5543f/unnamed%20(2).jpg","alt","...",1,"card-img-top"],["src","https://www.biutest.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBNXBjQVE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--1449c0cc7ea0a757d92f014657867793c20e4f69/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VWTI5dFltbHVaVjl2Y0hScGIyNXpld2M2QzNKbGMybDZaVWtpRGpFd09EQjRNVEE0TUFZNkJrVlVPaEJoZFhSdlgyOXlhV1Z1ZEZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--42e0115a75c26f0b6ece3e3def39043901b5543f/unnamed%20(1).jpg","alt","...",1,"card-img-top"],["src","https://www.biutest.com/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBNWxjQVE9PSIsImV4cCI6bnVsbCwicHVyIjoiYmxvYl9pZCJ9fQ==--879be210938dbfa01a321de30cc6503838c83932/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VWTI5dFltbHVaVjl2Y0hScGIyNXpld2M2QzNKbGMybDZaVWtpRGpFd09EQjRNVEE0TUFZNkJrVlVPaEJoZFhSdlgyOXlhV1Z1ZEZRPSIsImV4cCI6bnVsbCwicHVyIjoidmFyaWF0aW9uIn19--42e0115a75c26f0b6ece3e3def39043901b5543f/unnamed.jpg","alt","...",1,"card-img-top"],[1,"boto"],[1,"btn","btn-prmary",3,"click"],[3,"qrdata","width","errorCorrectionLevel"],["routerLink","/grafica",1,"btn","btn-prmary"]],template:function(t,i){1&t&&(d.TgZ(0,"h1",0),d._uU(1,"5 Marcas mexicanas de maquillaje "),d.qZA(),d.TgZ(2,"div",1)(3,"div",2),d._UZ(4,"img",3),d.TgZ(5,"div",4)(6,"h5",5),d._uU(7,"1. AHAL"),d.qZA(),d.TgZ(8,"p",6),d._uU(9,"Nace cuando su fundadora, la Ingeniera Qu\xedmica Liliana Loza, al estudiar la formulaci\xf3n cosm\xe9tica se percat\xf3 del uso de qu\xedmicos innecesarios en los productos comerciales. Este hecho la llev\xf3 a explorar en ingredientes alternativos de origen natural enfocados en herbolaria y soporte cient\xedfico. Fue as\xed como surgi\xf3 Ahal, significando \u201cdespertar en maya\u201d, una l\xednea mexicana de alta cosm\xe9tica 100% org\xe1nica y libre de maltrato animal. Se rigen bajo el mantra: \u201cLa piel saludable siempre tiende al equilibrio\u201d y sus productos tienen el m\xednimo impacto ambiental y prestan atenci\xf3n al comercio justo. Su compromiso es con la belleza natural de la piel."),d.qZA(),d.TgZ(10,"p",6)(11,"small",7),d._uU(12,"Los Color Stick de AHAL est\xe1n formulados con Aceite de Marula y Tapioca que iluminan y reducen irritaciones"),d.qZA()()()(),d.TgZ(13,"div",2),d._UZ(14,"img",8),d.TgZ(15,"div",4)(16,"h5",5),d._uU(17,"2.CEIBA"),d.qZA(),d.TgZ(18,"p",6),d._uU(19,"Apasionados por la salud, la cosm\xe9tica y el medio ambiente, esta marca se preocupa por desarrollar productos que sean efectivos, libres de crueldad animal y formulados con ingredientes seguros. Prestan especial atenci\xf3n en la transparencia en las etiquetas y la mayor parte de sus ingredientes son org\xe1nicos o con certificaci\xf3n ECOCERT. Sus empaques son m\xednimos, biodegradables, reciclables o reutilizables y adem\xe1s buscan dejar una huella positiva al donar un porcentaje de sus ventas a la conservaci\xf3n de bosques y selvas en M\xe9xico."),d.qZA(),d.TgZ(20,"p",6)(21,"small",7),d._uU(22,"Los tonos de Lip & Cheek de CEIBA son ideales para crear un look natural y se pueden combinar para crear un tono nuevo y \xfanico."),d.qZA()()()(),d.TgZ(23,"div",2),d._UZ(24,"img",9),d.TgZ(25,"div",4)(26,"h5",5),d._uU(27,"3. Pai Pai"),d.qZA(),d.TgZ(28,"p",6),d._uU(29,"Pai Pai es una marca mexicana de cosm\xe9ticos que fusiona el arte y la belleza en productos naturales y art\xedsticos, cool y coloridos. Su nombre proviene del grupo ind\xedgena paipai, que significa gente viva, ubicado en Santa Catarina en Ensenada, Baja California. Sus empaques son tanto art\xedsticos como divertidos, y lo mejor de todo es que son reciclables y buscan reducir la generaci\xf3n de desperdicios"),d.qZA(),d.TgZ(30,"p",6)(31,"small",7),d._uU(32,"La variedad de productos de Pai Pai incluye lipsticks, esmaltes, sombras y m\xe1s"),d.qZA()()()(),d.TgZ(33,"div",2),d._UZ(34,"img",10),d.TgZ(35,"div",4)(36,"h5",5),d._uU(37,"4. XIX\xc4NTH\xc9"),d.qZA(),d.TgZ(38,"p",6),d._uU(39,"Es una marca comprometida con el bienestar de las personas y el cuidado del planeta. Se dedican a elaborar cosm\xe9tica natural y artesanal utilizando ingredientes naturales y org\xe1nicos de la mejor calidad. Utilizan extractos naturales en productos de uso diario, libres de qu\xedmicos y han dise\xf1ado y perfeccionado sus f\xf3rmulas para ofrecer alternativas ecol\xf3gicas y naturales. Su concepto de sustentabilidad va m\xe1s all\xe1 con los m\xfaltiples usos que tienen la mayor\xeda de sus productos, pues se pueden reemplazar varios con un s\xf3lo producto y de esta manera generamos menos basura."),d.qZA(),d.TgZ(40,"p",6)(41,"small",7),d._uU(42,"Los Tinte Multiusos de XIX\xc4NTH\xc9 se pueden utilizar en ojos, mejillas y labios y son s\xfaper ves\xe1tiles."),d.qZA()()()(),d.TgZ(43,"div",2),d._UZ(44,"img",11),d.TgZ(45,"div",4)(46,"h5",5),d._uU(47,"5. MACR\xc9"),d.qZA(),d.TgZ(48,"p",6),d._uU(49,"Es una firma de cosm\xe9ticos los cuales brindan una alternativa saludable y confiable para quienes se preocupan por el impacto ambiental de lo que consumen. Sus productos son 100% ecol\xf3gicos, ya que monitorean y son responsables de todos los desechos que resulten de sus acciones; los insumos que utilizan son inspeccionados meticulosamente por un control de calidad y se aseguran que cada producto terminado ofrezca la mejor calidad y f\xf3rmulas limpias de acuerdo a lo que llaman Qu\xedmica Verde, que combina la ciencia y la tecnolog\xeda con el conocimiento ancestral de la herbolaria mexicana y los beneficios de los ingredientes org\xe1nicos.."),d.qZA(),d.TgZ(50,"p",6)(51,"small",7),d._uU(52,"El Maquillaje L\xedquido de MACR\xc9 tiene una gran variedad de tonos y adem\xe1s cuida y nutre la piel."),d.qZA()()()()(),d.TgZ(53,"div",12)(54,"button",13),d.NdJ("click",function(){return i.generador()}),d._uU(55,"Generar QR"),d.qZA(),d._UZ(56,"qrcode",14),d.TgZ(57,"h2"),d._uU(58),d.qZA()(),d.TgZ(59,"button",15),d._uU(60,"Generar grafica"),d.qZA()),2&t&&(d.xp6(56),d.Q6J("qrdata",i.qr)("width",260)("errorCorrectionLevel","M"),d.xp6(2),d.hij("Es el url de: ",i.qr,""))},directives:[ZG,fm],styles:['@import"https://fonts.googleapis.com/css2?family=Goldman&family=Indie+Flower&family=Press+Start+2P&display=swap";@import"https://fonts.googleapis.com/css2?family=Diplomata+SC&family=Goldman&family=Indie+Flower&family=Press+Start+2P&display=swap";h1[_ngcontent-%COMP%]{font-family:Goldman,cursive;font-family:Indie Flower,cursive;font-family:"Press Start 2P",cursive;-webkit-text-stroke:2px rgb(0,0,0);color:#03d2e0;background-color:#0f8}button[_ngcontent-%COMP%]{background-color:#fa7e93;margin-top:15px;width:150px;margin-bottom:15px}.boto[_ngcontent-%COMP%]{width:60%;margin:auto;text-align:center;color:#fff;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}button[_ngcontent-%COMP%]:hover{background-color:#fa7e93a4;font-weight:bolder;color:#fff;width:180px;height:50px}.card-title[_ngcontent-%COMP%]{font-family:Diplomata SC,cursive;font-family:Goldman,cursive;font-family:Indie Flower,cursive;font-family:"Press Start 2P",cursive;color:#092b9e}.card-img-top[_ngcontent-%COMP%]{background:rgb(248,118,57)}img[_ngcontent-%COMP%]{height:400px}p[_ngcontent-%COMP%]{color:#080808;font-family:Times New Roman,Times,serif}.card-body[_ngcontent-%COMP%]{background-color:#78c1ce}.card[_ngcontent-%COMP%]{margin:30px}']}),n})();var SN=R(7550);let QG=(()=>{class n{constructor(t){this.httpclient=t,this.datos=new oa({email:new ts("cihuatl.makeup@gmail.com"),mail:new ts("",[Ys.required,Ys.email]),name:new ts("",Ys.required),message:new ts("",Ys.required),asunto:new ts("",Ys.required)})}enviocorreo(){SN.Loading.standard("Cargando...");let t={email:this.datos.value.email,mail:this.datos.value.mail,name:this.datos.value.name,message:this.datos.value.message,asunto:this.datos.value.asunto};console.log(t),this.httpclient.post("http://localhost:3000/",t).subscribe(i=>{SN.Loading.remove(),SN.Notify.success("Enviado Correctamente.")})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(EN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-contacto"]],decls:16,vars:1,consts:[[1,"contact_form"],[1,"formulario"],["id","formu",3,"formGroup"],["type","text","placeholder","Name","formControlName","name",1,"form-control"],["type","text","placeholder","Asunto","formControlName","asunto",1,"form-control"],["type","email","placeholder","Mail","formControlName","mail",1,"form-control"],["name","message","placeholder","Mensaje","formControlName","message",1,"form-control"],[1,"btn","btn-prmary",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h1"),d._uU(3,"Formulario de contacto"),d.qZA(),d.TgZ(4,"h3"),d._uU(5,"Escr\xedbenos y en breve los pondremos en contacto contigo"),d.qZA(),d.TgZ(6,"form",2),d._UZ(7,"input",3)(8,"br")(9,"input",4)(10,"br")(11,"input",5)(12,"br")(13,"textarea",6),d.TgZ(14,"button",7),d.NdJ("click",function(){return i.enviocorreo()}),d._uU(15,"Enviar"),d.qZA()()()()),2&t&&(d.xp6(6),d.Q6J("formGroup",i.datos))},directives:[y,jr,vc,_r,es,Va],styles:[".formulario[_ngcontent-%COMP%]{width:60%;background-color:#ffebcd8a;margin:30px auto auto;border-radius:25px;text-align:center;padding:20px}h1[_ngcontent-%COMP%]{color:#fff}.form-control[_ngcontent-%COMP%]{width:60%;margin:auto}button[_ngcontent-%COMP%]{background-color:#fa7e93;margin-top:15px;width:150px}button[_ngcontent-%COMP%]:hover{background-color:#fa7e93a4;font-weight:bolder;color:#fff;width:180px;height:50px}"]}),n})();const PV="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function OV(n,e,t){const i=t||(a=>Array.prototype.slice.call(a));let r=!1,s=[];return function(...a){s=i(a),r||(r=!0,PV.call(window,()=>{r=!1,n.apply(e,s)}))}}const kN=n=>"start"===n?"left":"end"===n?"right":"center",Os=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function xd(){}const e9=function(){let n=0;return function(){return n++}}();function Jn(n){return null==n}function Ii(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Un(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const gr=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function il(n,e){return gr(n)?n:e}function bn(n,e){return void 0===n?e:n}const LV=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ti(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function ii(n,e,t,i){let r,s,a;if(Ii(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(Un(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)e.call(t,n[a[r]],a[r])}function f1(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function p1(n){if(Ii(n))return n.map(p1);if(Un(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=p1(n[t[r]]);return e}return n}function FV(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function n9(n,e,t,i){if(!FV(n))return;const r=e[n],s=t[n];Un(r)&&Un(s)?CC(r,s,i):e[n]=p1(s)}function CC(n,e,t){const i=Ii(e)?e:[e],r=i.length;if(!Un(n))return n;const s=(t=t||{}).merger||n9;for(let a=0;a<r;++a){if(!Un(e=i[a]))continue;const u=Object.keys(e);for(let h=0,g=u.length;h<g;++h)s(u[h],n,e,t)}return n}function xC(n,e){return CC(n,e,{merger:i9})}function i9(n,e,t){if(!FV(n))return;const i=e[n],r=t[n];Un(i)&&Un(r)?xC(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=p1(r))}function VV(n,e){const t=n.indexOf(".",e);return-1===t?n.length:t}function Of(n,e){if(""===e)return n;let t=0,i=VV(e,t);for(;n&&i>t;)n=n[e.slice(t,i)],t=i+1,i=VV(e,t);return n}function MN(n){return n.charAt(0).toUpperCase()+n.slice(1)}const rl=n=>void 0!==n,Lf=n=>"function"==typeof n,BV=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},ji=Math.PI,mi=2*ji,a9=mi+ji,g1=Number.POSITIVE_INFINITY,l9=ji/180,ar=ji/2,EC=ji/4,UV=2*ji/3,sl=Math.log10,eu=Math.sign;function jV(n){const e=Math.round(n);n=TC(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(sl(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function IC(n){return!isNaN(parseFloat(n))&&isFinite(n)}function TC(n,e,t){return Math.abs(n-e)<t}function HV(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Zl(n){return n*(ji/180)}function NN(n){return n*(180/ji)}function zV(n){if(!gr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function WV(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*ji&&(s+=mi),{angle:s,distance:r}}function RN(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function d9(n,e){return(n-e+a9)%mi-ji}function va(n){return(n%mi+mi)%mi}function DC(n,e,t,i){const r=va(n),s=va(e),a=va(t),u=va(s-r),h=va(a-r),g=va(r-s),_=va(r-a);return r===s||r===a||i&&s===a||u>h&&g<_}function cs(n,e,t){return Math.max(e,Math.min(t,n))}function Ed(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}const m1=n=>0===n||1===n,$V=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*mi/t),GV=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*mi/t)+1,AC={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*ar),easeOutSine:n=>Math.sin(n*ar),easeInOutSine:n=>-.5*(Math.cos(ji*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>m1(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>m1(n)?n:$V(n,.075,.3),easeOutElastic:n=>m1(n)?n:GV(n,.075,.3),easeInOutElastic:n=>m1(n)?n:n<.5?.5*$V(2*n,.1125,.45):.5+.5*GV(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-AC.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*AC.easeInBounce(2*n):.5*AC.easeOutBounce(2*n-1)+.5};function SC(n){return n+.5|0}const Ff=(n,e,t)=>Math.max(Math.min(n,t),e);function kC(n){return Ff(SC(2.55*n),0,255)}function Vf(n){return Ff(SC(255*n),0,255)}function Id(n){return Ff(SC(n/2.55)/100,0,1)}function qV(n){return Ff(SC(100*n),0,100)}const ol={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},PN=[..."0123456789ABCDEF"],f9=n=>PN[15&n],p9=n=>PN[(240&n)>>4]+PN[15&n],y1=n=>(240&n)>>4==(15&n);const v9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZV(n,e,t){const i=e*Math.min(t,1-t),r=(s,a=(s+n/30)%12)=>t-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function b9(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function w9(n,e,t){const i=ZV(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function ON(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),a=Math.min(t,i,r),u=(s+a)/2;let h,g,_;return s!==a&&(_=s-a,g=u>.5?_/(2-s-a):_/(s+a),h=function C9(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}(t,i,r,_,s),h=60*h+.5),[0|h,g||0,u]}function LN(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Vf)}function FN(n,e,t){return LN(ZV,n,e,t)}function KV(n){return(n%360+360)%360}const YV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},QV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let _1;const k9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,VN=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,a0=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function v1(n,e,t){if(n){let i=ON(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=FN(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function JV(n,e){return n&&Object.assign(e||{},n)}function XV(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Vf(n[3]))):(e=JV(n,{r:0,g:0,b:0,a:1})).a=Vf(e.a),e}function P9(n){return"r"===n.charAt(0)?function M9(n){const e=k9.exec(n);let i,r,s,t=255;if(e){if(e[7]!==i){const a=+e[7];t=e[8]?kC(a):Ff(255*a,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?kC(i):Ff(i,0,255)),r=255&(e[4]?kC(r):Ff(r,0,255)),s=255&(e[6]?kC(s):Ff(s,0,255)),{r:i,g:r,b:s,a:t}}}(n):function I9(n){const e=v9.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?kC(+e[5]):Vf(+e[5]));const r=KV(+e[2]),s=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function x9(n,e,t){return LN(w9,n,e,t)}(r,s,a):"hsv"===e[1]?function E9(n,e,t){return LN(b9,n,e,t)}(r,s,a):FN(r,s,a),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class b1{constructor(e){if(e instanceof b1)return e;const t=typeof e;let i;"object"===t?i=XV(e):"string"===t&&(i=function m9(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*ol[n[1]],g:255&17*ol[n[2]],b:255&17*ol[n[3]],a:5===e?17*ol[n[4]]:255}:(7===e||9===e)&&(t={r:ol[n[1]]<<4|ol[n[2]],g:ol[n[3]]<<4|ol[n[4]],b:ol[n[5]]<<4|ol[n[6]],a:9===e?ol[n[7]]<<4|ol[n[8]]:255})),t}(e)||function S9(n){_1||(_1=function A9(){const n={},e=Object.keys(QV),t=Object.keys(YV);let i,r,s,a,u;for(i=0;i<e.length;i++){for(a=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,YV[s]);s=parseInt(QV[a],16),n[u]=[s>>16&255,s>>8&255,255&s]}return n}(),_1.transparent=[0,0,0,0]);const e=_1[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||P9(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=JV(this._rgb);return e&&(e.a=Id(e.a)),e}set rgb(e){this._rgb=XV(e)}rgbString(){return this._valid?function N9(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Id(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function _9(n){var e=(n=>y1(n.r)&&y1(n.g)&&y1(n.b)&&y1(n.a))(n)?f9:p9;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function D9(n){if(!n)return;const e=ON(n),t=e[0],i=qV(e[1]),r=qV(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Id(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,u=2*a-1,h=i.a-r.a,g=((u*h==-1?u:(u+h)/(1+u*h))+1)/2;s=1-g,i.r=255&g*i.r+s*r.r+.5,i.g=255&g*i.g+s*r.g+.5,i.b=255&g*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function R9(n,e,t){const i=a0(Id(n.r)),r=a0(Id(n.g)),s=a0(Id(n.b));return{r:Vf(VN(i+t*(a0(Id(e.r))-i))),g:Vf(VN(r+t*(a0(Id(e.g))-r))),b:Vf(VN(s+t*(a0(Id(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new b1(this.rgb)}alpha(e){return this._rgb.a=Vf(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=SC(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return v1(this._rgb,2,e),this}darken(e){return v1(this._rgb,2,-e),this}saturate(e){return v1(this._rgb,1,e),this}desaturate(e){return v1(this._rgb,1,-e),this}rotate(e){return function T9(n,e){var t=ON(n);t[0]=KV(t[0]+e),t=FN(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function eB(n){return new b1(n)}function tB(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function nB(n){return tB(n)?n:eB(n)}function BN(n){return tB(n)?n:eB(n).saturate(.5).darken(.1).hexString()}const gm=Object.create(null),UN=Object.create(null);function MC(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function jN(n,e,t){return"string"==typeof e?CC(MC(n,e),t):CC(MC(n,""),e)}var On=new class O9{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>BN(i.backgroundColor),this.hoverBorderColor=(t,i)=>BN(i.borderColor),this.hoverColor=(t,i)=>BN(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return jN(this,e,t)}get(e){return MC(this,e)}describe(e,t){return jN(UN,e,t)}override(e,t){return jN(gm,e,t)}route(e,t,i,r){const s=MC(this,e),a=MC(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],g=a[r];return Un(h)?Object.assign({},g,h):bn(h,g)},set(h){this[u]=h}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function w1(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function F9(n,e,t,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let a=0;const u=t.length;let h,g,_,b,I;for(h=0;h<u;h++)if(b=t[h],null!=b&&!0!==Ii(b))a=w1(n,r,s,a,b);else if(Ii(b))for(g=0,_=b.length;g<_;g++)I=b[g],null!=I&&!Ii(I)&&(a=w1(n,r,s,a,I));n.restore();const S=s.length/2;if(S>t.length){for(h=0;h<S;h++)delete r[s[h]];s.splice(0,S)}return a}function mm(n,e,t){const i=n.currentDevicePixelRatio,r=0!==t?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function iB(n,e){(e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function C1(n,e,t,i){let r,s,a,u,h;const g=e.pointStyle,_=e.rotation,b=e.radius;let I=(_||0)*l9;if(g&&"object"==typeof g&&(r=g.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(t,i),n.rotate(I),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void n.restore();if(!(isNaN(b)||b<=0)){switch(n.beginPath(),g){default:n.arc(t,i,b,0,mi),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(I)*b,i-Math.cos(I)*b),I+=UV,n.lineTo(t+Math.sin(I)*b,i-Math.cos(I)*b),I+=UV,n.lineTo(t+Math.sin(I)*b,i-Math.cos(I)*b),n.closePath();break;case"rectRounded":h=.516*b,u=b-h,s=Math.cos(I+EC)*u,a=Math.sin(I+EC)*u,n.arc(t-s,i-a,h,I-ji,I-ar),n.arc(t+a,i-s,h,I-ar,I),n.arc(t+s,i+a,h,I,I+ar),n.arc(t-a,i+s,h,I+ar,I+ji),n.closePath();break;case"rect":if(!_){u=Math.SQRT1_2*b,n.rect(t-u,i-u,2*u,2*u);break}I+=EC;case"rectRot":s=Math.cos(I)*b,a=Math.sin(I)*b,n.moveTo(t-s,i-a),n.lineTo(t+a,i-s),n.lineTo(t+s,i+a),n.lineTo(t-a,i+s),n.closePath();break;case"crossRot":I+=EC;case"cross":s=Math.cos(I)*b,a=Math.sin(I)*b,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a),n.moveTo(t+a,i-s),n.lineTo(t-a,i+s);break;case"star":s=Math.cos(I)*b,a=Math.sin(I)*b,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a),n.moveTo(t+a,i-s),n.lineTo(t-a,i+s),I+=EC,s=Math.cos(I)*b,a=Math.sin(I)*b,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a),n.moveTo(t+a,i-s),n.lineTo(t-a,i+s);break;case"line":s=Math.cos(I)*b,a=Math.sin(I)*b,n.moveTo(t-s,i-a),n.lineTo(t+s,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(I)*b,i+Math.sin(I)*b)}n.fill(),e.borderWidth>0&&n.stroke()}}function NC(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function x1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function E1(n){n.restore()}function V9(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if("middle"===r){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===r!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function B9(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function ym(n,e,t,i,r,s={}){const a=Ii(e)?e:[e],u=s.strokeWidth>0&&""!==s.strokeColor;let h,g;for(n.save(),n.font=r.string,function U9(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Jn(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),h=0;h<a.length;++h)g=a[h],u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Jn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,t,i,s.maxWidth)),n.fillText(g,t,i,s.maxWidth),j9(n,t,i,g,s),i+=r.lineHeight;n.restore()}function j9(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,g=t+s.actualBoundingBoxDescent,_=r.strikethrough?(h+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,_),n.lineTo(u,_),n.stroke()}}function RC(n,e){const{x:t,y:i,w:r,h:s,radius:a}=e;n.arc(t+a.topLeft,i+a.topLeft,a.topLeft,-ar,ji,!0),n.lineTo(t,i+s-a.bottomLeft),n.arc(t+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,ji,ar,!0),n.lineTo(t+r-a.bottomRight,i+s),n.arc(t+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,ar,0,!0),n.lineTo(t+r,i+a.topRight),n.arc(t+r-a.topRight,i+a.topRight,a.topRight,0,-ar,!0),n.lineTo(t+a.topLeft,i)}const H9=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),z9=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function W9(n,e){const t=(""+n).match(H9);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const $9=n=>+n||0;function HN(n,e){const t={},i=Un(e),r=i?Object.keys(e):e,s=Un(n)?i?a=>bn(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of r)t[a]=$9(s(a));return t}function rB(n){return HN(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _m(n){return HN(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ls(n){const e=rB(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qr(n,e){let t=bn((n=n||{}).size,(e=e||On.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=bn(n.style,e.style);i&&!(""+i).match(z9)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:bn(n.family,e.family),lineHeight:W9(bn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:bn(n.weight,e.weight),string:""};return r.string=function L9(n){return!n||Jn(n.size)||Jn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function PC(n,e,t,i){let s,a,u,r=!0;for(s=0,a=n.length;s<a;++s)if(u=n[s],void 0!==u&&(void 0!==e&&"function"==typeof u&&(u=u(e),r=!1),void 0!==t&&Ii(u)&&(u=u[t%u.length],r=!1),void 0!==u))return i&&!r&&(i.cacheable=!1),u}function Bf(n,e){return Object.assign(Object.create(n),e)}function zN(n,e,t){t=t||(a=>n[a]<e);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const Td=(n,e,t)=>zN(n,t,i=>n[i][e]<t),q9=(n,e,t)=>zN(n,t,i=>n[i][e]>=t),sB=["push","pop","shift","splice","unshift"];function oB(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),!(i.length>0)&&(sB.forEach(s=>{delete n[s]}),delete n._chartjs)}function aB(n){const e=new Set;let t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}function WN(n,e=[""],t=n,i,r=(()=>n[0])){rl(i)||(i=hB("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:r,override:a=>WN([a,...n],e,t,i)};return new Proxy(s,{deleteProperty:(a,u)=>(delete a[u],delete a._keys,delete n[0][u],!0),get:(a,u)=>cB(a,u,()=>function i7(n,e,t,i){let r;for(const s of e)if(r=hB(Y9(s,n),t),rl(r))return $N(n,r)?GN(t,i,n,r):r}(u,e,n,a)),getOwnPropertyDescriptor:(a,u)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],u),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,u)=>fB(a).includes(u),ownKeys:a=>fB(a),set(a,u,h){const g=a._storage||(a._storage=r());return a[u]=g[u]=h,delete a._keys,!0}})}function l0(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:lB(n,i),setContext:s=>l0(n,s,t,i),override:s=>l0(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,u)=>cB(s,a,()=>function Q9(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let u=i[e];return Lf(u)&&a.isScriptable(e)&&(u=function J9(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);return u.add(n),e=e(s,a||i),u.delete(n),$N(n,e)&&(e=GN(r._scopes,r,n,e)),e}(e,u,n,t)),Ii(u)&&u.length&&(u=function X9(n,e,t,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:u}=t;if(rl(s.index)&&i(n))e=e[s.index%e.length];else if(Un(e[0])){const h=e,g=r._scopes.filter(_=>_!==h);e=[];for(const _ of h){const b=GN(g,r,n,_);e.push(l0(b,s,a&&a[n],u))}}return e}(e,u,n,a.isIndexable)),$N(e,u)&&(u=l0(u,r,s&&s[e],a)),u}(s,a,u)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,u)=>(n[a]=u,delete s[a],!0)})}function lB(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:Lf(t)?t:()=>t,isIndexable:Lf(i)?i:()=>i}}const Y9=(n,e)=>n?n+MN(e):e,$N=(n,e)=>Un(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function cB(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const i=t();return n[e]=i,i}function uB(n,e,t){return Lf(n)?n(e,t):n}const e7=(n,e)=>!0===n?e:"string"==typeof n?Of(e,n):void 0;function t7(n,e,t,i,r){for(const s of e){const a=e7(t,s);if(a){n.add(a);const u=uB(a._fallback,t,r);if(rl(u)&&u!==t&&u!==i)return u}else if(!1===a&&rl(i)&&t!==i)return null}return!1}function GN(n,e,t,i){const r=e._rootScopes,s=uB(e._fallback,t,i),a=[...n,...r],u=new Set;u.add(i);let h=dB(u,a,t,s||t,i);return!(null===h||rl(s)&&s!==t&&(h=dB(u,a,s,h,i),null===h))&&WN(Array.from(u),[""],r,s,()=>function n7(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return Ii(r)&&Un(t)?t:r}(e,t,i))}function dB(n,e,t,i,r){for(;t;)t=t7(n,e,t,i,r);return t}function hB(n,e){for(const t of e){if(!t)continue;const i=t[n];if(rl(i))return i}}function fB(n){let e=n._keys;return e||(e=n._keys=function r7(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function pB(n,e,t,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let u,h,g,_;for(u=0,h=i;u<h;++u)g=u+t,_=e[g],a[u]={r:r.parse(Of(_,s),g)};return a}const s7=Number.EPSILON||1e-14,c0=(n,e)=>e<n.length&&!n[e].skip&&n[e],gB=n=>"x"===n?"y":"x";function o7(n,e,t,i){const r=n.skip?e:n,s=e,a=t.skip?e:t,u=RN(s,r),h=RN(a,s);let g=u/(u+h),_=h/(u+h);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const b=i*g,I=i*_;return{previous:{x:s.x-b*(a.x-r.x),y:s.y-b*(a.y-r.y)},next:{x:s.x+I*(a.x-r.x),y:s.y+I*(a.y-r.y)}}}function I1(n,e,t){return Math.max(Math.min(n,t),e)}function d7(n,e,t,i,r){let s,a,u,h;if(e.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===e.cubicInterpolationMode)!function c7(n,e="x"){const t=gB(e),i=n.length,r=Array(i).fill(0),s=Array(i);let a,u,h,g=c0(n,0);for(a=0;a<i;++a)if(u=h,h=g,g=c0(n,a+1),h){if(g){const _=g[e]-h[e];r[a]=0!==_?(g[t]-h[t])/_:0}s[a]=u?g?eu(r[a-1])!==eu(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function a7(n,e,t){const i=n.length;let r,s,a,u,h,g=c0(n,0);for(let _=0;_<i-1;++_)if(h=g,g=c0(n,_+1),h&&g){if(TC(e[_],0,s7)){t[_]=t[_+1]=0;continue}r=t[_]/e[_],s=t[_+1]/e[_],u=Math.pow(r,2)+Math.pow(s,2),!(u<=9)&&(a=3/Math.sqrt(u),t[_]=r*a*e[_],t[_+1]=s*a*e[_])}})(n,r,s),function l7(n,e,t="x"){const i=gB(t),r=n.length;let s,a,u,h=c0(n,0);for(let g=0;g<r;++g){if(a=u,u=h,h=c0(n,g+1),!u)continue;const _=u[t],b=u[i];a&&(s=(_-a[t])/3,u[`cp1${t}`]=_-s,u[`cp1${i}`]=b-s*e[g]),h&&(s=(h[t]-_)/3,u[`cp2${t}`]=_+s,u[`cp2${i}`]=b+s*e[g])}}(n,s,e)}(n,r);else{let g=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)u=n[s],h=o7(g,u,n[Math.min(s+1,a-(i?0:1))%a],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,g=u}e.capBezierPoints&&function u7(n,e){let t,i,r,s,a,u=NC(n[0],e);for(t=0,i=n.length;t<i;++t)a=s,s=u,u=t<i-1&&NC(n[t+1],e),s&&(r=n[t],a&&(r.cp1x=I1(r.cp1x,e.left,e.right),r.cp1y=I1(r.cp1y,e.top,e.bottom)),u&&(r.cp2x=I1(r.cp2x,e.left,e.right),r.cp2y=I1(r.cp2y,e.top,e.bottom)))}(n,t)}function mB(){return"undefined"!=typeof window&&"undefined"!=typeof document}function qN(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function T1(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const D1=n=>window.getComputedStyle(n,null),f7=["top","right","bottom","left"];function vm(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=f7[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function bm(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=D1(t),s="border-box"===r.boxSizing,a=vm(r,"padding"),u=vm(r,"border","width"),{x:h,y:g,box:_}=function g7(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let u,h,a=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(r,s,n.target))u=r,h=s;else{const g=e.getBoundingClientRect();u=i.clientX-g.left,h=i.clientY-g.top,a=!0}return{x:u,y:h,box:a}}(n,t),b=a.left+(_&&u.left),I=a.top+(_&&u.top);let{width:S,height:P}=e;return s&&(S-=a.width+u.width,P-=a.height+u.height),{x:Math.round((h-b)/S*t.width/i),y:Math.round((g-I)/P*t.height/i)}}const ZN=n=>Math.round(10*n)/10;function yB(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const _7=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return n}();function _B(n,e){const t=function h7(n,e){return D1(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wm(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function v7(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function b7(n,e,t,i){const r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=wm(n,r,t),u=wm(r,s,t),h=wm(s,e,t),g=wm(a,u,t),_=wm(u,h,t);return wm(g,_,t)}const vB=new Map;function OC(n,e,t){return function w7(n,e){e=e||{};const t=n+JSON.stringify(e);let i=vB.get(t);return i||(i=new Intl.NumberFormat(n,e),vB.set(t,i)),i}(e,t).format(n)}function u0(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function bB(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function wB(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function CB(n){return"angle"===n?{between:DC,compare:d9,normalize:va}:{between:Ed,compare:(e,t)=>e-t,normalize:e=>e}}function xB({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:r}}function EB(n,e,t){if(!t)return[n];const{property:i,start:r,end:s}=t,a=e.length,{compare:u,between:h,normalize:g}=CB(i),{start:_,end:b,loop:I,style:S}=function E7(n,e,t){const{property:i,start:r,end:s}=t,{between:a,normalize:u}=CB(i),h=e.length;let I,S,{start:g,end:_,loop:b}=n;if(b){for(g+=h,_+=h,I=0,S=h;I<S&&a(u(e[g%h][i]),r,s);++I)g--,_--;g%=h,_%=h}return _<g&&(_+=h),{start:g,end:_,loop:b,style:n.style}}(n,e,t),P=[];let le,Te,He,U=!1,J=null;for(let Dt=_,Lt=_;Dt<=b;++Dt)Te=e[Dt%a],!Te.skip&&(le=g(Te[i]),le!==He&&(U=h(le,r,s),null===J&&(U||h(r,He,le)&&0!==u(r,He))&&(J=0===u(le,r)?Dt:Lt),null!==J&&(!U||0===u(s,le)||h(s,He,le))&&(P.push(xB({start:J,end:Dt,loop:I,count:a,style:S})),J=null),Lt=Dt,He=le));return null!==J&&P.push(xB({start:J,end:b,loop:I,count:a,style:S})),P}function IB(n,e){const t=[],i=n.segments;for(let r=0;r<i.length;r++){const s=EB(i[r],n.points,e);s.length&&t.push(...s)}return t}function DB(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function S7(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var Dd=new class k7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const a=t.duration;t.listeners[r].forEach(u=>u({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(i-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=PV.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let h,a=s.length-1,u=!1;for(;a>=0;--a)h=s[a],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(s[a]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const AB="transparent",M7={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=nB(n||AB),r=i.valid&&nB(e||AB);return r&&r.valid?r.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class N7{constructor(e,t,i,r){const s=t[i];r=PC([e.to,r,s,e.from]);const a=PC([e.from,s,r]);this._active=!0,this._fn=e.fn||M7[e.type||typeof a],this._easing=AC[e.easing]||AC.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=PC([e.to,t,r,e.from]),this._from=PC([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,u=this._to;let h;if(this._active=s!==u&&(a||t<i),!this._active)return this._target[r]=u,void this._notify(!0);t<0?this._target[r]=s:(h=t/i%2,h=a&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,u,h))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}On.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const O7=Object.keys(On.animation);On.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),On.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),On.describe("animations",{_fallback:"animation"}),On.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class SB{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Un(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Un(r))return;const s={};for(const a of O7)s[a]=r[a];(Ii(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!t.has(a))&&t.set(a,s)})})}_animateOptions(e,t){const i=t.options,r=function F7(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function L7(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),u=Date.now();let h;for(h=a.length-1;h>=0;--h){const g=a[h];if("$"===g.charAt(0))continue;if("options"===g){r.push(...this._animateOptions(e,t));continue}const _=t[g];let b=s[g];const I=i.get(g);if(b){if(I&&b.active()){b.update(I,_,u);continue}b.cancel()}I&&I.duration?(s[g]=b=new N7(I,e,g,_),r.push(b)):e[g]=_}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(Dd.add(this._chart,i),!0):void 0}}function kB(n,e){const t=n&&n.options||{},i=t.reverse,r=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:r,end:i?r:s}}function MB(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function NB(n,e,t,i={}){const r=n.keys,s="single"===i.mode;let a,u,h,g;if(null!==e){for(a=0,u=r.length;a<u;++a){if(h=+r[a],h===t){if(i.all)continue;break}g=n.values[h],gr(g)&&(s||0===e||eu(e)===eu(g))&&(e+=g)}return e}}function RB(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function z7(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function PB(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function OB(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:u}=i,h=s.axis,g=a.axis,_=function j7(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,a,i),b=e.length;let I;for(let S=0;S<b;++S){const P=e[S],{[h]:U,[g]:J}=P;I=(P._stacks||(P._stacks={}))[g]=z7(r,_,U),I[u]=J,I._top=PB(I,a,!0,i.type),I._bottom=PB(I,a,!1,i.type)}}function KN(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function LC(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t]}}}const YN=n=>"reset"===n||"none"===n,LB=(n,e)=>e?n:Object.assign({},n);let Ad=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=RB(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&LC(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(I,S,P,U)=>"x"===I?S:"r"===I?U:P,a=i.xAxisID=bn(r.xAxisID,KN(t,"x")),u=i.yAxisID=bn(r.yAxisID,KN(t,"y")),h=i.rAxisID=bn(r.rAxisID,KN(t,"r")),g=i.indexAxis,_=i.iAxisID=s(g,a,u,h),b=i.vAxisID=s(g,u,a,h);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(u),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(_),i.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oB(this._data,this),t._stacked&&LC(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(Un(i))this._data=function U7(n){const e=Object.keys(n),t=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],t[i]={x:s,y:n[s]};return t}(i);else if(r!==i){if(r){oB(r,this);const s=this._cachedMeta;LC(s),s._parsed=[]}i&&Object.isExtensible(i)&&function K9(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sB.forEach(t=>{const i="_onData"+MN(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{"function"==typeof u[i]&&u[i](...s)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=i._stacked;i._stacked=RB(i.vScale,i),i.stack!==r.stack&&(s=!0,LC(i),i.stack=r.stack),this._resyncElements(t),(s||a!==i._stacked)&&OB(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:u}=r,h=a.axis;let b,I,S,g=0===t&&i===s.length||r._sorted,_=t>0&&r._parsed[t-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,S=s;else{S=Ii(s[t])?this.parseArrayData(r,s,t,i):Un(s[t])?this.parseObjectData(r,s,t,i):this.parsePrimitiveData(r,s,t,i);const P=()=>null===I[h]||_&&I[h]<_[h];for(b=0;b<i;++b)r._parsed[b+t]=I=S[b],g&&(P()&&(g=!1),_=I);r._sorted=g}u&&OB(this,S)}parsePrimitiveData(t,i,r,s){const{iScale:a,vScale:u}=t,h=a.axis,g=u.axis,_=a.getLabels(),b=a===u,I=new Array(s);let S,P,U;for(S=0,P=s;S<P;++S)U=S+r,I[S]={[h]:b||a.parse(_[U],U),[g]:u.parse(i[U],U)};return I}parseArrayData(t,i,r,s){const{xScale:a,yScale:u}=t,h=new Array(s);let g,_,b,I;for(g=0,_=s;g<_;++g)b=g+r,I=i[b],h[g]={x:a.parse(I[0],b),y:u.parse(I[1],b)};return h}parseObjectData(t,i,r,s){const{xScale:a,yScale:u}=t,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,_=new Array(s);let b,I,S,P;for(b=0,I=s;b<I;++b)S=b+r,P=i[S],_[b]={x:a.parse(Of(P,h),S),y:u.parse(Of(P,g),S)};return _}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){const a=this._cachedMeta,u=i[t.axis];return NB({keys:MB(this.chart,!0),values:i._stacks[t.axis]},u,a.index,{mode:r})}updateRangeFromParsed(t,i,r,s){const a=r[i.axis];let u=null===a?NaN:a;const h=s&&r._stacks[i.axis];s&&h&&(s.values=h,u=NB(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,i){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&t===r.iScale,u=s.length,h=this._getOtherScale(t),g=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:MB(this.chart,!0),values:null})(i,r),_={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:I}=function H7(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}(h);let S,P;function U(){P=s[S];const J=P[h.axis];return!gr(P[t.axis])||b>J||I<J}for(S=0;S<u&&(U()||(this.updateRangeFromParsed(_,t,P,g),!a));++S);if(a)for(S=u-1;S>=0;--S)if(!U()){this.updateRangeFromParsed(_,t,P,g);break}return _}getAllParsedValues(t){const i=this._cachedMeta._parsed,r=[];let s,a,u;for(s=0,a=i.length;s<a;++s)u=i[s][t.axis],gr(u)&&r.push(u);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,r=i.iScale,s=i.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=function B7(n){let e,t,i,r;return Un(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:!1===n}}(bn(this.options.clip,function V7(n,e,t){if(!1===t)return!1;const i=kB(n,t),r=kB(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,r=this._cachedMeta,s=r.data||[],a=this.chart.chartArea,u=[],h=this._drawStart||0,g=this._drawCount||s.length-h,_=this.options.drawActiveElementsOnTop;let b;for(r.dataset&&r.dataset.draw(t,a,h,g),b=h;b<h+g;++b){const I=s[b];I.hidden||(I.active&&_?u.push(I):I.draw(t,a))}for(b=0;b<u.length;++b)u[b].draw(t,a)}getStyle(t,i){const r=i?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];a=u.$context||(u.$context=function $7(n,e,t){return Bf(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),t,u)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=function W7(n,e){return Bf(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){const s="active"===i,a=this._cachedDataOpts,u=t+"-"+i,h=a[u],g=this.enableOptionSharing&&rl(r);if(h)return LB(h,g);const _=this.chart.config,b=_.datasetElementScopeKeys(this._type,t),I=s?[`${t}Hover`,"hover",t,""]:[t,""],S=_.getOptionScopes(this.getDataset(),b),P=Object.keys(On.elements[t]),J=_.resolveNamedOptions(S,P,()=>this.getContext(r,s),I);return J.$shared&&(J.$shared=g,a[u]=Object.freeze(LB(J,g))),J}_resolveAnimations(t,i,r){const s=this.chart,a=this._cachedDataOpts,u=`animation-${i}`,h=a[u];if(h)return h;let g;if(!1!==s.options.animation){const b=this.chart.config,I=b.datasetAnimationScopeKeys(this._type,i),S=b.getOptionScopes(this.getDataset(),I);g=b.createResolver(S,this.getContext(t,r,i))}const _=new SB(s,g&&g.animations);return g&&g._cacheable&&(a[u]=Object.freeze(_)),_}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||YN(t)||this.chart._animationsDisabled}updateElement(t,i,r,s){YN(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!YN(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;const a=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,r=this._cachedMeta.data;for(const[h,g,_]of this._syncList)this[h](g,_);this._syncList=[];const s=r.length,a=i.length,u=Math.min(a,s);u&&this.parse(0,u),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,i,r=!0){const s=this._cachedMeta,a=s.data,u=t+i;let h;const g=_=>{for(_.length+=i,h=_.length-1;h>=u;h--)_[h]=_[h-i]};for(g(a),h=t;h<u;++h)a[h]=new this.dataElementType;this._parsing&&g(s._parsed),this.parse(t,i),r&&this.updateElements(a,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,i);r._stacked&&LC(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function Z7(n){const e=n.iScale,t=function q7(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=aB(i.sort((r,s)=>r-s))}return n._cache.$bar}(e,n.type);let r,s,a,u,i=e._length;const h=()=>{32767===a||-32768===a||(rl(u)&&(i=Math.min(i,Math.abs(a-u)||i)),u=a)};for(r=0,s=t.length;r<s;++r)a=e.getPixelForValue(t[r]),h();for(u=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),h();return i}function FB(n,e,t,i){return Ii(n)?function Q7(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),a=Math.min(r,s),u=Math.max(r,s);let h=a,g=u;Math.abs(a)>Math.abs(u)&&(h=u,g=a),e[t.axis]=g,e._custom={barStart:h,barEnd:g,start:r,end:s,min:a,max:u}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function VB(n,e,t,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),u=r===s,h=[];let g,_,b,I;for(g=t,_=t+i;g<_;++g)I=e[g],b={},b[r.axis]=u||r.parse(a[g],g),h.push(FB(I,b,s,g));return h}function QN(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function eq(n,e,t,i){let r=e.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);const{start:a,end:u,reverse:h,top:g,bottom:_}=function X7(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}(n);"middle"===r&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=g:(t._bottom||0)===i?r=_:(s[BB(_,a,u,h)]=!0,r=g)),s[BB(r,a,u,h)]=!0,n.borderSkipped=s}function BB(n,e,t,i){return i?(n=function tq(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=UB(n,t,e)):n=UB(n,e,t),n}function UB(n,e,t){return"start"===n?e:"end"===n?t:n}function nq(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}Ad.prototype.datasetElementType=null,Ad.prototype.dataElementType=null;let jB=(()=>{class n extends Ad{parsePrimitiveData(t,i,r,s){return VB(t,i,r,s)}parseArrayData(t,i,r,s){return VB(t,i,r,s)}parseObjectData(t,i,r,s){const{iScale:a,vScale:u}=t,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,_="x"===a.axis?h:g,b="x"===u.axis?h:g,I=[];let S,P,U,J;for(S=r,P=r+s;S<P;++S)J=i[S],U={},U[a.axis]=a.parse(Of(J,_),S),I.push(FB(Of(J,b),U,u,S));return I}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);const a=r._custom;a&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:r,vScale:s}=i,a=this.getParsed(t),u=a._custom,h=QN(u)?"["+u.start+", "+u.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){const a="reset"===s,{index:u,_cachedMeta:{vScale:h}}=this,g=h.getBasePixel(),_=h.isHorizontal(),b=this._getRuler(),I=this.resolveDataElementOptions(i,s),S=this.getSharedOptions(I),P=this.includeOptions(s,S);this.updateSharedOptions(S,s,I);for(let U=i;U<i+r;U++){const J=this.getParsed(U),le=a||Jn(J[h.axis])?{base:g,head:g}:this._calculateBarValuePixels(U),Te=this._calculateBarIndexPixels(U,b),He=(J._stacks||{})[h.axis],Ne={horizontal:_,base:le.base,enableBorderRadius:!He||QN(J._custom)||u===He._top||u===He._bottom,x:_?le.head:Te.center,y:_?Te.center:le.head,height:_?Te.size:Math.abs(le.size),width:_?Math.abs(le.size):Te.size};P&&(Ne.options=S||this.resolveDataElementOptions(U,t[U].active?"active":s));const ke=Ne.options||t[U].options;eq(Ne,ke,He,u),nq(Ne,ke,b.ratio),this.updateElement(t[U],U,Ne,s)}}_getStacks(t,i){const s=this._cachedMeta.iScale,a=s.getMatchingVisibleMetas(this._type),u=s.options.stacked,h=a.length,g=[];let _,b;for(_=0;_<h;++_)if(b=a[_],b.controller.options.grouped){if(void 0!==i){const I=b.controller.getParsed(i)[b.controller._cachedMeta.vScale.axis];if(Jn(I)||isNaN(I))continue}if((!1===u||-1===g.indexOf(b.stack)||void 0===u&&void 0===b.stack)&&g.push(b.stack),b.index===t)break}return g.length||g.push(void 0),g}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){const s=this._getStacks(t,r),a=void 0!==i?s.indexOf(i):-1;return-1===a?s.length-1:a}_getRuler(){const t=this.options,i=this._cachedMeta,r=i.iScale,s=[];let a,u;for(a=0,u=i.data.length;a<u;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const h=t.barThickness;return{min:h||Z7(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:s,minBarLength:a}}=this,u=s||0,h=this.getParsed(t),g=h._custom,_=QN(g);let P,U,b=h[i.axis],I=0,S=r?this.applyStack(i,h,r):b;S!==b&&(I=S-b,S=b),_&&(b=g.barStart,S=g.barEnd-g.barStart,0!==b&&eu(b)!==eu(g.barEnd)&&(I=0),I+=b);const J=Jn(s)||_?I:s;let le=i.getPixelForValue(J);if(P=this.chart.getDataVisibility(t)?i.getPixelForValue(I+S):le,U=P-le,Math.abs(U)<a){U=function J7(n,e,t){return 0!==n?eu(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(U,i,u)*a,b===u&&(le-=U/2);const Te=i.getPixelForDecimal(0),He=i.getPixelForDecimal(1),Ne=Math.min(Te,He),ke=Math.max(Te,He);le=Math.max(Math.min(le,ke),Ne),P=le+U}if(le===i.getPixelForValue(u)){const Te=eu(U)*i.getLineWidthForValue(u)/2;le+=Te,U-=Te}return{size:U,base:le,head:P,center:P+U/2}}_calculateBarIndexPixels(t,i){const r=i.scale,s=this.options,a=s.skipNull,u=bn(s.maxBarThickness,1/0);let h,g;if(i.grouped){const _=a?this._getStackCount(t):i.stackCount,b="flex"===s.barThickness?function Y7(n,e,t,i){const r=e.pixels,s=r[n];let a=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;null===a&&(a=s-(null===u?e.end-e.start:u-s)),null===u&&(u=s+s-a);const g=s-(s-Math.min(a,u))/2*h;return{chunk:Math.abs(u-a)/2*h/i,ratio:t.barPercentage,start:g}}(t,i,s,_):function K7(n,e,t,i){const r=t.barThickness;let s,a;return Jn(r)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:e.pixels[n]-s/2}}(t,i,s,_),I=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);h=b.start+b.chunk*I+b.chunk/2,g=Math.min(u,b.chunk*b.ratio)}else h=r.getPixelForValue(this.getParsed(t)[r.axis],t),g=Math.min(u,i.min*i.ratio);return{base:h-g/2,head:h+g/2,center:h,size:g}}draw(){const t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[i.axis]&&r[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),HB=(()=>{class n extends Ad{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){const a=super.parsePrimitiveData(t,i,r,s);for(let u=0;u<a.length;u++)a[u]._custom=this.resolveDataElementOptions(u+r).radius;return a}parseArrayData(t,i,r,s){const a=super.parseArrayData(t,i,r,s);for(let u=0;u<a.length;u++)a[u]._custom=bn(i[r+u][2],this.resolveDataElementOptions(u+r).radius);return a}parseObjectData(t,i,r,s){const a=super.parseObjectData(t,i,r,s);for(let u=0;u<a.length;u++){const h=i[r+u];a[u]._custom=bn(h&&h.r&&+h.r,this.resolveDataElementOptions(u+r).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,{xScale:r,yScale:s}=i,a=this.getParsed(t),u=r.getLabelForValue(a.x),h=s.getLabelForValue(a.y),g=a._custom;return{label:i.label,value:"("+u+", "+h+(g?", "+g:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){const a="reset"===s,{iScale:u,vScale:h}=this._cachedMeta,g=this.resolveDataElementOptions(i,s),_=this.getSharedOptions(g),b=this.includeOptions(s,_),I=u.axis,S=h.axis;for(let P=i;P<i+r;P++){const U=t[P],J=!a&&this.getParsed(P),le={},Te=le[I]=a?u.getPixelForDecimal(.5):u.getPixelForValue(J[I]),He=le[S]=a?h.getBasePixel():h.getPixelForValue(J[S]);le.skip=isNaN(Te)||isNaN(He),b&&(le.options=this.resolveDataElementOptions(P,U.active?"active":s),a&&(le.options.radius=0)),this.updateElement(U,P,le,s)}this.updateSharedOptions(_,s,g)}resolveDataElementOptions(t,i){const r=this.getParsed(t);let s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==i&&(s.radius=0),s.radius+=bn(r&&r._custom,a),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),JN=(()=>{class n extends Ad{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let u,h,a=g=>+r[g];if(Un(r[t])){const{key:g="value"}=this._parsing;a=_=>+Of(r[_],g)}for(u=t,h=t+i;u<h;++u)s._parsed[u]=a(u)}}_getRotation(){return Zl(this.options.rotation-90)}_getCircumference(){return Zl(this.options.circumference)}_getRotationExtents(){let t=mi,i=-mi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),u=s._getCircumference();t=Math.min(t,a),i=Math.max(i,a+u)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,a=s.data,u=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-u)/2,0),g=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/e)(this.options.cutout,h),1),_=this._getRingWeight(this.index),{circumference:b,rotation:I}=this._getRotationExtents(),{ratioX:S,ratioY:P,offsetX:U,offsetY:J}=function iq(n,e,t){let i=1,r=1,s=0,a=0;if(e<mi){const u=n,h=u+e,g=Math.cos(u),_=Math.sin(u),b=Math.cos(h),I=Math.sin(h),S=(He,Ne,ke)=>DC(He,u,h,!0)?1:Math.max(Ne,Ne*t,ke,ke*t),P=(He,Ne,ke)=>DC(He,u,h,!0)?-1:Math.min(Ne,Ne*t,ke,ke*t),U=S(0,g,b),J=S(ar,_,I),le=P(ji,g,b),Te=P(ji+ar,_,I);i=(U-le)/2,r=(J-Te)/2,s=-(U+le)/2,a=-(J+Te)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(I,b,g),He=Math.max(Math.min((r.width-u)/S,(r.height-u)/P)/2,0),Ne=LV(this.options.radius,He),tt=(Ne-Math.max(Ne*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=U*Ne,this.offsetY=J*Ne,s.total=this.calculateTotal(),this.outerRadius=Ne-tt*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-tt*_,0),this.updateElements(a,0,a.length,t)}_circumference(t,i){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/mi)}updateElements(t,i,r,s){const a="reset"===s,u=this.chart,h=u.chartArea,b=(h.left+h.right)/2,I=(h.top+h.bottom)/2,S=a&&u.options.animation.animateScale,P=S?0:this.innerRadius,U=S?0:this.outerRadius,J=this.resolveDataElementOptions(i,s),le=this.getSharedOptions(J),Te=this.includeOptions(s,le);let Ne,He=this._getRotation();for(Ne=0;Ne<i;++Ne)He+=this._circumference(Ne,a);for(Ne=i;Ne<i+r;++Ne){const ke=this._circumference(Ne,a),tt=t[Ne],lt={x:b+this.offsetX,y:I+this.offsetY,startAngle:He,endAngle:He+ke,circumference:ke,outerRadius:U,innerRadius:P};Te&&(lt.options=le||this.resolveDataElementOptions(Ne,tt.active?"active":s)),He+=ke,this.updateElement(tt,Ne,lt,s)}this.updateSharedOptions(le,s,J)}calculateTotal(){const t=this._cachedMeta,i=t.data;let s,r=0;for(s=0;s<i.length;s++){const a=t._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?mi*(Math.abs(t)/i):0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],a=OC(this._cachedMeta._parsed[t],r.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let i=0;const r=this.chart;let s,a,u,h,g;if(!t)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){u=r.getDatasetMeta(s),t=u.data,h=u.controller;break}if(!t)return 0;for(s=0,a=t.length;s<a;++s)g=h.resolveDataElementOptions(s),"inner"!==g.borderAlign&&(i=Math.max(i,g.borderWidth||0,g.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(bn(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((r,s)=>{const u=e.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const i=": "+e.formattedValue;return Ii(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},n})(),XN=(()=>{class n extends Ad{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=i,u=this.chart._animationsDisabled;let{start:h,count:g}=function rq(n,e,t){const i=e.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:u}=n,h=a.axis,{min:g,max:_,minDefined:b,maxDefined:I}=a.getUserBounds();b&&(r=cs(Math.min(Td(u,a.axis,g).lo,t?i:Td(e,h,a.getPixelForValue(g)).lo),0,i-1)),s=I?cs(Math.max(Td(u,a.axis,_).hi+1,t?0:Td(e,h,a.getPixelForValue(_)).hi+1),r,i)-r:i-r}return{start:r,count:s}}(i,s,u);this._drawStart=h,this._drawCount=g,function sq(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}(i)&&(h=0,g=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const _=this.resolveDatasetElementOptions(t);this.options.showLine||(_.borderWidth=0),_.segment=this.options.segment,this.updateElement(r,void 0,{animated:!u,options:_},t),this.updateElements(s,h,g,t)}updateElements(t,i,r,s){const a="reset"===s,{iScale:u,vScale:h,_stacked:g,_dataset:_}=this._cachedMeta,b=this.resolveDataElementOptions(i,s),I=this.getSharedOptions(b),S=this.includeOptions(s,I),P=u.axis,U=h.axis,{spanGaps:J,segment:le}=this.options,Te=IC(J)?J:Number.POSITIVE_INFINITY,He=this.chart._animationsDisabled||a||"none"===s;let Ne=i>0&&this.getParsed(i-1);for(let ke=i;ke<i+r;++ke){const tt=t[ke],lt=this.getParsed(ke),Dt=He?tt:{},Lt=Jn(lt[U]),ri=Dt[P]=u.getPixelForValue(lt[P],ke),zn=Dt[U]=a||Lt?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,lt,g):lt[U],ke);Dt.skip=isNaN(ri)||isNaN(zn)||Lt,Dt.stop=ke>0&&Math.abs(lt[P]-Ne[P])>Te,le&&(Dt.parsed=lt,Dt.raw=_.data[ke]),S&&(Dt.options=I||this.resolveDataElementOptions(ke,tt.active?"active":s)),He||this.updateElement(tt,ke,Dt,s),Ne=lt}this.updateSharedOptions(I,s,b)}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),u=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),zB=(()=>{class n extends Ad{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const r=this.chart,s=r.data.labels||[],a=OC(this._cachedMeta._parsed[t].r,r.options.locale);return{label:s[t]||"",value:a}}parseObjectData(t,i,r,s){return pB.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(s/2,0),h=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=a-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,i,r,s){const a="reset"===s,u=this.chart,g=u.options.animation,_=this._cachedMeta.rScale,b=_.xCenter,I=_.yCenter,S=_.getIndexAngle(0)-.5*ji;let U,P=S;const J=360/this.countVisibleElements();for(U=0;U<i;++U)P+=this._computeAngle(U,s,J);for(U=i;U<i+r;U++){const le=t[U];let Te=P,He=P+this._computeAngle(U,s,J),Ne=u.getDataVisibility(U)?_.getDistanceFromCenterForValue(this.getParsed(U).r):0;P=He,a&&(g.animateScale&&(Ne=0),g.animateRotate&&(Te=He=S));const ke={x:b,y:I,innerRadius:0,outerRadius:Ne,startAngle:Te,endAngle:He,options:this.resolveDataElementOptions(U,le.active?"active":s)};this.updateElement(le,U,ke,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?Zl(this.resolveDataElementOptions(t,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((r,s)=>{const u=e.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),WB=(()=>{class n extends JN{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),$B=(()=>{class n extends Ad{getLabelAndValue(t){const i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return pB.bind(this)(t,i,r,s)}update(t){const i=this._cachedMeta,r=i.dataset,s=i.data||[],a=i.iScale.getLabels();if(r.points=s,"resize"!==t){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:u},t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){const a=this._cachedMeta.rScale,u="reset"===s;for(let h=i;h<i+r;h++){const g=t[h],_=this.resolveDataElementOptions(h,g.active?"active":s),b=a.getPointPositionForValue(h,this.getParsed(h).r),I=u?a.xCenter:b.x,S=u?a.yCenter:b.y,P={x:I,y:S,angle:b.angle,skip:isNaN(I)||isNaN(S),options:_};this.updateElement(g,h,P,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),GB=(()=>{class n extends XN{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})();function Cm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var aq={_date:(()=>{class n{constructor(t){this.options=t||{}}formats(){return Cm()}parse(t,i){return Cm()}format(t,i){return Cm()}add(t,i,r){return Cm()}diff(t,i,r){return Cm()}startOf(t,i,r){return Cm()}endOf(t,i){return Cm()}}return n.override=function(e){Object.assign(n.prototype,e)},n})()};function lq(n,e,t,i){const{controller:r,data:s,_sorted:a}=n,u=r._cachedMeta.iScale;if(u&&e===u.axis&&"r"!==e&&a&&s.length){const h=u._reversePixels?q9:Td;if(!i)return h(s,e,t);if(r._sharedOptions){const g=s[0],_="function"==typeof g.getRange&&g.getRange(e);if(_){const b=h(s,e,t-_),I=h(s,e,t+_);return{lo:b.lo,hi:I.hi}}}}return{lo:0,hi:s.length-1}}function FC(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let u=0,h=s.length;u<h;++u){const{index:g,data:_}=s[u],{lo:b,hi:I}=lq(s[u],e,a,r);for(let S=b;S<=I;++S){const P=_[S];P.skip||i(P,g,S)}}}function eR(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||FC(n,t,e,function(u,h,g){!r&&!NC(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:h,index:g})},!0),s}function tR(n,e,t,i,r,s){return s||n.isPointInArea(e)?"r"!==t||i?function dq(n,e,t,i,r,s){let a=[];const u=function cq(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,r){const s=e?Math.abs(i.x-r.x):0,a=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(t);let h=Number.POSITIVE_INFINITY;return FC(n,t,e,function g(_,b,I){const S=_.inRange(e.x,e.y,r);if(i&&!S)return;const P=_.getCenterPoint(r);if(!s&&!n.isPointInArea(P)&&!S)return;const J=u(e,P);J<h?(a=[{element:_,datasetIndex:b,index:I}],h=J):J===h&&a.push({element:_,datasetIndex:b,index:I})}),a}(n,e,t,i,r,s):function uq(n,e,t,i){let r=[];return FC(n,t,e,function s(a,u,h){const{startAngle:g,endAngle:_}=a.getProps(["startAngle","endAngle"],i),{angle:b}=WV(a,{x:e.x,y:e.y});DC(b,g,_)&&r.push({element:a,datasetIndex:u,index:h})}),r}(n,e,t,r):[]}function qB(n,e,t,i,r){const s=[],a="x"===t?"inXRange":"inYRange";let u=!1;return FC(n,t,e,(h,g,_)=>{h[a](e[t],r)&&(s.push({element:h,datasetIndex:g,index:_}),u=u||h.inRange(e.x,e.y,r))}),i&&!u?[]:s}var hq={evaluateInteractionItems:FC,modes:{index(n,e,t,i){const r=bm(e,n),s=t.axis||"x",a=t.includeInvisible||!1,u=t.intersect?eR(n,r,s,i,a):tR(n,r,s,!1,i,a),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=u[0].index,b=g.data[_];b&&!b.skip&&h.push({element:b,datasetIndex:g.index,index:_})}),h):[]},dataset(n,e,t,i){const r=bm(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let u=t.intersect?eR(n,r,s,i,a):tR(n,r,s,!1,i,a);if(u.length>0){const h=u[0].datasetIndex,g=n.getDatasetMeta(h).data;u=[];for(let _=0;_<g.length;++_)u.push({element:g[_],datasetIndex:h,index:_})}return u},point:(n,e,t,i)=>eR(n,bm(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>tR(n,bm(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>qB(n,bm(e,n),"x",t.intersect,i),y:(n,e,t,i)=>qB(n,bm(e,n),"y",t.intersect,i)}};const ZB=["left","top","right","bottom"];function VC(n,e){return n.filter(t=>t.pos===e)}function KB(n,e){return n.filter(t=>-1===ZB.indexOf(t.pos)&&t.box.axis===e)}function BC(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function YB(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function QB(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function yq(n,e,t,i){const{pos:r,box:s}=t,a=n.maxPadding;if(!Un(r)){t.size&&(n[r]-=t.size);const b=i[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?s.height:s.width),t.size=b.size/b.count,n[r]+=t.size}s.getPadding&&QB(a,s.getPadding());const u=Math.max(0,e.outerWidth-YB(a,n,"left","right")),h=Math.max(0,e.outerHeight-YB(a,n,"top","bottom")),g=u!==n.w,_=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:g,other:_}:{same:_,other:g}}function vq(n,e){const t=e.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}(n?["left","right"]:["top","bottom"])}function UC(n,e,t,i){const r=[];let s,a,u,h,g,_;for(s=0,a=n.length,g=0;s<a;++s){u=n[s],h=u.box,h.update(u.width||e.w,u.height||e.h,vq(u.horizontal,e));const{same:b,other:I}=yq(e,t,u,i);g|=b&&r.length,_=_||I,h.fullSize||r.push(u)}return g&&UC(r,e,t,i)||_}function A1(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function JB(n,e,t,i){const r=t.padding;let{x:s,y:a}=e;for(const u of n){const h=u.box,g=i[u.stack]||{count:1,placed:0,weight:1},_=u.stackWeight/g.weight||1;if(u.horizontal){const b=e.w*_,I=g.size||h.height;rl(g.start)&&(a=g.start),h.fullSize?A1(h,r.left,a,t.outerWidth-r.right-r.left,I):A1(h,e.left+g.placed,a,b,I),g.start=a,g.placed+=b,a=h.bottom}else{const b=e.h*_,I=g.size||h.width;rl(g.start)&&(s=g.start),h.fullSize?A1(h,s,r.top,I,t.outerHeight-r.bottom-r.top):A1(h,s,e.top+g.placed,I,b),g.start=s,g.placed+=b,s=h.right}}e.x=s,e.y=a}On.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Fs={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Ls(n.options.layout.padding),s=Math.max(e-r.width,0),a=Math.max(t-r.height,0),u=function mq(n){const e=function fq(n){const e=[];let t,i,r,s,a,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],({position:s,options:{stack:a,stackWeight:u=1}}=r),e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:u});return e}(n),t=BC(e.filter(g=>g.box.fullSize),!0),i=BC(VC(e,"left"),!0),r=BC(VC(e,"right")),s=BC(VC(e,"top"),!0),a=BC(VC(e,"bottom")),u=KB(e,"x"),h=KB(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(h).concat(a).concat(u),chartArea:VC(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:s.concat(a).concat(u)}}(n.boxes),h=u.vertical,g=u.horizontal;ii(n.boxes,U=>{"function"==typeof U.beforeLayout&&U.beforeLayout()});const _=h.reduce((U,J)=>J.box.options&&!1===J.box.options.display?U:U+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/_,hBoxMaxHeight:a/2}),I=Object.assign({},r);QB(I,Ls(i));const S=Object.assign({maxPadding:I,w:s,h:a,x:r.left,y:r.top},r),P=function gq(n,e){const t=function pq(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!ZB.includes(r))continue;const a=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,a,u;for(s=0,a=n.length;s<a;++s){u=n[s];const{fullSize:h}=u.box,g=t[u.stack],_=g&&u.stackWeight/g.weight;u.horizontal?(u.width=_?_*i:h&&e.availableWidth,u.height=r):(u.width=i,u.height=_?_*r:h&&e.availableHeight)}return t}(h.concat(g),b);UC(u.fullSize,S,b,P),UC(h,S,b,P),UC(g,S,b,P)&&UC(h,S,b,P),function _q(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(S),JB(u.leftAndTop,S,b,P),S.x+=S.w,S.y+=S.h,JB(u.rightAndBottom,S,b,P),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},ii(u.chartArea,U=>{const J=U.box;Object.assign(J,n.chartArea),J.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class XB{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class bq extends XB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const S1="$chartjs",wq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eU=n=>null===n||""===n,tU=!!_7&&{passive:!0};function Eq(n,e,t){n.canvas.removeEventListener(e,t,tU)}function k1(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Tq(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||k1(u.addedNodes,i),a=a&&!k1(u.removedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Dq(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const u of s)a=a||k1(u.removedNodes,i),a=a&&!k1(u.addedNodes,i);a&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const jC=new Map;let nU=0;function iU(){const n=window.devicePixelRatio;n!==nU&&(nU=n,jC.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function kq(n,e,t){const i=n.canvas,r=i&&qN(i);if(!r)return;const s=OV((u,h)=>{const g=r.clientWidth;t(u,h),g<r.clientWidth&&t()},window),a=new ResizeObserver(u=>{const h=u[0],g=h.contentRect.width,_=h.contentRect.height;0===g&&0===_||s(g,_)});return a.observe(r),function Aq(n,e){jC.size||window.addEventListener("resize",iU),jC.set(n,e)}(n,s),a}function nR(n,e,t){t&&t.disconnect(),"resize"===e&&function Sq(n){jC.delete(n),jC.size||window.removeEventListener("resize",iU)}(n)}function Mq(n,e,t){const i=n.canvas,r=OV(s=>{null!==n.ctx&&t(function Iq(n,e){const t=wq[n.type]||n.type,{x:i,y:r}=bm(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n,s=>{const a=s[0];return[a,a.offsetX,a.offsetY]});return function xq(n,e,t){n.addEventListener(e,t,tU)}(i,e,r),r}class Nq extends XB{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function Cq(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[S1]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",eU(r)){const s=_B(n,"width");void 0!==s&&(n.width=s)}if(eU(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=_B(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[S1])return!1;const i=t[S1].initial;["height","width"].forEach(s=>{const a=i[s];Jn(a)?t.removeAttribute(s):t.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[S1],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:Tq,detach:Dq,resize:kq}[t]||Mq)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];r&&(({attach:nR,detach:nR,resize:nR}[t]||Eq)(e,t,r),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return function y7(n,e,t,i){const r=D1(n),s=vm(r,"margin"),a=T1(r.maxWidth,n,"clientWidth")||g1,u=T1(r.maxHeight,n,"clientHeight")||g1,h=function m7(n,e,t){let i,r;if(void 0===e||void 0===t){const s=qN(n);if(s){const a=s.getBoundingClientRect(),u=D1(s),h=vm(u,"border","width"),g=vm(u,"padding");e=a.width-g.width-h.width,t=a.height-g.height-h.height,i=T1(u.maxWidth,s,"clientWidth"),r=T1(u.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||g1,maxHeight:r||g1}}(n,e,t);let{width:g,height:_}=h;if("content-box"===r.boxSizing){const b=vm(r,"border","width"),I=vm(r,"padding");g-=I.width+b.width,_-=I.height+b.height}return g=Math.max(0,g-s.width),_=Math.max(0,i?Math.floor(g/i):_-s.height),g=ZN(Math.min(g,a,h.maxWidth)),_=ZN(Math.min(_,u,h.maxHeight)),g&&!_&&(_=ZN(g/2)),{width:g,height:_}}(e,t,i,r)}isAttached(e){const t=qN(e);return!(!t||!t.isConnected)}}class Kl{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return IC(this.x)&&IC(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Kl.defaults={},Kl.defaultRoutes=void 0;const rU={values:n=>Ii(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const g=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),s=function Pq(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const a=sl(Math.abs(s)),u=Math.max(Math.min(-1*Math.floor(a),20),0),h={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),OC(n,i,h)},logarithmic(n,e,t){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(sl(n)));return 1===i||2===i||5===i?rU.numeric.call(this,n,e,t):""}};var M1={formatters:rU};function N1(n,e,t,i,r){const s=bn(i,0),a=Math.min(bn(r,n.length),n.length);let h,g,_,u=0;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),_=s;_<0;)u++,_=Math.round(s+u*t);for(g=Math.max(s,0);g<a;g++)g===_&&(e.push(n[g]),u++,_=Math.round(s+u*t))}On.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:M1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),On.route("scale.ticks","color","","color"),On.route("scale.grid","color","","borderColor"),On.route("scale.grid","borderColor","","borderColor"),On.route("scale.title","color","","color"),On.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),On.describe("scales",{_fallback:"scale"}),On.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const sU=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t;function oU(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function Hq(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,a=n._endPixel,u=1e-6;let g,h=n.getPixelForTick(r);if(!(t&&(g=1===i?Math.max(h-s,a-h):0===e?(n.getPixelForTick(1)-h)/2:(h-n.getPixelForTick(r-1))/2,h+=r<e?g:-g,h<s-u||h>a+u)))return h}function HC(n){return n.drawTicks?n.tickLength:0}function aU(n,e){if(!n.display)return 0;const t=qr(n.font,e),i=Ls(n.padding);return(Ii(n.text)?n.text.length:1)*t.lineHeight+i.height}function Gq(n,e,t){let i=kN(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class xm extends Kl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=il(e,Number.POSITIVE_INFINITY),t=il(t,Number.NEGATIVE_INFINITY),i=il(i,Number.POSITIVE_INFINITY),r=il(r,Number.NEGATIVE_INFINITY),{min:il(e,i),max:il(t,r),minDefined:gr(e),maxDefined:gr(t)}}getMinMax(e){let a,{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,g=u.length;h<g;++h)a=u[h].controller.getMinMax(this,e),r||(t=Math.min(t,a.min)),s||(i=Math.max(i,a.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:il(t,il(i,t)),max:il(i,il(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ti(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function G9(n,e,t){const{min:i,max:r}=n,s=LV(e,(r-i)/2),a=(u,h)=>t&&0===u?0:u+h;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?oU(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function Oq(n,e){const t=n.options.ticks,i=t.maxTicksLimit||function Lq(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),r=t.major.enabled?function Vq(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],s=r.length,a=r[0],u=r[s-1],h=[];if(s>i)return function Bq(n,e,t,i){let a,r=0,s=t[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(e.push(n[a]),r++,s=t[r*i])}(e,h,r,s/i),h;const g=function Fq(n,e,t){const i=function Uq(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),r=e.length/t;if(!i)return Math.max(r,1);const s=function c9(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}(i);for(let a=0,u=s.length-1;a<u;a++){const h=s[a];if(h>r)return h}return Math.max(r,1)}(r,e,i);if(s>0){let _,b;const I=s>1?Math.round((u-a)/(s-1)):null;for(N1(e,h,g,Jn(I)?0:a-I,a),_=0,b=s-1;_<b;_++)N1(e,h,g,r[_],r[_+1]);return N1(e,h,g,u,Jn(I)?e.length:u+I),h}return N1(e,h,g),h}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ti(this.options.afterUpdate,[this])}beforeSetDimensions(){Ti(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ti(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ti(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ti(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Ti(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Ti(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ti(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=this.ticks.length,r=t.minRotation||0,s=t.maxRotation;let u,h,g,a=r;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const _=this._getLabelSizes(),b=_.widest.width,I=_.highest.height,S=cs(this.chart.width-b,0,this.maxWidth);u=e.offset?this.maxWidth/i:S/(i-1),b+6>u&&(u=S/(i-(e.offset?.5:1)),h=this.maxHeight-HC(e.grid)-t.padding-aU(e.title,this.chart.options.font),g=Math.sqrt(b*b+I*I),a=NN(Math.min(Math.asin(cs((_.highest.height+6)/u,-1,1)),Math.asin(cs(h/g,-1,1))-Math.asin(cs(I/g,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Ti(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ti(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const h=aU(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=HC(s)+h):(e.height=this.maxHeight,e.width=HC(s)+h),i.display&&this.ticks.length){const{first:g,last:_,widest:b,highest:I}=this._getLabelSizes(),S=2*i.padding,P=Zl(this.labelRotation),U=Math.cos(P),J=Math.sin(P);u?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:J*b.width+U*I.height)+S):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:U*b.width+J*I.height)+S),this._calculatePadding(g,_,J,U)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:a},position:u}=this.options,h=0!==this.labelRotation,g="top"!==u&&"x"===this.axis;if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let I=0,S=0;h?g?(I=r*e.width,S=i*t.height):(I=i*e.height,S=r*t.width):"start"===s?S=t.width:"end"===s?I=e.width:"inner"!==s&&(I=e.width/2,S=t.width/2),this.paddingLeft=Math.max((I-_+a)*this.width/(this.width-_),0),this.paddingRight=Math.max((S-b+a)*this.width/(this.width-b),0)}else{let _=t.height/2,b=e.height/2;"start"===s?(_=0,b=e.height):"end"===s&&(_=t.height,b=0),this.paddingTop=_+a,this.paddingBottom=b+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ti(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)Jn(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=oU(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let g,_,b,I,S,P,U,J,le,Te,He,u=0,h=0;for(g=0;g<t;++g){if(I=e[g].label,S=this._resolveTickFontOptions(g),i.font=P=S.string,U=r[P]=r[P]||{data:{},gc:[]},J=S.lineHeight,le=Te=0,Jn(I)||Ii(I)){if(Ii(I))for(_=0,b=I.length;_<b;++_)He=I[_],!Jn(He)&&!Ii(He)&&(le=w1(i,U.data,U.gc,le,He),Te+=J)}else le=w1(i,U.data,U.gc,le,I),Te=J;s.push(le),a.push(Te),u=Math.max(le,u),h=Math.max(Te,h)}!function zq(n,e){ii(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}(r,t);const Ne=s.indexOf(u),ke=a.indexOf(h),tt=lt=>({width:s[lt]||0,height:a[lt]||0});return{first:tt(0),last:tt(t-1),widest:tt(Ne),highest:tt(ke),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function h9(n){return cs(n,-32768,32767)}(this._alignToPixels?mm(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function $q(n,e,t){return Bf(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function Wq(n,e){return Bf(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Zl(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,u=s?s.widest.width+a:0,h=s?s.highest.height+a:0;return this.isHorizontal()?h*i>u*r?u/i:h/r:h*r<u*i?h/i:u/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:a}=r,u=s.offset,h=this.isHorizontal(),_=this.ticks.length+(u?1:0),b=HC(s),I=[],S=s.setContext(this.getContext()),P=S.drawBorder?S.borderWidth:0,U=P/2,J=function(Nn){return mm(i,Nn,P)};let le,Te,He,Ne,ke,tt,lt,Dt,Lt,ri,zn,Wn;if("top"===a)le=J(this.bottom),tt=this.bottom-b,Dt=le-U,ri=J(e.top)+U,Wn=e.bottom;else if("bottom"===a)le=J(this.top),ri=e.top,Wn=J(e.bottom)-U,tt=le+U,Dt=this.top+b;else if("left"===a)le=J(this.right),ke=this.right-b,lt=le-U,Lt=J(e.left)+U,zn=e.right;else if("right"===a)le=J(this.left),Lt=e.left,zn=J(e.right)-U,ke=le+U,lt=this.left+b;else if("x"===t){if("center"===a)le=J((e.top+e.bottom)/2+.5);else if(Un(a)){const Nn=Object.keys(a)[0];le=J(this.chart.scales[Nn].getPixelForValue(a[Nn]))}ri=e.top,Wn=e.bottom,tt=le+U,Dt=tt+b}else if("y"===t){if("center"===a)le=J((e.left+e.right)/2);else if(Un(a)){const Nn=Object.keys(a)[0];le=J(this.chart.scales[Nn].getPixelForValue(a[Nn]))}ke=le-U,lt=ke-b,Lt=e.left,zn=e.right}const Nr=bn(r.ticks.maxTicksLimit,_),uo=Math.max(1,Math.ceil(_/Nr));for(Te=0;Te<_;Te+=uo){const Nn=s.setContext(this.getContext(Te)),yi=Nn.lineWidth,ex=Nn.color,Im=s.borderDash||[],tx=Nn.borderDashOffset,_0=Nn.tickWidth,Y1=Nn.tickColor,v0=Nn.tickBorderDash||[],nx=Nn.tickBorderDashOffset;He=Hq(this,Te,u),void 0!==He&&(Ne=mm(i,He,yi),h?ke=lt=Lt=zn=Ne:tt=Dt=ri=Wn=Ne,I.push({tx1:ke,ty1:tt,tx2:lt,ty2:Dt,x1:Lt,y1:ri,x2:zn,y2:Wn,width:yi,color:ex,borderDash:Im,borderDashOffset:tx,tickWidth:_0,tickColor:Y1,tickBorderDash:v0,tickBorderDashOffset:nx}))}return this._ticksLength=_,this._borderValue=le,I}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:g,padding:_,mirror:b}=s,I=HC(i.grid),S=I+_,P=b?-_:S,U=-Zl(this.labelRotation),J=[];let le,Te,He,Ne,ke,tt,lt,Dt,Lt,ri,zn,Wn,Nr="middle";if("top"===r)tt=this.bottom-P,lt=this._getXAxisLabelAlignment();else if("bottom"===r)tt=this.top+P,lt=this._getXAxisLabelAlignment();else if("left"===r){const Nn=this._getYAxisLabelAlignment(I);lt=Nn.textAlign,ke=Nn.x}else if("right"===r){const Nn=this._getYAxisLabelAlignment(I);lt=Nn.textAlign,ke=Nn.x}else if("x"===t){if("center"===r)tt=(e.top+e.bottom)/2+S;else if(Un(r)){const Nn=Object.keys(r)[0];tt=this.chart.scales[Nn].getPixelForValue(r[Nn])+S}lt=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)ke=(e.left+e.right)/2-S;else if(Un(r)){const Nn=Object.keys(r)[0];ke=this.chart.scales[Nn].getPixelForValue(r[Nn])}lt=this._getYAxisLabelAlignment(I).textAlign}"y"===t&&("start"===h?Nr="top":"end"===h&&(Nr="bottom"));const uo=this._getLabelSizes();for(le=0,Te=u.length;le<Te;++le){He=u[le],Ne=He.label;const Nn=s.setContext(this.getContext(le));Dt=this.getPixelForTick(le)+s.labelOffset,Lt=this._resolveTickFontOptions(le),ri=Lt.lineHeight,zn=Ii(Ne)?Ne.length:1;const yi=zn/2,ex=Nn.color,Im=Nn.textStrokeColor,tx=Nn.textStrokeWidth;let Y1,_0=lt;if(a?(ke=Dt,"inner"===lt&&(_0=le===Te-1?this.options.reverse?"left":"right":0===le?this.options.reverse?"right":"left":"center"),Wn="top"===r?"near"===g||0!==U?-zn*ri+ri/2:"center"===g?-uo.highest.height/2-yi*ri+ri:ri/2-uo.highest.height:"near"===g||0!==U?ri/2:"center"===g?uo.highest.height/2-yi*ri:uo.highest.height-zn*ri,b&&(Wn*=-1)):(tt=Dt,Wn=(1-zn)*ri/2),Nn.showLabelBackdrop){const v0=Ls(Nn.backdropPadding),nx=uo.heights[le],DR=uo.widths[le];let AR=tt+Wn-v0.top,SR=ke-v0.left;switch(Nr){case"middle":AR-=nx/2;break;case"bottom":AR-=nx}switch(lt){case"center":SR-=DR/2;break;case"right":SR-=DR}Y1={left:SR,top:AR,width:DR+v0.width,height:nx+v0.height,color:Nn.backdropColor}}J.push({rotation:U,label:Ne,font:Lt,color:ex,strokeColor:Im,strokeWidth:tx,textOffset:Wn,textAlign:_0,textBaseline:Nr,translation:[ke,tt],backdrop:Y1})}return J}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Zl(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,u=e+s,h=this._getLabelSizes().widest.width;let g,_;return"left"===t?r?(_=this.right+s,"near"===i?g="left":"center"===i?(g="center",_+=h/2):(g="right",_+=h)):(_=this.right-u,"near"===i?g="right":"center"===i?(g="center",_-=h/2):(g="left",_=this.left)):"right"===t?r?(_=this.left+s,"near"===i?g="right":"center"===i?(g="center",_-=h/2):(g="left",_-=h)):(_=this.left+u,"near"===i?g="left":"center"===i?(g="center",_+=h/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const u=(h,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const h=r[s];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,g,_,b;this.isHorizontal()?(h=mm(e,this.left,s)-s/2,g=mm(e,this.right,a)+a/2,_=b=u):(_=mm(e,this.top,s)-s/2,b=mm(e,this.bottom,a)+a/2,h=g=u),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(h,_),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&x1(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let a,u;for(a=0,u=s.length;a<u;++a){const h=s[a],g=h.font,_=h.label;h.backdrop&&(i.fillStyle=h.backdrop.color,i.fillRect(h.backdrop.left,h.backdrop.top,h.backdrop.width,h.backdrop.height)),ym(i,_,0,h.textOffset,g,h)}r&&E1(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=qr(i.font),a=Ls(i.padding),u=i.align;let h=s.lineHeight/2;"bottom"===t||"center"===t||Un(t)?(h+=a.bottom,Ii(i.text)&&(h+=s.lineHeight*(i.text.length-1))):h+=a.top;const{titleX:g,titleY:_,maxWidth:b,rotation:I}=function qq(n,e,t,i){const{top:r,left:s,bottom:a,right:u,chart:h}=n,{chartArea:g,scales:_}=h;let I,S,P,b=0;const U=a-r,J=u-s;if(n.isHorizontal()){if(S=Os(i,s,u),Un(t)){const le=Object.keys(t)[0];P=_[le].getPixelForValue(t[le])+U-e}else P="center"===t?(g.bottom+g.top)/2+U-e:sU(n,t,e);I=u-s}else{if(Un(t)){const le=Object.keys(t)[0];S=_[le].getPixelForValue(t[le])-J+e}else S="center"===t?(g.left+g.right)/2-J+e:sU(n,t,e);P=Os(i,a,r),b="left"===t?-ar:ar}return{titleX:S,titleY:P,maxWidth:I,rotation:b}}(this,h,t,u);ym(e,i.text,0,0,s,{color:i.color,maxWidth:b,rotation:I,textAlign:Gq(u,t,r),textBaseline:"middle",translation:[g,_]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=bn(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===xm.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]:[{z:t,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){return qr(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class R1{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function Yq(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function Zq(n,e,t){const i=CC(Object.create(null),[t?On.get(t):{},On.get(e),n.defaults]);On.set(e,i),n.defaultRoutes&&function Kq(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),a=e[t].split("."),u=a.pop(),h=a.join(".");On.route(s,r,h,u)})}(e,n.defaultRoutes),n.descriptors&&On.describe(e,n.descriptors)}(e,a,i),this.override&&On.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in On[r]&&(delete On[r][i],this.override&&delete gm[i])}}var Sd=new class Qq{constructor(){this.controllers=new R1(Ad,"datasets",!0),this.elements=new R1(Kl,"elements"),this.plugins=new R1(Object,"plugins"),this.scales=new R1(xm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ii(r,a=>{const u=i||this._getRegistryForType(a);this._exec(e,u,a)})})}_exec(e,t,i){const r=MN(e);Ti(i["before"+r],[],i),t[e](i),Ti(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+i+".");return r}};class Jq{constructor(){this._init=[]}notify(e,t,i,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,i,r){r=r||{};for(const s of e){const a=s.plugin;if(!1===Ti(a[i],[t,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){Jn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=bn(i.options&&i.options.plugins,{}),s=function Xq(n){const e=[],t=Object.keys(Sd.plugins.items);for(let r=0;r<t.length;r++)e.push(Sd.getPlugin(t[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];-1===e.indexOf(s)&&e.push(s)}return e}(i);return!1!==r||t?function tZ(n,e,t,i){const r=[],s=n.getContext();for(let a=0;a<e.length;a++){const u=e[a],g=eZ(t[u.id],i);null!==g&&r.push({plugin:u,options:nZ(n.config,u,g,s)})}return r}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(u=>!a.some(h=>u.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function eZ(n,e){return e||!1!==n?!0===n?{}:n:null}function nZ(n,e,t,i){const r=n.pluginScopeKeys(e),s=n.getOptionScopes(t,r);return n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function iR(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(On.datasets[n]||{}).indexAxis||"x"}function rR(n,e){return"x"===n||"y"===n?n:e.axis||function sZ(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(e.position)||n.charAt(0).toLowerCase()}function lU(n){const e=n.options||(n.options={});e.plugins=bn(e.plugins,{}),e.scales=function oZ(n,e){const t=gm[n.type]||{scales:{}},i=e.scales||{},r=iR(n.type,e),s=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Un(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const g=rR(u,h),_=function rZ(n,e){return n===e?"_index_":"_value_"}(g,r),b=t.scales||{};s[g]=s[g]||u,a[u]=xC(Object.create(null),[{axis:g},h,b[g],b[_]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,g=u.indexAxis||iR(h,e),b=(gm[h]||{}).scales||{};Object.keys(b).forEach(I=>{const S=function iZ(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(I,g),P=u[S+"AxisID"]||s[S]||S;a[P]=a[P]||Object.create(null),xC(a[P],[{axis:S},i[P],b[I]])})}),Object.keys(a).forEach(u=>{const h=a[u];xC(h,[On.scales[h.type],On.scale])}),a}(n,e)}function cU(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const uU=new Map,dU=new Set;function P1(n,e){let t=uU.get(n);return t||(t=e(),uU.set(n,t),dU.add(t)),t}const zC=(n,e,t)=>{const i=Of(e,t);void 0!==i&&n.add(i)};class lZ{constructor(e){this._config=function aZ(n){return(n=n||{}).data=cU(n.data),lU(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=cU(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),lU(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return P1(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return P1(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return P1(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return P1(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,a=this._cachedScopes(e,i),u=a.get(t);if(u)return u;const h=new Set;t.forEach(_=>{e&&(h.add(e),_.forEach(b=>zC(h,e,b))),_.forEach(b=>zC(h,r,b)),_.forEach(b=>zC(h,gm[s]||{},b)),_.forEach(b=>zC(h,On,b)),_.forEach(b=>zC(h,UN,b))});const g=Array.from(h);return 0===g.length&&g.push(Object.create(null)),dU.has(t)&&a.set(t,g),g}chartOptionScopes(){const{options:e,type:t}=this;return[e,gm[t]||{},On.datasets[t]||{},{type:t},On,UN]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:u}=hU(this._resolverCache,e,r);let h=a;(function uZ(n,e){const{isScriptable:t,isIndexable:i}=lB(n);for(const r of e){const s=t(r),a=i(r),u=(a||s)&&n[r];if(s&&(Lf(u)||cZ(u))||a&&Ii(u))return!0}return!1})(a,t)&&(s.$shared=!1,h=l0(a,i=Lf(i)?i():i,this.createResolver(e,i,u)));for(const g of t)s[g]=h[g];return s}createResolver(e,t,i=[""],r){const{resolver:s}=hU(this._resolverCache,e,i);return Un(t)?l0(s,t,void 0,r):s}}function hU(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:WN(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const cZ=n=>Un(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Lf(n[t]),!1),hZ=["top","bottom","left","right","chartArea"];function fU(n,e){return"top"===n||"bottom"===n||-1===hZ.indexOf(n)&&"x"===e}function pU(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function gU(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ti(t&&t.onComplete,[n],e)}function fZ(n){const e=n.chart,t=e.options.animation;Ti(t&&t.onProgress,[n],e)}function mU(n){return mB()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const O1={},yU=n=>{const e=mU(n);return Object.values(O1).filter(t=>t.canvas===e).pop()};function pZ(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const a=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=a)}}}class WC{constructor(e,t){const i=this.config=new lZ(t),r=mU(e),s=yU(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Rq(n){return!mB()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?bq:Nq}(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,a.aspectRatio),h=u&&u.canvas,g=h&&h.height,_=h&&h.width;this.id=e9(),this.ctx=u,this.canvas=h,this.width=_,this.height=g,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jq,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function JG(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(b=>this.update(b),a.resizeDelay||0),this._dataChanges=[],O1[this.id]=this,u&&h?(Dd.listen(this,"complete",gU),Dd.listen(this,"progress",fZ),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return Jn(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yB(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iB(this.canvas,this.ctx),this}stop(){return Dd.stop(this),this}resize(e,t){Dd.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,a=this.platform.getMaximumSize(this.canvas,e,t,i.maintainAspectRatio&&this.aspectRatio),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,yB(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),Ti(i.onResize,[this,a],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){ii(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((a,u)=>(a[u]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const u=t[a],h=rR(a,u),g="r"===h,_="x"===h;return{options:u,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),ii(s,a=>{const u=a.options,h=u.id,g=rR(h,u),_=bn(u.type,a.dtype);(void 0===u.position||fU(u.position,g)!==fU(a.dposition))&&(u.position=a.dposition),r[h]=!0;let b=null;h in i&&i[h].type===_?b=i[h]:(b=new(Sd.getScale(_))({id:h,type:_,ctx:this.ctx,chart:this}),i[b.id]=b),b.init(u,e)}),ii(r,(a,u)=>{a||delete i[u]}),ii(i,a=>{Fs.configure(this,a,a.options),Fs.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(pU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{0===t.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let a=this.getDatasetMeta(i);const u=s.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=u,a.indexAxis=s.indexAxis||iR(u,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const h=Sd.getController(u),{datasetElementType:g,dataElementType:_}=On.datasets[u];Object.assign(h.prototype,{dataElementType:Sd.getElement(_),datasetElementType:g&&Sd.getElement(g)}),a.controller=new h(this,i),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ii(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:b}=this.getDatasetMeta(g),I=!r&&-1===s.indexOf(b);b.buildOrUpdateElements(I),a=Math.max(+b.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||ii(s,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pU("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){ii(this.scales,e=>{Fs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!BV(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t)pZ(e,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(a=>a[0]===s).map((a,u)=>u+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!BV(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Fs.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],ii(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Lf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Dd.has(this)?this.attached&&!Dd.running(this)&&Dd.start(this):(this.draw(),gU({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const a=t[r];(!e||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,s=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&x1(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&E1(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return NC(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=hq.modes[t];return"function"==typeof s?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Bf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);rl(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Dd.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iB(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete O1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},r=(s,a,u)=>{s.offsetX=a,s.offsetY=u,this._eventHandler(s)};ii(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,g)=>{t.addEventListener(this,h,g),e[h]=g},r=(h,g)=>{e[h]&&(t.removeEventListener(this,h,g),delete e[h])},s=(h,g)=>{this.canvas&&this.resize(h,g)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():a()}unbindEvents(){ii(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ii(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,a,u,h;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){a=e[u];const g=a&&this.getDatasetMeta(a.datasetIndex).controller;g&&g[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:a})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[a],index:a}});!f1(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(h,g)=>h.filter(_=>!g.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),a=s(t,e),u=i?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=a=>(a.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,u=this._getActiveElements(e,r,i,t),h=function o9(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),g=function gZ(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Ti(s.onHover,[e,u,this],this),h&&Ti(s.onClick,[e,u,this],this));const _=!f1(u,r);return(_||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=g,_}_getActiveElements(e,t,i,r){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}const _U=()=>ii(WC.instances,n=>n._plugins.invalidate()),Uf=!0;function vU(n,e,t){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:u,innerRadius:h}=e;let g=r/u;n.beginPath(),n.arc(s,a,u,i-g,t+g),h>r?(g=r/h,n.arc(s,a,h,t+g,i-g,!0)):n.arc(s,a,r,t+ar,i-ar),n.closePath(),n.clip()}function d0(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function sR(n,e,t,i,r){const{x:s,y:a,startAngle:u,pixelMargin:h,innerRadius:g}=e,_=Math.max(e.outerRadius+i+t-h,0),b=g>0?g+i+t+h:0;let I=0;const S=r-u;if(i){const Im=((g>0?g-i:0)+(_>0?_-i:0))/2;I=(S-(0!==Im?S*Im/(Im+i):S))/2}const U=(S-Math.max(.001,S*_-t/ji)/_)/2,J=u+U+I,le=r-U-I,{outerStart:Te,outerEnd:He,innerStart:Ne,innerEnd:ke}=function yZ(n,e,t,i){const r=function mZ(n){return HN(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,i*e/2),u=h=>{const g=(t-Math.min(s,h))*i/2;return cs(h,0,Math.min(s,g))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:cs(r.innerStart,0,a),innerEnd:cs(r.innerEnd,0,a)}}(e,b,_,le-J),tt=_-Te,lt=_-He,Dt=J+Te/tt,Lt=le-He/lt,ri=b+Ne,zn=b+ke,Wn=J+Ne/ri,Nr=le-ke/zn;if(n.beginPath(),n.arc(s,a,_,Dt,Lt),He>0){const yi=d0(lt,Lt,s,a);n.arc(yi.x,yi.y,He,Lt,le+ar)}const uo=d0(zn,le,s,a);if(n.lineTo(uo.x,uo.y),ke>0){const yi=d0(zn,Nr,s,a);n.arc(yi.x,yi.y,ke,le+ar,Nr+Math.PI)}if(n.arc(s,a,b,le-ke/b,J+Ne/b,!0),Ne>0){const yi=d0(ri,Wn,s,a);n.arc(yi.x,yi.y,Ne,Wn+Math.PI,J-ar)}const Nn=d0(tt,J,s,a);if(n.lineTo(Nn.x,Nn.y),Te>0){const yi=d0(tt,Dt,s,a);n.arc(yi.x,yi.y,Te,J-ar,Dt)}n.closePath()}Object.defineProperties(WC,{defaults:{enumerable:Uf,value:On},instances:{enumerable:Uf,value:O1},overrides:{enumerable:Uf,value:gm},registry:{enumerable:Uf,value:Sd},version:{enumerable:Uf,value:"3.8.0"},getChart:{enumerable:Uf,value:yU},register:{enumerable:Uf,value:(...n)=>{Sd.add(...n),_U()}},unregister:{enumerable:Uf,value:(...n)=>{Sd.remove(...n),_U()}}});class $C extends Kl{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=WV(r,{x:e,y:t}),{startAngle:u,endAngle:h,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),I=this.options.spacing/2,P=bn(b,h-u)>=mi||DC(s,u,h),U=Ed(a,g+I,_+I);return P&&U}getCenterPoint(e){const{x:t,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:h,spacing:g}=this.options,_=(r+s)/2,b=(a+u+g+h)/2;return{x:t+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,r=(t.offset||0)/2,s=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>mi?Math.floor(i/mi):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(r){a=r/2;const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*a,Math.sin(h)*a),this.circumference>=ji&&(a=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const u=function _Z(n,e,t,i){const{fullCircles:r,startAngle:s,circumference:a}=e;let u=e.endAngle;if(r){sR(n,e,t,i,s+mi);for(let h=0;h<r;++h)n.fill();isNaN(a)||(u=s+a%mi,a%mi==0&&(u+=mi))}return sR(n,e,t,i,u),n.fill(),u}(e,this,a,s);(function bZ(n,e,t,i,r){const{options:s}=e,{borderWidth:a,borderJoinStyle:u}=s,h="inner"===s.borderAlign;!a||(h?(n.lineWidth=2*a,n.lineJoin=u||"round"):(n.lineWidth=a,n.lineJoin=u||"bevel"),e.fullCircles&&function vZ(n,e,t){const{x:i,y:r,startAngle:s,pixelMargin:a,fullCircles:u}=e,h=Math.max(e.outerRadius-a,0),g=e.innerRadius+a;let _;for(t&&vU(n,e,s+mi),n.beginPath(),n.arc(i,r,g,s+mi,s,!0),_=0;_<u;++_)n.stroke();for(n.beginPath(),n.arc(i,r,h,s,s+mi),_=0;_<u;++_)n.stroke()}(n,e,h),h&&vU(n,e,r),sR(n,e,t,i,r),n.stroke())})(e,this,a,s,u),e.restore()}}function bU(n,e,t=e){n.lineCap=bn(t.borderCapStyle,e.borderCapStyle),n.setLineDash(bn(t.borderDash,e.borderDash)),n.lineDashOffset=bn(t.borderDashOffset,e.borderDashOffset),n.lineJoin=bn(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=bn(t.borderWidth,e.borderWidth),n.strokeStyle=bn(t.borderColor,e.borderColor)}function wZ(n,e,t){n.lineTo(t.x,t.y)}function wU(n,e,t={}){const i=n.length,{start:r=0,end:s=i-1}=t,{start:a,end:u}=e,h=Math.max(r,a),g=Math.min(s,u);return{count:i,start:h,loop:e.loop,ilen:g<h&&!(r<a&&s<a||r>u&&s>u)?i+g-h:g-h}}function xZ(n,e,t,i){const{points:r,options:s}=e,{count:a,start:u,loop:h,ilen:g}=wU(r,t,i),_=function CZ(n){return n.stepped?V9:n.tension||"monotone"===n.cubicInterpolationMode?B9:wZ}(s);let S,P,U,{move:b=!0,reverse:I}=i||{};for(S=0;S<=g;++S)P=r[(u+(I?g-S:S))%a],!P.skip&&(b?(n.moveTo(P.x,P.y),b=!1):_(n,U,P,I,s.stepped),U=P);return h&&(P=r[(u+(I?g:0))%a],_(n,U,P,I,s.stepped)),!!h}function EZ(n,e,t,i){const r=e.points,{count:s,start:a,ilen:u}=wU(r,t,i),{move:h=!0,reverse:g}=i||{};let I,S,P,U,J,le,_=0,b=0;const Te=Ne=>(a+(g?u-Ne:Ne))%s,He=()=>{U!==J&&(n.lineTo(_,J),n.lineTo(_,U),n.lineTo(_,le))};for(h&&(S=r[Te(0)],n.moveTo(S.x,S.y)),I=0;I<=u;++I){if(S=r[Te(I)],S.skip)continue;const Ne=S.x,ke=S.y,tt=0|Ne;tt===P?(ke<U?U=ke:ke>J&&(J=ke),_=(b*_+Ne)/++b):(He(),n.lineTo(Ne,ke),P=tt,b=0,U=J=ke),le=ke}He()}function oR(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?xZ:EZ}$C.id="arc",$C.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},$C.defaultRoutes={backgroundColor:"backgroundColor"};const AZ="function"==typeof Path2D;let GC=(()=>{class n extends Kl{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(d7(this._points,r,t,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function D7(n,e){const t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];const s=!!n._loop,{start:a,end:u}=function I7(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}(t,r,s,i);return function TB(n,e,t,i){return i&&i.setContext&&t?function A7(n,e,t,i){const r=n._chart.getContext(),s=DB(n.options),{_datasetIndex:a,options:{spanGaps:u}}=n,h=t.length,g=[];let _=s,b=e[0].start,I=b;function S(P,U,J,le){const Te=u?-1:1;if(P!==U){for(P+=h;t[P%h].skip;)P-=Te;for(;t[U%h].skip;)U+=Te;P%h!=U%h&&(g.push({start:P%h,end:U%h,loop:J,style:le}),_=le,b=U%h)}}for(const P of e){b=u?b:P.start;let J,U=t[b%h];for(I=b+1;I<=P.end;I++){const le=t[I%h];J=DB(i.setContext(Bf(r,{type:"segment",p0:U,p1:le,p0DataIndex:(I-1)%h,p1DataIndex:I%h,datasetIndex:a}))),S7(J,_)&&S(b,I-1,P.loop,_),U=le,_=J}b<I-1&&S(b,I-1,P.loop,_)}return g}(n,e,t,i):e}(n,!0===i?[{start:a,end:u,loop:s}]:function T7(n,e,t,i){const r=n.length,s=[];let h,a=e,u=n[e];for(h=e+1;h<=t;++h){const g=n[h%r];g.skip||g.stop?u.skip||(s.push({start:e%r,end:(h-1)%r,loop:i=!1}),e=a=g.stop?h:null):(a=h,u.skip&&(e=h)),u=g}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}(t,a,u<a?u+r:u,!!n._fullLoop&&0===a&&u===r-1),t,e)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,r=t.length;return r&&this.points[t[r-1].end]}interpolate(t,i){const r=this.options,s=t[i],a=this.points,u=IB(this,{property:i,start:s,end:s});if(!u.length)return;const h=[],g=function IZ(n){return n.stepped?v7:n.tension||"monotone"===n.cubicInterpolationMode?b7:wm}(r);let _,b;for(_=0,b=u.length;_<b;++_){const{start:I,end:S}=u[_],P=a[I],U=a[S];if(P===U){h.push(P);continue}const le=g(P,U,Math.abs((s-P[i])/(U[i]-P[i])),r.stepped);le[i]=t[i],h.push(le)}return 1===h.length?h[0]:h}pathSegment(t,i,r){return oR(this)(t,this,i,r)}path(t,i,r){const s=this.segments,a=oR(this);let u=this._loop;i=i||0,r=r||this.points.length-i;for(const h of s)u&=a(t,this,h,{start:i,end:i+r-1});return!!u}draw(t,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function SZ(n,e,t,i){AZ&&!e.options.segment?function TZ(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),bU(n,e.options),n.stroke(r)}(n,e,t,i):function DZ(n,e,t,i){const{segments:r,options:s}=e,a=oR(e);for(const u of r)bU(n,s,u.style),n.beginPath(),a(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e},n})();function CU(n,e,t,i){const r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}let xU=(()=>{class n extends Kl{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){const s=this.options,{x:a,y:u}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(i-u,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return CU(this,t,"x",i)}inYRange(t,i){return CU(this,t,"y",i)}getCenterPoint(t){const{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const r=this.options;this.skip||r.radius<.1||!NC(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,C1(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function EU(n,e){const{x:t,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let u,h,g,_,b;return n.horizontal?(b=a/2,u=Math.min(t,r),h=Math.max(t,r),g=i-b,_=i+b):(b=s/2,u=t-b,h=t+b,g=Math.min(i,r),_=Math.max(i,r)),{left:u,top:g,right:h,bottom:_}}function jf(n,e,t,i){return n?0:cs(e,t,i)}function aR(n,e,t,i){const r=null===e,s=null===t,u=n&&!(r&&s)&&EU(n,i);return u&&(r||Ed(e,u.left,u.right))&&(s||Ed(t,u.top,u.bottom))}function PZ(n,e){n.rect(e.x,e.y,e.w,e.h)}function lR(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-r),radius:n.radius}}class qC extends Kl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function NZ(n){const e=EU(n),t=e.right-e.left,i=e.bottom-e.top,r=function kZ(n,e,t){const r=n.borderSkipped,s=rB(n.options.borderWidth);return{t:jf(r.top,s.top,0,t),r:jf(r.right,s.right,0,e),b:jf(r.bottom,s.bottom,0,t),l:jf(r.left,s.left,0,e)}}(n,t/2,i/2),s=function MZ(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=_m(r),a=Math.min(e,t),u=n.borderSkipped,h=i||Un(r);return{topLeft:jf(!h||u.top||u.left,s.topLeft,0,a),topRight:jf(!h||u.top||u.right,s.topRight,0,a),bottomLeft:jf(!h||u.bottom||u.left,s.bottomLeft,0,a),bottomRight:jf(!h||u.bottom||u.right,s.bottomRight,0,a)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),u=function RZ(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?RC:PZ;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),u(e,lR(a,t,s)),e.clip(),u(e,lR(s,-t,a)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,lR(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return aR(this,e,t,i)}inXRange(e,t){return aR(this,e,null,t)}inYRange(e,t){return aR(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function cR(n,e,t,i){if(i)return;let r=e[n],s=t[n];return"angle"===n&&(r=va(r),s=va(s)),{property:n,start:r,end:s}}function uR(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function DU(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function AU(n,e){let t=[],i=!1;return Ii(n)?(i=!0,t=n):t=function jZ(n,e){const{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:a,end:u})=>{u=uR(a,u,r);const h=r[a],g=r[u];null!==i?(s.push({x:h.x,y:i}),s.push({x:g.x,y:i})):null!==t&&(s.push({x:t,y:h.y}),s.push({x:t,y:g.y}))}),s}(n,e),t.length?new GC({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function HZ(n,e,t){let r=n[e].fill;const s=[e];let a;if(!t)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!gr(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function zZ(n,e,t){const i=function qZ(n){const e=n.options,t=e.fill;let i=bn(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Un(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return gr(r)&&Math.floor(r)===r?function WZ(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function YZ(n,e,t){const i=[];for(let r=0;r<t.length;r++){const s=t[r],{first:a,last:u,point:h}=QZ(s,e,"x");if(!(!h||a&&u))if(a)i.unshift(h);else if(n.push(h),!u)break}n.push(...i)}function QZ(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const r=i[t],s=n.segments,a=n.points;let u=!1,h=!1;for(let g=0;g<s.length;g++){const _=s[g],b=a[_.start][t],I=a[_.end][t];if(Ed(r,b,I)){u=r===b,h=r===I;break}}return{first:u,last:h,point:i}}qC.id="bar",qC.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},qC.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class SU{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:r,y:s,radius:a}=this;return e.arc(r,s,a,(t=t||{start:0,end:mi}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function dR(n,e,t){const i=function JZ(n){const{chart:e,fill:t,line:i}=n;if(gr(t))return function XZ(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function ZZ(n){const{scale:e,index:t,line:i}=n,r=[],s=i.segments,a=i.points,u=function KZ(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);u.push(AU({x:null,y:e.bottom},i));for(let h=0;h<s.length;h++){const g=s[h];for(let _=g.start;_<=g.end;_++)YZ(r,a[_],u)}return new GC({points:r,options:{}})}(n);if("shape"===t)return!0;const r=function eK(n){return(n.scale||{}).getPointPositionForValue?function nK(n){const{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=function GZ(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:Un(n)?n.value:e.getBaseValue(),i}(t,e,s),u=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,s);return new SU({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(a)})}for(let h=0;h<r;++h)u.push(e.getPointPositionForValue(h,a));return u}(n):function tK(n){const{scale:e={},fill:t}=n,i=function $Z(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:Un(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if(gr(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof SU?r:AU(r,i)}(e),{line:r,scale:s,axis:a}=e,u=r.options,h=u.fill,g=u.backgroundColor,{above:_=g,below:b=g}=h||{};i&&r.points.length&&(x1(n,t),function iK(n,e){const{line:t,target:i,above:r,below:s,area:a,scale:u}=e,h=t._loop?"angle":e.axis;n.save(),"x"===h&&s!==r&&(kU(n,i,a.top),MU(n,{line:t,target:i,color:r,scale:u,property:h}),n.restore(),n.save(),kU(n,i,a.bottom)),MU(n,{line:t,target:i,color:s,scale:u,property:h}),n.restore()}(n,{line:r,target:i,above:_,below:b,area:t,scale:s,axis:a}),E1(n))}function kU(n,e,t){const{segments:i,points:r}=e;let s=!0,a=!1;n.beginPath();for(const u of i){const{start:h,end:g}=u,_=r[h],b=r[uR(h,g,r)];s?(n.moveTo(_.x,_.y),s=!1):(n.lineTo(_.x,t),n.lineTo(_.x,_.y)),a=!!e.pathSegment(n,u,{move:a}),a?n.closePath():n.lineTo(b.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function MU(n,e){const{line:t,target:i,property:r,color:s,scale:a}=e,u=function UZ(n,e,t){const i=n.segments,r=n.points,s=e.points,a=[];for(const u of i){let{start:h,end:g}=u;g=uR(h,g,r);const _=cR(t,r[h],r[g],u.loop);if(!e.segments){a.push({source:u,target:_,start:r[h],end:r[g]});continue}const b=IB(e,_);for(const I of b){const S=cR(t,s[I.start],s[I.end],I.loop),P=EB(u,r,S);for(const U of P)a.push({source:U,target:I,start:{[t]:DU(_,S,"start",Math.max)},end:{[t]:DU(_,S,"end",Math.min)}})}}return a}(t,i,r);for(const{source:h,target:g,start:_,end:b}of u){const{style:{backgroundColor:I=s}={}}=h,S=!0!==i;n.save(),n.fillStyle=I,rK(n,a,S&&cR(r,_,b)),n.beginPath();const P=!!t.pathSegment(n,h);let U;if(S){P?n.closePath():NU(n,i,b,r);const J=!!i.pathSegment(n,g,{move:P,reverse:!0});U=P&&J,U||NU(n,i,_,r)}n.closePath(),n.fill(U?"evenodd":"nonzero"),n.restore()}}function rK(n,e,t){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:a,end:u}=t||{};"x"===s&&(n.beginPath(),n.rect(a,i,u-a,r-i),n.clip())}function NU(n,e,t,i){const r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var RU={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,r=[];let s,a,u,h;for(a=0;a<i;++a)s=n.getDatasetMeta(a),u=s.dataset,h=null,u&&u.options&&u instanceof GC&&(h={visible:n.isDatasetVisible(a),index:a,fill:zZ(u,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:u}),s.$filler=h,r.push(h);for(a=0;a<i;++a)h=r[a],h&&!1!==h.fill&&(h.fill=HZ(r,a,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const u=r[a].$filler;!u||(u.line.updateControlPoints(s,u.axis),i&&dR(n.ctx,u,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;s&&dR(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==t.drawTime||dR(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const PU=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class OU extends Kl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ti(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,r=qr(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=PU(i,s);let g,_;t.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(a,s,u,h)+10):(_=this.maxHeight,g=this._fitCols(a,s,u,h)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(_,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+u;let b=e;s.textAlign="left",s.textBaseline="middle";let I=-1,S=-_;return this.legendItems.forEach((P,U)=>{const J=i+t/2+s.measureText(P.text).width;(0===U||g[g.length-1]+J+2*u>a)&&(b+=_,g[g.length-(U>0?0:1)]=0,S+=_,I++),h[U]={left:0,top:S,row:I,width:J,height:r},g[g.length-1]+=J+u}),b}_fitCols(e,t,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],g=this.columnSizes=[],_=a-e;let b=u,I=0,S=0,P=0,U=0;return this.legendItems.forEach((J,le)=>{const Te=i+t/2+s.measureText(J.text).width;le>0&&S+r+2*u>_&&(b+=I+u,g.push({width:I,height:S}),P+=I+u,U++,I=S=0),h[le]={left:P,top:S,col:U,width:Te,height:r},I=Math.max(I,Te),S+=r+u}),b+=I,g.push({width:I,height:S}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,a=u0(s,this.left,this.width);if(this.isHorizontal()){let u=0,h=Os(i,this.left+r,this.right-this.lineWidths[u]);for(const g of t)u!==g.row&&(u=g.row,h=Os(i,this.left+r,this.right-this.lineWidths[u])),g.top+=this.top+e+r,g.left=a.leftForLtr(a.x(h),g.width),h+=g.width+r}else{let u=0,h=Os(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const g of t)g.col!==u&&(u=g.col,h=Os(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),g.top=h,g.left+=this.left+r,g.left=a.leftForLtr(a.x(g.left),g.width),h+=g.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;x1(e,this),this._draw(),E1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:a}=e,u=On.color,h=u0(e.rtl,this.left,this.width),g=qr(a.font),{color:_,padding:b}=a,I=g.size,S=I/2;let P;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:U,boxHeight:J,itemHeight:le}=PU(a,I),Ne=this.isHorizontal(),ke=this._computeTitleHeight();P=Ne?{x:Os(s,this.left+b,this.right-i[0]),y:this.top+b+ke,line:0}:{x:this.left+b,y:Os(s,this.top+ke+b,this.bottom-t[0].height),line:0},bB(this.ctx,e.textDirection);const tt=le+b;this.legendItems.forEach((lt,Dt)=>{r.strokeStyle=lt.fontColor||_,r.fillStyle=lt.fontColor||_;const Lt=r.measureText(lt.text).width,ri=h.textAlign(lt.textAlign||(lt.textAlign=a.textAlign)),zn=U+S+Lt;let Wn=P.x,Nr=P.y;h.setWidth(this.width),Ne?Dt>0&&Wn+zn+b>this.right&&(Nr=P.y+=tt,P.line++,Wn=P.x=Os(s,this.left+b,this.right-i[P.line])):Dt>0&&Nr+tt>this.bottom&&(Wn=P.x=Wn+t[P.line].width+b,P.line++,Nr=P.y=Os(s,this.top+ke+b,this.bottom-t[P.line].height)),function(lt,Dt,Lt){if(isNaN(U)||U<=0||isNaN(J)||J<0)return;r.save();const ri=bn(Lt.lineWidth,1);if(r.fillStyle=bn(Lt.fillStyle,u),r.lineCap=bn(Lt.lineCap,"butt"),r.lineDashOffset=bn(Lt.lineDashOffset,0),r.lineJoin=bn(Lt.lineJoin,"miter"),r.lineWidth=ri,r.strokeStyle=bn(Lt.strokeStyle,u),r.setLineDash(bn(Lt.lineDash,[])),a.usePointStyle){const zn={radius:U*Math.SQRT2/2,pointStyle:Lt.pointStyle,rotation:Lt.rotation,borderWidth:ri},Wn=h.xPlus(lt,U/2);C1(r,zn,Wn,Dt+S)}else{const zn=Dt+Math.max((I-J)/2,0),Wn=h.leftForLtr(lt,U),Nr=_m(Lt.borderRadius);r.beginPath(),Object.values(Nr).some(uo=>0!==uo)?RC(r,{x:Wn,y:zn,w:U,h:J,radius:Nr}):r.rect(Wn,zn,U,J),r.fill(),0!==ri&&r.stroke()}r.restore()}(h.x(Wn),Nr,lt),Wn=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(ri,Wn+U+S,Ne?Wn+zn:this.right,e.rtl),function(lt,Dt,Lt){ym(r,Lt.text,lt,Dt+le/2,g,{strikethrough:Lt.hidden,textAlign:h.textAlign(Lt.textAlign)})}(h.x(Wn),Nr,lt),Ne?P.x+=zn+b:P.y+=tt}),wB(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=qr(t.font),r=Ls(t.padding);if(!t.display)return;const s=u0(e.rtl,this.left,this.width),a=this.ctx,u=t.position,g=r.top+i.size/2;let _,b=this.left,I=this.width;if(this.isHorizontal())I=Math.max(...this.lineWidths),_=this.top+g,b=Os(e.align,b,this.right-I);else{const P=this.columnSizes.reduce((U,J)=>Math.max(U,J.height),0);_=g+Os(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const S=Os(u,b,b+I);a.textAlign=s.textAlign(kN(u)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=i.string,ym(a,t.text,S,_,i)}_computeTitleHeight(){const e=this.options.title,t=qr(e.font),i=Ls(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Ed(e,this.left,this.right)&&Ed(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Ed(e,r.left,r.left+r.width)&&Ed(t,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function oK(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(r,i);r&&!s&&Ti(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Ti(t.onHover,[e,i,this],this)}else i&&Ti(t.onClick,[e,i,this],this)}}var LU={id:"legend",_element:OU,start(n,e,t){const i=n.legend=new OU({ctx:n.ctx,options:t,chart:n});Fs.configure(n,i,t),Fs.addBox(n,i)},stop(n){Fs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Fs.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const u=a.controller.getStyle(t?0:void 0),h=Ls(u.borderWidth);return{text:e[a.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hR extends Kl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Ii(i.text)?i.text.length:1;this._padding=Ls(i.padding);const s=r*qr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:a}=this,u=a.align;let g,_,b,h=0;return this.isHorizontal()?(_=Os(u,i,s),b=t+e,g=s-i):("left"===a.position?(_=i+e,b=Os(u,r,t),h=-.5*ji):(_=s-e,b=Os(u,t,r),h=.5*ji),g=r-t),{titleX:_,titleY:b,maxWidth:g,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=qr(t.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:h,rotation:g}=this._drawArgs(s);ym(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:g,textAlign:kN(t.align),textBaseline:"middle",translation:[a,u]})}}var FU={id:"title",_element:hR,start(n,e,t){!function aK(n,e){const t=new hR({ctx:n.ctx,options:e,chart:n});Fs.configure(n,t,e),Fs.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){Fs.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Fs.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ZC={average(n){if(!n.length)return!1;let e,t,i=0,r=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const u=a.tooltipPosition();i+=u.x,r+=u.y,++s}}return{x:i/s,y:r/s}},nearest(n,e){if(!n.length)return!1;let s,a,u,t=e.x,i=e.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const h=n[s].element;if(h&&h.hasValue()){const _=RN(e,h.getCenterPoint());_<r&&(r=_,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function tu(n,e){return e&&(Ii(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function kd(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function cK(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:a,value:u}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function VU(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:u}=e,h=qr(e.bodyFont),g=qr(e.titleFont),_=qr(e.footerFont),b=s.length,I=r.length,S=i.length,P=Ls(e.padding);let U=P.height,J=0,le=i.reduce((Ne,ke)=>Ne+ke.before.length+ke.lines.length+ke.after.length,0);le+=n.beforeBody.length+n.afterBody.length,b&&(U+=b*g.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),le&&(U+=S*(e.displayColors?Math.max(u,h.lineHeight):h.lineHeight)+(le-S)*h.lineHeight+(le-1)*e.bodySpacing),I&&(U+=e.footerMarginTop+I*_.lineHeight+(I-1)*e.footerSpacing);let Te=0;const He=function(Ne){J=Math.max(J,t.measureText(Ne).width+Te)};return t.save(),t.font=g.string,ii(n.title,He),t.font=h.string,ii(n.beforeBody.concat(n.afterBody),He),Te=e.displayColors?a+2+e.boxPadding:0,ii(i,Ne=>{ii(Ne.before,He),ii(Ne.lines,He),ii(Ne.after,He)}),Te=0,t.font=_.string,ii(n.footer,He),t.restore(),J+=P.width,{width:J,height:U}}function hK(n,e,t,i){const{x:r,width:s}=t,{width:a,chartArea:{left:u,right:h}}=n;let g="center";return"center"===i?g=r<=(u+h)/2?"left":"right":r<=s/2?g="left":r>=a-s/2&&(g="right"),function dK(n,e,t,i){const{x:r,width:s}=i,a=t.caretSize+t.caretPadding;if("left"===n&&r+s+a>e.width||"right"===n&&r-s-a<0)return!0}(g,n,e,t)&&(g="center"),g}function BU(n,e,t){const i=t.yAlign||e.yAlign||function uK(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||hK(n,e,t,i),yAlign:i}}function UU(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:u,yAlign:h}=t,g=r+s,{topLeft:_,topRight:b,bottomLeft:I,bottomRight:S}=_m(a);let P=function fK(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,u);const U=function pK(n,e,t){let{y:i,height:r}=n;return"top"===e?i+=t:i-="bottom"===e?r+t:r/2,i}(e,h,g);return"center"===h?"left"===u?P+=g:"right"===u&&(P-=g):"left"===u?P-=Math.max(_,I)+r:"right"===u&&(P+=Math.max(b,S)+r),{x:cs(P,0,i.width-e.width),y:cs(U,0,i.height-e.height)}}function F1(n,e,t){const i=Ls(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function jU(n){return tu([],kd(n))}function HU(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}let zU=(()=>{class n extends Kl{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,a=new SB(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function gK(n,e,t){return Bf(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:r}=i,s=r.beforeTitle.apply(this,[t]),a=r.title.apply(this,[t]),u=r.afterTitle.apply(this,[t]);let h=[];return h=tu(h,kd(s)),h=tu(h,kd(a)),h=tu(h,kd(u)),h}getBeforeBody(t,i){return jU(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){const{callbacks:r}=i,s=[];return ii(t,a=>{const u={before:[],lines:[],after:[]},h=HU(r,a);tu(u.before,kd(h.beforeLabel.call(this,a))),tu(u.lines,h.label.call(this,a)),tu(u.after,kd(h.afterLabel.call(this,a))),s.push(u)}),s}getAfterBody(t,i){return jU(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){const{callbacks:r}=i,s=r.beforeFooter.apply(this,[t]),a=r.footer.apply(this,[t]),u=r.afterFooter.apply(this,[t]);let h=[];return h=tu(h,kd(s)),h=tu(h,kd(a)),h=tu(h,kd(u)),h}_createItems(t){const i=this._active,r=this.chart.data,s=[],a=[],u=[];let g,_,h=[];for(g=0,_=i.length;g<_;++g)h.push(cK(this.chart,i[g]));return t.filter&&(h=h.filter((b,I,S)=>t.filter(b,I,S,r))),t.itemSort&&(h=h.sort((b,I)=>t.itemSort(b,I,r))),ii(h,b=>{const I=HU(t.callbacks,b);s.push(I.labelColor.call(this,b)),a.push(I.labelPointStyle.call(this,b)),u.push(I.labelTextColor.call(this,b))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=u,this.dataPoints=h,h}update(t,i){const r=this.options.setContext(this.getContext()),s=this._active;let a,u=[];if(s.length){const h=ZC[r.position].call(this,s,this._eventPosition);u=this._createItems(r),this.title=this.getTitle(u,r),this.beforeBody=this.getBeforeBody(u,r),this.body=this.getBody(u,r),this.afterBody=this.getAfterBody(u,r),this.footer=this.getFooter(u,r);const g=this._size=VU(this,r),_=Object.assign({},h,g),b=BU(this.chart,r,_),I=UU(r,_,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,a={opacity:1,x:I.x,y:I.y,width:g.width,height:g.height,caretX:h.x,caretY:h.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=u,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){const a=this.getCaretPosition(t,r,s);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(t,i,r){const{xAlign:s,yAlign:a}=this,{caretSize:u,cornerRadius:h}=r,{topLeft:g,topRight:_,bottomLeft:b,bottomRight:I}=_m(h),{x:S,y:P}=t,{width:U,height:J}=i;let le,Te,He,Ne,ke,tt;return"center"===a?(ke=P+J/2,"left"===s?(le=S,Te=le-u,Ne=ke+u,tt=ke-u):(le=S+U,Te=le+u,Ne=ke-u,tt=ke+u),He=le):(Te="left"===s?S+Math.max(g,b)+u:"right"===s?S+U-Math.max(_,I)-u:this.caretX,"top"===a?(Ne=P,ke=Ne-u,le=Te-u,He=Te+u):(Ne=P+J,ke=Ne+u,le=Te+u,He=Te-u),tt=Ne),{x1:le,x2:Te,x3:He,y1:Ne,y2:ke,y3:tt}}drawTitle(t,i,r){const s=this.title,a=s.length;let u,h,g;if(a){const _=u0(r.rtl,this.x,this.width);for(t.x=F1(this,r.titleAlign,r),i.textAlign=_.textAlign(r.titleAlign),i.textBaseline="middle",u=qr(r.titleFont),h=r.titleSpacing,i.fillStyle=r.titleColor,i.font=u.string,g=0;g<a;++g)i.fillText(s[g],_.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,g+1===a&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,i,r,s,a){const u=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:g,boxWidth:_,boxPadding:b}=a,I=qr(a.bodyFont),S=F1(this,"left",a),P=s.x(S),J=i.y+(g<I.lineHeight?(I.lineHeight-g)/2:0);if(a.usePointStyle){const le={radius:Math.min(_,g)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},Te=s.leftForLtr(P,_)+_/2,He=J+g/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,C1(t,le,Te,He),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,C1(t,le,Te,He)}else{t.lineWidth=u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const le=s.leftForLtr(P,_-b),Te=s.leftForLtr(s.xPlus(P,1),_-b-2),He=_m(u.borderRadius);Object.values(He).some(Ne=>0!==Ne)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,RC(t,{x:le,y:J,w:_,h:g,radius:He}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),RC(t,{x:Te,y:J+1,w:_-2,h:g-2,radius:He}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(le,J,_,g),t.strokeRect(le,J,_,g),t.fillStyle=u.backgroundColor,t.fillRect(Te,J+1,_-2,g-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){const{body:s}=this,{bodySpacing:a,bodyAlign:u,displayColors:h,boxHeight:g,boxWidth:_,boxPadding:b}=r,I=qr(r.bodyFont);let S=I.lineHeight,P=0;const U=u0(r.rtl,this.x,this.width),J=function(Lt){i.fillText(Lt,U.x(t.x+P),t.y+S/2),t.y+=S+a},le=U.textAlign(u);let Te,He,Ne,ke,tt,lt,Dt;for(i.textAlign=u,i.textBaseline="middle",i.font=I.string,t.x=F1(this,le,r),i.fillStyle=r.bodyColor,ii(this.beforeBody,J),P=h&&"right"!==le?"center"===u?_/2+b:_+2+b:0,ke=0,lt=s.length;ke<lt;++ke){for(Te=s[ke],He=this.labelTextColors[ke],i.fillStyle=He,ii(Te.before,J),Ne=Te.lines,h&&Ne.length&&(this._drawColorBox(i,t,ke,U,r),S=Math.max(I.lineHeight,g)),tt=0,Dt=Ne.length;tt<Dt;++tt)J(Ne[tt]),S=I.lineHeight;ii(Te.after,J)}P=0,S=I.lineHeight,ii(this.afterBody,J),t.y-=a}drawFooter(t,i,r){const s=this.footer,a=s.length;let u,h;if(a){const g=u0(r.rtl,this.x,this.width);for(t.x=F1(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=g.textAlign(r.footerAlign),i.textBaseline="middle",u=qr(r.footerFont),i.fillStyle=r.footerColor,i.font=u.string,h=0;h<a;++h)i.fillText(s[h],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){const{xAlign:a,yAlign:u}=this,{x:h,y:g}=t,{width:_,height:b}=r,{topLeft:I,topRight:S,bottomLeft:P,bottomRight:U}=_m(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(h+I,g),"top"===u&&this.drawCaret(t,i,r,s),i.lineTo(h+_-S,g),i.quadraticCurveTo(h+_,g,h+_,g+S),"center"===u&&"right"===a&&this.drawCaret(t,i,r,s),i.lineTo(h+_,g+b-U),i.quadraticCurveTo(h+_,g+b,h+_-U,g+b),"bottom"===u&&this.drawCaret(t,i,r,s),i.lineTo(h+P,g+b),i.quadraticCurveTo(h,g+b,h,g+b-P),"center"===u&&"left"===a&&this.drawCaret(t,i,r,s),i.lineTo(h,g+I),i.quadraticCurveTo(h,g,h+I,g),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const u=ZC[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=VU(this,t),g=Object.assign({},u,this._size),_=BU(i,t,g),b=UU(t,g,_,i);(s._to!==b.x||a._to!==b.y)&&(this.xAlign=_.xAlign,this.yAlign=_.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const u=Ls(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,s,i),bB(t,i.textDirection),a.y+=u.top,this.drawTitle(a,t,i),this.drawBody(a,t,i),this.drawFooter(a,t,i),wB(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const r=this._active,s=t.map(({datasetIndex:h,index:g})=>{const _=this.chart.getDatasetMeta(h);if(!_)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:_.data[g],index:g}}),a=!f1(r,s),u=this._positionChanged(s,i);(a||u)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],u=this._getActiveElements(t,a,i,r),h=this._positionChanged(u,t),g=i||!f1(u,a)||h;return g&&(this._active=u,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),g}_getActiveElements(t,i,r,s){const a=this.options;if("mouseout"===t.type)return[];if(!s)return i;const u=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&u.reverse(),u}_positionChanged(t,i){const{caretX:r,caretY:s,options:a}=this,u=ZC[a.position].call(this,t,i);return!1!==u&&(r!==u.x||s!==u.y)}}return n.positioners=ZC,n})();var WU={id:"tooltip",_element:zU,positioners:ZC,afterInit(n,e,t){t&&(n.tooltip=new zU({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",t))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:xd,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:xd,beforeBody:xd,beforeLabel:xd,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Jn(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:xd,afterBody:xd,beforeFooter:xd,footer:xd,afterFooter:xd}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class KC extends xm{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Jn(e))return null;const i=this.getLabels();return((n,e)=>null===n?null:cs(Math.round(n),0,e))(t=isFinite(t)&&i[t]===e?t:function _K(n,e,t,i){const r=n.indexOf(e);return-1===r?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):r!==n.lastIndexOf(e)?t:r}(i,e,bn(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function $U(n,e,{horizontal:t,minRotation:i}){const r=Zl(i),s=(t?Math.sin(r):Math.cos(r))||.001;return Math.min(e/s,.75*e*(""+n).length)}KC.id="category",KC.defaults={ticks:{callback:KC.prototype.getLabelForValue}};class V1 extends xm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Jn(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=h=>r=t?r:h,u=h=>s=i?s:h;if(e){const h=eu(r),g=eu(s);h<0&&g<0?u(0):h>0&&g>0&&a(0)}if(r===s){let h=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(h=Math.abs(.05*s)),u(s+h),e||a(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let r,{maxTicksLimit:t,stepSize:i}=e;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function bK(n,e){const t=[],{bounds:r,step:s,min:a,max:u,precision:h,count:g,maxTicks:_,maxDigits:b,includeBounds:I}=n,S=s||1,P=_-1,{min:U,max:J}=e,le=!Jn(a),Te=!Jn(u),He=!Jn(g),Ne=(J-U)/(b+1);let tt,lt,Dt,Lt,ke=jV((J-U)/P/S)*S;if(ke<1e-14&&!le&&!Te)return[{value:U},{value:J}];Lt=Math.ceil(J/ke)-Math.floor(U/ke),Lt>P&&(ke=jV(Lt*ke/P/S)*S),Jn(h)||(tt=Math.pow(10,h),ke=Math.ceil(ke*tt)/tt),"ticks"===r?(lt=Math.floor(U/ke)*ke,Dt=Math.ceil(J/ke)*ke):(lt=U,Dt=J),le&&Te&&s&&function u9(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((u-a)/s,ke/1e3)?(Lt=Math.round(Math.min((u-a)/ke,_)),ke=(u-a)/Lt,lt=a,Dt=u):He?(lt=le?a:lt,Dt=Te?u:Dt,Lt=g-1,ke=(Dt-lt)/Lt):(Lt=(Dt-lt)/ke,Lt=TC(Lt,Math.round(Lt),ke/1e3)?Math.round(Lt):Math.ceil(Lt));const ri=Math.max(zV(ke),zV(lt));tt=Math.pow(10,Jn(h)?ri:h),lt=Math.round(lt*tt)/tt,Dt=Math.round(Dt*tt)/tt;let zn=0;for(le&&(I&&lt!==a?(t.push({value:a}),lt<a&&zn++,TC(Math.round((lt+zn*ke)*tt)/tt,a,$U(a,Ne,n))&&zn++):lt<a&&zn++);zn<Lt;++zn)t.push({value:Math.round((lt+zn*ke)*tt)/tt});return Te&&I&&Dt!==u?t.length&&TC(t[t.length-1].value,u,$U(u,Ne,n))?t[t.length-1].value=u:t.push({value:u}):(!Te||Dt===u)&&t.push({value:Dt}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&HV(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return OC(e,this.chart.options.locale,this.options.ticks.format)}}class B1 extends V1{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gr(e)?e:0,this.max=gr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Zl(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function GU(n){return n/Math.pow(10,Math.floor(sl(n)))==1}B1.id="linear",B1.defaults={ticks:{callback:M1.formatters.numeric}};class fR extends xm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=V1.prototype.parse.apply(this,[e,t]);if(0!==i)return gr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gr(e)?Math.max(0,e):null,this.max=gr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,r=this.max;const s=h=>i=e?i:h,a=h=>r=t?r:h,u=(h,g)=>Math.pow(10,Math.floor(sl(h))+g);i===r&&(i<=0?(s(1),a(10)):(s(u(i,-1)),a(u(r,1)))),i<=0&&s(u(r,-1)),r<=0&&a(u(i,1)),this._zero&&this.min!==this._suggestedMin&&i===u(this.min,0)&&s(u(i,-1)),this.min=i,this.max=r}buildTicks(){const e=this.options,i=function wK(n,e){const t=Math.floor(sl(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),r=[];let s=il(n.min,Math.pow(10,Math.floor(sl(e.min)))),a=Math.floor(sl(s)),u=Math.floor(s/Math.pow(10,a)),h=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:s,major:GU(s)}),++u,10===u&&(u=1,++a,h=a>=0?1:h),s=Math.round(u*Math.pow(10,a)*h)/h}while(a<t||a===t&&u<i);const g=il(n.max,s);return r.push({value:g,major:GU(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&HV(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":OC(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=sl(e),this._valueRange=sl(this.max)-sl(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(sl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function pR(n){const e=n.ticks;if(e.display&&n.display){const t=Ls(e.backdropPadding);return bn(e.font&&e.font.size,On.font.size)+t.height}return 0}function CK(n,e,t){return t=Ii(t)?t:[t],{w:F9(n,e.string,t),h:t.length*e.lineHeight}}function qU(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function EK(n,e,t,i,r){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let u=0,h=0;i.start<e.l?(u=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-u)):i.end>e.r&&(u=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+u)),r.start<e.t?(h=(e.t-r.start)/a,n.t=Math.min(n.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/a,n.b=Math.max(n.b,e.b+h))}function TK(n){return 0===n||180===n?"center":n<180?"left":"right"}function DK(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}function AK(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}function ZU(n,e,t,i){const{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,mi);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,e),r.lineTo(s.x,s.y)}}fR.id="logarithmic",fR.defaults={ticks:{callback:M1.formatters.logarithmic,major:{enabled:!0}}};class h0 extends V1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ls(pR(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=gr(e)&&!isNaN(e)?e:0,this.max=gr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pR(this.options))}generateTickLabels(e){V1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const r=Ti(this.options.pointLabels.callback,[t,i],this);return r||0===r?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function xK(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,u=a.centerPointLabels?ji/s:0;for(let h=0;h<s;h++){const g=a.setContext(n.getPointLabelContext(h));r[h]=g.padding;const _=n.getPointPosition(h,n.drawingArea+r[h],u),b=qr(g.font),I=CK(n.ctx,b,n._pointLabels[h]);i[h]=I;const S=va(n.getIndexAngle(h)+u),P=Math.round(NN(S));EK(t,e,S,qU(P,_.x,I.w,0,180),qU(P,_.y,I.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function IK(n,e,t){const i=[],r=n._pointLabels.length,s=n.options,a=pR(s)/2,u=n.drawingArea,h=s.pointLabels.centerPointLabels?ji/r:0;for(let g=0;g<r;g++){const _=n.getPointPosition(g,u+a+t[g],h),b=Math.round(NN(va(_.angle+ar))),I=e[g],S=AK(_.y,I.h,b),P=TK(b),U=DK(_.x,I.w,P);i.push({x:_.x,y:S,textAlign:P,left:U,top:S,right:U+I.w,bottom:S+I.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){return va(e*(mi/(this._pointLabels.length||1))+Zl(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Jn(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Jn(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function MK(n,e,t){return Bf(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const r=this.getIndexAngle(e)-ar+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),ZU(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r}=t,s=this._pointLabels.length;let a,u,h;if(t.pointLabels.display&&function SK(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=qr(s.font),{x:u,y:h,textAlign:g,left:_,top:b,right:I,bottom:S}=n._pointLabelItems[r],{backdropColor:P}=s;if(!Jn(P)){const U=_m(s.borderRadius),J=Ls(s.backdropPadding);t.fillStyle=P;const le=_-J.left,Te=b-J.top,He=I-_+J.width,Ne=S-b+J.height;Object.values(U).some(ke=>0!==ke)?(t.beginPath(),RC(t,{x:le,y:Te,w:He,h:Ne,radius:U}),t.fill()):t.fillRect(le,Te,He,Ne)}ym(t,n._pointLabels[r],u,h+a.lineHeight/2,a,{color:s.color,textAlign:g,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((g,_)=>{0!==_&&(u=this.getDistanceFromCenterForValue(g.value),function kK(n,e,t,i){const r=n.ctx,s=e.circular,{color:a,lineWidth:u}=e;!s&&!i||!a||!u||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=u,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),ZU(n,t,s,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(_-1)),u,s))}),i.display){for(e.save(),a=s-1;a>=0;a--){const g=i.setContext(this.getPointLabelContext(a)),{color:_,lineWidth:b}=g;!b||!_||(e.lineWidth=b,e.strokeStyle=_,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,u=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),h=this.getPointPosition(a,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((u,h)=>{if(0===h&&!t.reverse)return;const g=i.setContext(this.getContext(h)),_=qr(g.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),g.showLabelBackdrop){e.font=_.string,a=e.measureText(u.label).width,e.fillStyle=g.backdropColor;const b=Ls(g.backdropPadding);e.fillRect(-a/2-b.left,-s-_.size/2-b.top,a+b.width,_.size+b.height)}ym(e,u.label,0,-s,_,{color:g.color})}),e.restore()}drawTitle(){}}h0.id="radialLinear",h0.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:M1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},h0.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},h0.descriptors={angleLines:{_fallback:"grid"}};const U1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lo=Object.keys(U1);function NK(n,e){return n-e}function KU(n,e){if(Jn(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=e;return"function"==typeof i&&(a=i(a)),gr(a)||(a="string"==typeof i?t.parse(a,i):t.parse(a)),null===a?null:(r&&(a="week"!==r||!IC(s)&&!0!==s?t.startOf(a,r):t.startOf(a,"isoWeek",s)),+a)}function YU(n,e,t,i){const r=Lo.length;for(let s=Lo.indexOf(n);s<r-1;++s){const a=U1[Lo[s]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(u*a.size))<=i)return Lo[s]}return Lo[r-1]}function QU(n,e,t){if(t){if(t.length){const{lo:i,hi:r}=zN(t,e);n[t[i]>=e?t[i]:t[r]]=!0}}else n[e]=!0}function JU(n,e,t){const i=[],r={},s=e.length;let a,u;for(a=0;a<s;++a)u=e[a],r[u]=a,i.push({value:u,major:!1});return 0!==s&&t?function OK(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),a=e[e.length-1].value;let u,h;for(u=s;u<=a;u=+r.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}(n,i,r,t):i}let gR=(()=>{class n extends xm{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){const r=t.time||(t.time={}),s=this._adapter=new aq._date(t.adapters.date);xC(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return void 0===t?null:KU(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,r=t.time.unit||"day";let{min:s,max:a,minDefined:u,maxDefined:h}=this.getUserBounds();function g(_){!u&&!isNaN(_.min)&&(s=Math.min(s,_.min)),!h&&!isNaN(_.max)&&(a=Math.max(a,_.max))}(!u||!h)&&(g(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&g(this.getMinMax(!1))),s=gr(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),a=gr(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){const t=this.options,i=t.time,r=t.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,h=function Z9(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,a,this.max);return this._unit=i.unit||(r.autoSkip?YU(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function RK(n,e,t,i,r){for(let s=Lo.length-1;s>=Lo.indexOf(t);s--){const a=Lo[s];if(U1[a].common&&n._adapter.diff(r,i,a)>=e-1)return a}return Lo[t?Lo.indexOf(t):0]}(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function PK(n){for(let e=Lo.indexOf(n)+1,t=Lo.length;e<t;++e)if(U1[Lo[e]].common)return Lo[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&h.reverse(),JU(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let s,a,i=0,r=0;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),i=1===t.length?1-s:(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),r=1===t.length?a:(a-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;i=cs(i,0,u),r=cs(r,0,u),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,i=this.min,r=this.max,s=this.options,a=s.time,u=a.unit||YU(a.minUnit,i,r,this._getLabelCapacity(i)),h=bn(a.stepSize,1),g="week"===u&&a.isoWeekday,_=IC(g)||!0===g,b={};let S,P,I=i;if(_&&(I=+t.startOf(I,"isoWeek",g)),I=+t.startOf(I,_?"day":u),t.diff(r,i,u)>1e5*h)throw new Error(i+" and "+r+" are too far apart with stepSize of "+h+" "+u);const U="data"===s.ticks.source&&this.getDataTimestamps();for(S=I,P=0;S<r;S=+t.add(S,h,u),P++)QU(b,S,U);return(S===r||"ticks"===s.bounds||1===P)&&QU(b,S,U),Object.keys(b).sort((J,le)=>J-le).map(J=>+J)}getLabelForValue(t){const r=this.options.time;return this._adapter.format(t,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(t,i,r,s){const a=this.options,u=a.time.displayFormats,h=this._unit,g=this._majorUnit,b=g&&u[g],I=r[i],P=this._adapter.format(t,s||(g&&b&&I&&I.major?b:h&&u[h])),U=a.ticks.callback;return U?Ti(U,[P,i,r],this):P}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){const i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,r=this.ctx.measureText(t).width,s=Zl(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(s),u=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*u,h:r*u+h*a}}_getLabelCapacity(t){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,a=this._tickFormatFunction(t,0,JU(this,[t],this._majorUnit),s),u=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let i,r,t=this._cache.data||[];if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,r;if(t.length)return t;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(KU(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return aB(t.sort(NK))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function j1(n,e,t){let s,a,u,h,i=0,r=n.length-1;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Td(n,"pos",e)),({pos:s,time:u}=n[i]),({pos:a,time:h}=n[r])):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Td(n,"time",e)),({time:s,pos:u}=n[i]),({time:a,pos:h}=n[r]));const g=a-s;return g?u+(h-u)*(e-s)/g:u}class H1 extends gR{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=j1(t,this.min),this._tableRange=j1(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let a,u,h,g,_;for(a=0,u=e.length;a<u;++a)g=e[a],g>=t&&g<=i&&r.push(g);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(a=0,u=r.length;a<u;++a)_=r[a+1],h=r[a-1],g=r[a],Math.round((_+h)/2)!==g&&s.push({time:g,pos:a/(u-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(j1(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return j1(this._table,i*this._tableRange+this._minPos,!0)}}H1.id="timeseries",H1.defaults=gR.defaults;const z1=function BK(n,e){return n===e||n!=n&&e!=e},W1=function UK(n,e){for(var t=n.length;t--;)if(z1(n[t][0],e))return t;return-1};var HK=Array.prototype.splice;function f0(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}f0.prototype.clear=function FK(){this.__data__=[],this.size=0},f0.prototype.delete=function zK(n){var e=this.__data__,t=W1(e,n);return!(t<0||(t==e.length-1?e.pop():HK.call(e,t,1),--this.size,0))},f0.prototype.get=function $K(n){var e=this.__data__,t=W1(e,n);return t<0?void 0:e[t][1]},f0.prototype.has=function qK(n){return W1(this.__data__,n)>-1},f0.prototype.set=function KK(n,e){var t=this.__data__,i=W1(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this};const $1=f0,XU="object"==typeof global&&global&&global.Object===Object&&global;var oY="object"==typeof self&&self&&self.Object===Object&&self;const p0=XU||oY||Function("return this")();var lY=p0.Symbol,e3=Object.prototype,cY=e3.hasOwnProperty,uY=e3.toString,YC=lY?lY.toStringTag:void 0;var pY=Object.prototype.toString;var t3=lY?lY.toStringTag:void 0;const q1=function vY(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":t3&&t3 in Object(n)?function dY(n){var e=cY.call(n,YC),t=n[YC];try{n[YC]=void 0;var i=!0}catch(s){}var r=uY.call(n);return i&&(e?n[YC]=t:delete n[YC]),r}(n):function gY(n){return pY.call(n)}(n)},Em=function bY(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},mR=function IY(n){if(!Em(n))return!1;var e=q1(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},yR=p0["__core-js_shared__"];var n3=function(){var n=/[^.]+$/.exec(yR&&yR.keys&&yR.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var kY=Function.prototype.toString;var PY=/^\[object .+?Constructor\]$/,BY=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const jY=function UY(n){return!(!Em(n)||function DY(n){return!!n3&&n3 in n}(n))&&(mR(n)?BY:PY).test(function MY(n){if(null!=n){try{return kY.call(n)}catch(e){}try{return n+""}catch(e){}}return""}(n))},_R=function WY(n,e){var t=function HY(n,e){return null==n?void 0:n[e]}(n,e);return jY(t)?t:void 0},i3=_R(p0,"Map"),QC=_R(Object,"create");var XY=Object.prototype.hasOwnProperty;var iQ=Object.prototype.hasOwnProperty;function g0(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}g0.prototype.clear=function qY(){this.__data__=QC?QC(null):{},this.size=0},g0.prototype.delete=function KY(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},g0.prototype.get=function eQ(n){var e=this.__data__;if(QC){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return XY.call(e,n)?e[n]:void 0},g0.prototype.has=function rQ(n){var e=this.__data__;return QC?void 0!==e[n]:iQ.call(e,n)},g0.prototype.set=function aQ(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=QC&&void 0===e?"__lodash_hash_undefined__":e,this};const r3=g0,Z1=function fQ(n,e){var t=n.__data__;return function dQ(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function m0(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}m0.prototype.clear=function cQ(){this.size=0,this.__data__={hash:new r3,map:new(i3||$1),string:new r3}},m0.prototype.delete=function pQ(n){var e=Z1(this,n).delete(n);return this.size-=e?1:0,e},m0.prototype.get=function mQ(n){return Z1(this,n).get(n)},m0.prototype.has=function _Q(n){return Z1(this,n).has(n)},m0.prototype.set=function bQ(n,e){var t=Z1(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this};const CQ=m0;function y0(n){var e=this.__data__=new $1(n);this.size=e.size}y0.prototype.clear=function QK(){this.__data__=new $1,this.size=0},y0.prototype.delete=function XK(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},y0.prototype.get=function tY(n){return this.__data__.get(n)},y0.prototype.has=function iY(n){return this.__data__.has(n)},y0.prototype.set=function EQ(n,e){var t=this.__data__;if(t instanceof $1){var i=t.__data__;if(!i3||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new CQ(i)}return t.set(n,e),this.size=t.size,this};const TQ=y0;var DQ=function(){try{var n=_R(Object,"defineProperty");return n({},"",{}),n}catch(e){}}();const K1=DQ,vR=function AQ(n,e,t){"__proto__"==e&&K1?K1(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t},bR=function SQ(n,e,t){(void 0!==t&&!z1(n[e],t)||void 0===t&&!(e in n))&&vR(n,e,t)};var MQ=function kQ(n){return function(e,t,i){for(var r=-1,s=Object(e),a=i(e),u=a.length;u--;){var h=a[n?u:++r];if(!1===t(s[h],h,s))break}return e}}();const NQ=MQ;var s3="object"==typeof exports&&exports&&!exports.nodeType&&exports,o3=s3&&"object"==typeof module&&module&&!module.nodeType&&module,a3=o3&&o3.exports===s3?p0.Buffer:void 0,l3=a3?a3.allocUnsafe:void 0;const c3=p0.Uint8Array,UQ=function BQ(n,e){var t=e?function FQ(n){var e=new n.constructor(n.byteLength);return new c3(e).set(new c3(n)),e}(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)};var u3=Object.create,zQ=function(){function n(){}return function(e){if(!Em(e))return{};if(u3)return u3(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const WQ=zQ;var GQ=function $Q(n,e){return function(t){return n(e(t))}}(Object.getPrototypeOf,Object);const d3=GQ;var qQ=Object.prototype;const h3=function ZQ(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||qQ)},JC=function QQ(n){return null!=n&&"object"==typeof n},f3=function XQ(n){return JC(n)&&"[object Arguments]"==q1(n)};var p3=Object.prototype,eJ=p3.hasOwnProperty,tJ=p3.propertyIsEnumerable,nJ=f3(function(){return arguments}())?f3:function(n){return JC(n)&&eJ.call(n,"callee")&&!tJ.call(n,"callee")};const wR=nJ,CR=Array.isArray,g3=function sJ(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},xR=function oJ(n){return null!=n&&g3(n.length)&&!mR(n)};var m3="object"==typeof exports&&exports&&!exports.nodeType&&exports,y3=m3&&"object"==typeof module&&module&&!module.nodeType&&module,_3=y3&&y3.exports===m3?p0.Buffer:void 0;const v3=(_3?_3.isBuffer:void 0)||function cJ(){return!1};var b3=Function.prototype.toString,yJ=Object.prototype.hasOwnProperty,_J=b3.call(Object);var Ni={};Ni["[object Float32Array]"]=Ni["[object Float64Array]"]=Ni["[object Int8Array]"]=Ni["[object Int16Array]"]=Ni["[object Int32Array]"]=Ni["[object Uint8Array]"]=Ni["[object Uint8ClampedArray]"]=Ni["[object Uint16Array]"]=Ni["[object Uint32Array]"]=!0,Ni["[object Arguments]"]=Ni["[object Array]"]=Ni["[object ArrayBuffer]"]=Ni["[object Boolean]"]=Ni["[object DataView]"]=Ni["[object Date]"]=Ni["[object Error]"]=Ni["[object Function]"]=Ni["[object Map]"]=Ni["[object Number]"]=Ni["[object Object]"]=Ni["[object RegExp]"]=Ni["[object Set]"]=Ni["[object String]"]=Ni["[object WeakMap]"]=!1;var w3="object"==typeof exports&&exports&&!exports.nodeType&&exports,XC=w3&&"object"==typeof module&&module&&!module.nodeType&&module,ER=XC&&XC.exports===w3&&XU.process,YJ=function(){try{return XC&&XC.require&&XC.require("util").types||ER&&ER.binding&&ER.binding("util")}catch(e){}}(),x3=YJ&&YJ.isTypedArray;const E3=x3?function qJ(n){return function(e){return n(e)}}(x3):function $J(n){return JC(n)&&g3(n.length)&&!!Ni[q1(n)]},IR=function JJ(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]};var eX=Object.prototype.hasOwnProperty;const nX=function tX(n,e,t){var i=n[e];(!eX.call(n,e)||!z1(i,t)||void 0===t&&!(e in n))&&vR(n,e,t)};var lX=/^(?:0|[1-9]\d*)$/;const I3=function cX(n,e){var t=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&lX.test(n))&&n>-1&&n%1==0&&n<e};var dX=Object.prototype.hasOwnProperty;const fX=function hX(n,e){var t=CR(n),i=!t&&wR(n),r=!t&&!i&&v3(n),s=!t&&!i&&!r&&E3(n),a=t||i||r||s,u=a?function sX(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}(n.length,String):[],h=u.length;for(var g in n)(e||dX.call(n,g))&&(!a||!("length"==g||r&&("offset"==g||"parent"==g)||s&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||I3(g,h)))&&u.push(g);return u};var yX=Object.prototype.hasOwnProperty;const vX=function _X(n){if(!Em(n))return function pX(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=h3(n),t=[];for(var i in n)"constructor"==i&&(e||!yX.call(n,i))||t.push(i);return t},T3=function bX(n){return xR(n)?fX(n,!0):vX(n)},CX=function wX(n){return function iX(n,e,t,i){var r=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var u=e[s],h=i?i(t[u],n[u],u,t,n):void 0;void 0===h&&(h=n[u]),r?vR(t,u,h):nX(t,u,h)}return t}(n,T3(n))},EX=function xX(n,e,t,i,r,s,a){var u=IR(n,t),h=IR(e,t),g=a.get(h);if(g)bR(n,t,g);else{var _=s?s(u,h,t+"",n,e,a):void 0,b=void 0===_;if(b){var I=CR(h),S=!I&&v3(h),P=!I&&!S&&E3(h);_=h,I||S||P?CR(u)?_=u:function aJ(n){return JC(n)&&xR(n)}(u)?_=function jQ(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}(u):S?(b=!1,_=function PQ(n,e){if(e)return n.slice();var t=n.length,i=l3?l3(t):new n.constructor(t);return n.copy(i),i}(h,!0)):P?(b=!1,_=UQ(h,!0)):_=[]:function vJ(n){if(!JC(n)||"[object Object]"!=q1(n))return!1;var e=d3(n);if(null===e)return!0;var t=yJ.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&b3.call(t)==_J}(h)||wR(h)?(_=u,wR(u)?_=CX(u):(!Em(u)||mR(u))&&(_=function KQ(n){return"function"!=typeof n.constructor||h3(n)?{}:WQ(d3(n))}(h))):b=!1}b&&(a.set(h,_),r(_,h,i,s,a),a.delete(h)),bR(n,t,_)}},IX=function D3(n,e,t,i,r){n!==e&&NQ(e,function(s,a){if(r||(r=new TQ),Em(s))EX(n,e,a,t,D3,i,r);else{var u=i?i(IR(n,a),s,a+"",n,e,r):void 0;void 0===u&&(u=s),bR(n,a,u)}},T3)},A3=function TX(n){return n},AX=function DX(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var S3=Math.max;const NX=function MX(n){return function(){return n}};var RX=K1?function(n,e){return K1(n,"toString",{configurable:!0,enumerable:!1,value:NX(e),writable:!0})}:A3,FX=Date.now,BX=function VX(n){var e=0,t=0;return function(){var i=FX(),r=16-(i-t);if(t=i,r>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(RX);const UX=BX,HX=function jX(n,e){return UX(function SX(n,e,t){return e=S3(void 0===e?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=S3(i.length-e,0),a=Array(s);++r<s;)a[r]=i[e+r];r=-1;for(var u=Array(e+1);++r<e;)u[r]=i[r];return u[e]=t(a),AX(n,this,u)}}(n,e,A3),n+"")};var GX=function $X(n){return HX(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,a&&function zX(n,e,t){if(!Em(t))return!1;var i=typeof e;return!!("number"==i?xR(t)&&I3(e,t.length):"string"==i&&e in t)&&z1(t[e],n)}(t[0],t[1],a)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var u=t[i];u&&n(e,u,i,s)}return e})}(function(n,e,t){IX(n,e,t)});const k3=GX;let qX=(()=>{class n{constructor(){this.colorschemesOptions=new tl(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZX=(()=>{class n{constructor(t,i,r){this.element=t,this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new d.vpe,this.chartHover=new d.vpe,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(vh()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){const i=["type"],r=Object.getOwnPropertyNames(t);if(r.some(s=>i.includes(s))||r.every(s=>t[s].isFirstChange()))this.render();else{const s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),Object.assign(this.chart.config.plugins,s.plugins),Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new WC(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>{var i;return null===(i=this.chart)||void 0===i?void 0:i.update(t)})}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){var i,r;return null===(r=null===(i=this.chart)||void 0===i?void 0:i.getDatasetMeta(t))||void 0===r?void 0:r.hidden}toBase64Image(){var t;return null===(t=this.chart)||void 0===t?void 0:t.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return k3({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(qX))},n.\u0275dir=d.lG2({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[d.TTD]}),n})();const KX=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],YX={datasets:{line:{backgroundColor:n=>lo(co(n.datasetIndex),.4),borderColor:n=>lo(co(n.datasetIndex),1),pointBackgroundColor:n=>lo(co(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>lo(co(n.datasetIndex),.8)},bar:{backgroundColor:n=>lo(co(n.datasetIndex),.6),borderColor:n=>lo(co(n.datasetIndex),1),hoverBackgroundColor:n=>lo(co(n.datasetIndex),.8),hoverBorderColor:n=>lo(co(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>lo(co(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>lo(co(n.dataIndex),1),hoverBorderColor:n=>lo(co(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>lo(co(n.dataIndex),.6),borderColor:n=>lo(co(n.dataIndex),1),hoverBackgroundColor:n=>lo(co(n.dataIndex),.8),hoverBorderColor:n=>lo(co(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function lo(n,e){return"rgba("+n.concat(e).join(",")+")"}function TR(n,e){return Math.floor(Math.random()*(e-n+1))+n}function co(n=0){return KX[n]||function QX(){return[TR(0,255),TR(0,255),TR(0,255)]}()}WC.register(FU,WU,RU,LU,XN,GC,xU,B1,KC,jB,qC,JN,$C,$B,h0,WB,zB,HB,GB,H1);let M3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JX=(()=>{class n{constructor(t){(null==t?void 0:t.plugins)&&WC.register(...null==t?void 0:t.plugins);const i=k3(YX,(null==t?void 0:t.defaults)||{});On.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:M3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(M3,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[]]}),n})();const XX=[{path:"inicio",component:uG},{path:"phone",component:cG},{path:"code",component:oG},{path:"login",component:aG},{path:"registrar",component:mG},{path:"explora",component:YG},{path:"agregar",component:wG},{path:"listas",component:NG},{path:"altas",component:wV},{path:"contacto",component:QG},{path:"grafica",component:(()=>{class n{constructor(){this.lineChartData=[{data:[30,60,50,100,250,100],label:"POPULARIDAD SEMANAL"}],this.lineChartLabels=["Foreo","LOREAL","Rude cosmetic","Mac cosmetic","Maybelline"],this.lineChartOptions={responsive:!0},this.lineChartLegend=!0,this.lineChartPlugins=[]}ngOnInit(){}grafico(){this.lineChartData=[{data:[100*Math.random()+0,50,60,100,150,250,100],label:"POLPULARIDAD SEMANAL"}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-line-charts"]],decls:15,vars:4,consts:[[1,"container","mt-5","pt-5"],[1,"col-12"],[1,"row"],["clas","col-5 pl-5 mt-5"],[1,"btn","btn-outline-primary",3,"click"],[1,"col-7"],[1,"chart-wrapper"],["baseChart","",3,"datasets","labels","options","plugins"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d._uU(5,"MARCA'S COSMETICOS"),d.qZA(),d._UZ(6,"br"),d.TgZ(7,"h3"),d._uU(8,"POPULARIDAD SEMANAL EN VENTAS "),d.qZA(),d._UZ(9,"br"),d.TgZ(10,"button",4),d.NdJ("click",function(){return i.grafico()}),d._uU(11,"Mostrar"),d.qZA()(),d.TgZ(12,"div",5)(13,"div",6),d._UZ(14,"canvas",7),d.qZA()()()()()),2&t&&(d.xp6(14),d.Q6J("datasets",i.lineChartData)("labels",i.lineChartLabels)("options",i.lineChartOptions)("plugins",i.lineChartPlugins))},directives:[ZX],styles:[".col-12[_ngcontent-%COMP%]{width:200%;background-color:#7fffd4;margin:30px auto auto;border-radius:25px;text-align:center;padding:20px}div[_ngcontent-%COMP%]{padding-left:80px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{background-color:#fa7e93;margin-top:30px;width:150px}button[_ngcontent-%COMP%]:hover{background-color:#fa7e93a4;font-weight:bolder;color:#fff;width:180px;height:50px}"]}),n})()},{path:"",redirectTo:"/inicio",pathMatch:"full"}];let eee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[uV.forRoot(XX)],uV]}),n})();const tee=function(){return["inicio"]},nee=function(){return["explora"]},iee=function(){return["contacto"]},ree=function(){return["login"]},see=function(){return["registrar"]};let oee=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:44,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#fa0463"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","../../assets/img/logoMay.png","width","80","height","50","alt",""],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["src","../../assets/img/inicio.png","alt",""],[1,"sr-only"],["src","../../assets/img/explora.png","alt",""],[1,"nav-link"],["src","../../assets/img/nosotros.png","alt",""],["src","../../assets/img/contactos.png","alt",""],[1,"nav-item","dropdown","dropleft"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["src","../../assets/img/user.png","alt",""],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],["src","../../assets/img/login.png","alt",""],[1,"dropdown-divider"],["src","../../assets/img/add.png","alt",""]],template:function(t,i){1&t&&(d.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),d._UZ(3,"img",3),d._uU(4,"Cihuatl"),d.qZA(),d.TgZ(5,"button",4),d._UZ(6,"span",5),d.qZA(),d.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9),d._UZ(11,"img",10),d.TgZ(12,"span"),d._uU(13,"INICIO"),d.qZA(),d.TgZ(14,"span",11),d._uU(15,"(current)"),d.qZA()()(),d.TgZ(16,"li",8)(17,"a",9),d._UZ(18,"img",12),d.TgZ(19,"span"),d._uU(20,"EXPLORA"),d.qZA()()(),d.TgZ(21,"li",8)(22,"a",13),d._UZ(23,"img",14),d.TgZ(24,"span"),d._uU(25,"NOSOTROS"),d.qZA()()(),d.TgZ(26,"li",8)(27,"a",9),d._UZ(28,"img",15),d.TgZ(29,"span"),d._uU(30,"CONTACTO"),d.qZA()()(),d.TgZ(31,"li",16)(32,"a",17),d._UZ(33,"img",18),d.qZA(),d.TgZ(34,"div",19)(35,"a",20),d._UZ(36,"img",21),d.TgZ(37,"span"),d._uU(38,"Login"),d.qZA()(),d._UZ(39,"div",22),d.TgZ(40,"a",20),d._UZ(41,"img",23),d.TgZ(42,"span"),d._uU(43,"Resgistrar"),d.qZA()()()()()()()()),2&t&&(d.xp6(10),d.Q6J("routerLink",d.DdM(5,tee)),d.xp6(7),d.Q6J("routerLink",d.DdM(6,nee)),d.xp6(10),d.Q6J("routerLink",d.DdM(7,iee)),d.xp6(8),d.Q6J("routerLink",d.DdM(8,ree)),d.xp6(5),d.Q6J("routerLink",d.DdM(9,see)))},directives:[s0],styles:['@import"https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap";@import"https://fonts.googleapis.com/css2?family=Special+Elite&display=swap";.navbar-brand[_ngcontent-%COMP%]{font-family:Dancing Script,cursive;-webkit-text-stroke:2px rgb(239,240,233);color:#dfd001;font-size:30px}.nav-link[_ngcontent-%COMP%]{font-family:Special Elite,cursive;font-size:16px}span[_ngcontent-%COMP%]{color:#fbffff}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgb(255,115,0);color:#9e0202}.dropdown-item[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{background:rgb(6,8,39);font-family:Special Elite,cursive}']}),n})(),aee=(()=>{class n{constructor(){this.title="FirebaseAuth"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,i){1&t&&d._UZ(0,"app-navbar")(1,"router-outlet")},directives:[oee,aN],styles:[""]}),n})(),lee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[aee]}),n.\u0275inj=d.cJS({providers:[vV],imports:[[au,eee,Xm,Hr.hO.initializeApp(Kf_firebase),gv,G5,rz,px,GG,KG,JX,sG,lc(()=>(0,qo.ZF)(Kf_firebase)),qR(()=>(0,Nu.n)()),tG.forRoot()]]}),n})();(0,d.G48)(),Gd().bootstrapModule(lee).catch(n=>console.error(n))},4901:qe=>{"use strict";var q={single_source_shortest_paths:function(R,d,M){var T={},F={};F[d]=0;var j,W,K,ue,G,te,V=q.PriorityQueue.make();for(V.push(d,0);!V.empty();)for(K in ue=(j=V.pop()).cost,G=R[W=j.value]||{})G.hasOwnProperty(K)&&(te=ue+G[K],(void 0===F[K]||F[K]>te)&&(F[K]=te,V.push(K,te),T[K]=W));if(void 0!==M&&void 0===F[M]){var Oe=["Could not find a path from ",d," to ",M,"."].join("");throw new Error(Oe)}return T},extract_shortest_path_from_predecessor_list:function(R,d){for(var M=[],T=d;T;)M.push(T),T=R[T];return M.reverse(),M},find_path:function(R,d,M){var T=q.single_source_shortest_paths(R,d,M);return q.extract_shortest_path_from_predecessor_list(T,M)},PriorityQueue:{make:function(R){var T,d=q.PriorityQueue,M={};for(T in R=R||{},d)d.hasOwnProperty(T)&&(M[T]=d[T]);return M.queue=[],M.sorter=R.sorter||d.default_sorter,M},default_sorter:function(R,d){return R.cost-d.cost},push:function(R,d){this.queue.push({value:R,cost:d}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};qe.exports=q},8419:qe=>{"use strict";qe.exports=function(R){for(var d=[],M=R.length,T=0;T<M;T++){var F=R.charCodeAt(T);if(F>=55296&&F<=56319&&M>T+1){var V=R.charCodeAt(T+1);V>=56320&&V<=57343&&(F=1024*(F-55296)+V-56320+65536,T+=1)}F<128?d.push(F):F<2048?(d.push(F>>6|192),d.push(63&F|128)):F<55296||F>=57344&&F<65536?(d.push(F>>12|224),d.push(F>>6&63|128),d.push(63&F|128)):F>=65536&&F<=1114111?(d.push(F>>18|240),d.push(F>>12&63|128),d.push(F>>6&63|128),d.push(63&F|128)):d.push(239,191,189)}return new Uint8Array(d).buffer}},5867:(qe,q,R)=>{"use strict";R.d(q,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=R(9681);(0,d.registerVersion)("firebase","9.8.1","app")},127:(qe,q,R)=>{"use strict";R.d(q,{Z:()=>d.Z});var d=R(3942);d.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(qe,q,R)=>{"use strict";R.r(q);var d=R(5861),M=R(3942),T=R(198),F=R(2090),W=(R(9681),R(1877),R(4859));function K(){return window}function Z(){return(Z=(0,d.Z)(function*(Ae,he,ce){var Ge;const{BuildInfo:dt}=K();(0,T.aq)(he.sessionId,"AuthEvent did not contain a session ID");const pt=yield Ce(he.sessionId),Mt={};return(0,T.ar)()?Mt.ibi=dt.packageName:(0,T.as)()?Mt.apn=dt.packageName:(0,T.at)(Ae,"operation-not-supported-in-this-environment"),dt.displayName&&(Mt.appDisplayName=dt.displayName),Mt.sessionId=pt,(0,T.au)(Ae,ce,he.type,void 0,null!==(Ge=he.eventId)&&void 0!==Ge?Ge:void 0,Mt)})).apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(Ae){const{BuildInfo:he}=K(),ce={};(0,T.ar)()?ce.iosBundleId=he.packageName:(0,T.as)()?ce.androidPackageName=he.packageName:(0,T.at)(Ae,"operation-not-supported-in-this-environment"),yield(0,T.av)(Ae,ce)})).apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(Ae,he,ce){const{cordova:Ge}=K();let dt=()=>{};try{yield new Promise((pt,Mt)=>{let en=null;function Jt(){var hn;pt();const lr=null===(hn=Ge.plugins.browsertab)||void 0===hn?void 0:hn.close;"function"==typeof lr&&lr(),"function"==typeof(null==ce?void 0:ce.close)&&ce.close()}function vi(){en||(en=window.setTimeout(()=>{Mt((0,T.aw)(Ae,"redirect-cancelled-by-user"))},2e3))}function Rr(){"visible"===(null==document?void 0:document.visibilityState)&&vi()}he.addPassiveListener(Jt),document.addEventListener("resume",vi,!1),(0,T.as)()&&document.addEventListener("visibilitychange",Rr,!1),dt=()=>{he.removePassiveListener(Jt),document.removeEventListener("resume",vi,!1),document.removeEventListener("visibilitychange",Rr,!1),en&&window.clearTimeout(en)}})}finally{dt()}})).apply(this,arguments)}function Ce(Ae){return Be.apply(this,arguments)}function Be(){return(Be=(0,d.Z)(function*(Ae){const he=Re(Ae),ce=yield crypto.subtle.digest("SHA-256",he);return Array.from(new Uint8Array(ce)).map(dt=>dt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Re(Ae){if((0,T.aq)(/[0-9a-zA-Z]+/.test(Ae),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ae);const he=new ArrayBuffer(Ae.length),ce=new Uint8Array(he);for(let Ge=0;Ge<Ae.length;Ge++)ce[Ge]=Ae.charCodeAt(Ge);return ce}class je extends T.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(he=>{this.resolveInialized=he})}addPassiveListener(he){this.passiveListeners.add(he)}removePassiveListener(he){this.passiveListeners.delete(he)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(he){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(he)),super.onEvent(he)}initialized(){var he=this;return(0,d.Z)(function*(){yield he.initPromise})()}}function ne(Ae){return de.apply(this,arguments)}function de(){return(de=(0,d.Z)(function*(Ae){const he=yield oe()._get(fe(Ae));return he&&(yield oe()._remove(fe(Ae))),he})).apply(this,arguments)}function ee(){const Ae=[],he="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const Ge=Math.floor(Math.random()*he.length);Ae.push(he.charAt(Ge))}return Ae.join("")}function oe(){return(0,T.ay)(T.b)}function fe(Ae){return(0,T.az)("authEvent",Ae.config.apiKey,Ae.name)}function Xe(Ae){if(!(null==Ae?void 0:Ae.includes("?")))return{};const[he,...ce]=Ae.split("?");return(0,F.zd)(ce.join("?"))}function at(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,T.aw)("no-auth-event")}}function Qt(){var Ae;return(null===(Ae=null==self?void 0:self.location)||void 0===Ae?void 0:Ae.protocol)||null}function yn(Ae=(0,F.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()||!Ae.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const Ae=self.localStorage,he=T.aI();if(Ae)return Ae.setItem(he,"1"),Ae.removeItem(he),!function mr(Ae=(0,F.z$)()){return function ei(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Fn(Ae=(0,F.z$)()){return/Edge\/\d+/.test(Ae)}(Ae)}()||(0,F.hl)()}catch(Ae){return $n()&&(0,F.hl)()}return!1}function $n(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function re(){return(function on(){return"http:"===Qt()||"https:"===Qt()}()||(0,F.ru)()||yn())&&!function Sn(){return(0,F.b$)()||(0,F.UG)()}()&&_i()&&!$n()}function _e(){return yn()&&"undefined"!=typeof document}function bt(){return(bt=(0,d.Z)(function*(){return!!_e()&&new Promise(Ae=>{const he=setTimeout(()=>{Ae(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(he),Ae(!0)})})})).apply(this,arguments)}const vt={LOCAL:"local",NONE:"none",SESSION:"session"},At=T.ax,it="persistence";function ht(Ae){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.Z)(function*(Ae){yield Ae._initializationPromise;const he=kt(),ce=T.az(it,Ae.config.apiKey,Ae.name);he&&he.setItem(ce,Ae._getPersistence())})).apply(this,arguments)}function kt(){var Ae;try{return(null===(Ae=function yt(){return"undefined"!=typeof window?window:null}())||void 0===Ae?void 0:Ae.sessionStorage)||null}catch(he){return null}}const ut=T.ax;class et{constructor(){this.browserResolver=T.ay(T.k),this.cordovaResolver=T.ay(class sn{constructor(){this._redirectPersistence=T.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=T.aB,this._overrideRedirectResult=T.aC}_initialize(he){var ce=this;return(0,d.Z)(function*(){const Ge=he._key();let dt=ce.eventManagers.get(Ge);return dt||(dt=new je(he),ce.eventManagers.set(Ge,dt),ce.attachCallbackListeners(he,dt)),dt})()}_openPopup(he){(0,T.at)(he,"operation-not-supported-in-this-environment")}_openRedirect(he,ce,Ge,dt){var pt=this;return(0,d.Z)(function*(){!function me(Ae){var he,ce,Ge,dt,pt,Mt,en,Jt,vi,Rr;const hn=K();(0,T.ax)("function"==typeof(null===(he=null==hn?void 0:hn.universalLinks)||void 0===he?void 0:he.subscribe),Ae,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,T.ax)(void 0!==(null===(ce=null==hn?void 0:hn.BuildInfo)||void 0===ce?void 0:ce.packageName),Ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,T.ax)("function"==typeof(null===(pt=null===(dt=null===(Ge=null==hn?void 0:hn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===pt?void 0:pt.openUrl),Ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.ax)("function"==typeof(null===(Jt=null===(en=null===(Mt=null==hn?void 0:hn.cordova)||void 0===Mt?void 0:Mt.plugins)||void 0===en?void 0:en.browsertab)||void 0===Jt?void 0:Jt.isAvailable),Ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,T.ax)("function"==typeof(null===(Rr=null===(vi=null==hn?void 0:hn.cordova)||void 0===vi?void 0:vi.InAppBrowser)||void 0===Rr?void 0:Rr.open),Ae,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(he);const Mt=yield pt._initialize(he);yield Mt.initialized(),Mt.resetRedirect(),(0,T.aD)(),yield pt._originValidation(he);const en=function ge(Ae,he,ce=null){return{type:he,eventId:ce,urlResponse:null,sessionId:ee(),postBody:null,tenantId:Ae.tenantId,error:(0,T.aw)(Ae,"no-auth-event")}}(he,Ge,dt);yield function Se(Ae,he){return oe()._set(fe(Ae),he)}(he,en);const Jt=yield function G(Ae,he,ce){return Z.apply(this,arguments)}(he,en,ce),vi=yield function Ie(Ae){const{cordova:he}=K();return new Promise(ce=>{he.plugins.browsertab.isAvailable(Ge=>{let dt=null;Ge?he.plugins.browsertab.openUrl(Ae):dt=he.InAppBrowser.open(Ae,(0,T.ap)()?"_blank":"_system","location=yes"),ce(dt)})})}(Jt);return function Oe(Ae,he,ce){return We.apply(this,arguments)}(he,Mt,vi)})()}_isIframeWebStorageSupported(he,ce){throw new Error("Method not implemented.")}_originValidation(he){const ce=he._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function te(Ae){return Pe.apply(this,arguments)}(he)),this.originValidationPromises[ce]}attachCallbackListeners(he,ce){const{universalLinks:Ge,handleOpenURL:dt,BuildInfo:pt}=K(),Mt=setTimeout((0,d.Z)(function*(){yield ne(he),ce.onEvent(at())}),500),en=function(){var Rr=(0,d.Z)(function*(hn){clearTimeout(Mt);const lr=yield ne(he);let bs=null;lr&&(null==hn?void 0:hn.url)&&(bs=function xe(Ae,he){var ce,Ge;const dt=function De(Ae){const he=Xe(Ae),ce=he.link?decodeURIComponent(he.link):void 0,Ge=Xe(ce).link,dt=he.deep_link_id?decodeURIComponent(he.deep_link_id):void 0;return Xe(dt).link||dt||Ge||ce||Ae}(he);if(dt.includes("/__/auth/callback")){const pt=Xe(dt),Mt=pt.firebaseError?function we(Ae){try{return JSON.parse(Ae)}catch(he){return null}}(decodeURIComponent(pt.firebaseError)):null,en=null===(Ge=null===(ce=null==Mt?void 0:Mt.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===Ge?void 0:Ge[1],Jt=en?(0,T.aw)(en):null;return Jt?{type:Ae.type,eventId:Ae.eventId,tenantId:Ae.tenantId,error:Jt,urlResponse:null,sessionId:null,postBody:null}:{type:Ae.type,eventId:Ae.eventId,tenantId:Ae.tenantId,sessionId:Ae.sessionId,urlResponse:dt,postBody:null}}return null}(lr,hn.url)),ce.onEvent(bs||at())});return function(lr){return Rr.apply(this,arguments)}}();void 0!==Ge&&"function"==typeof Ge.subscribe&&Ge.subscribe(null,en);const Jt=dt,vi=`${pt.packageName.toLowerCase()}://`;K().handleOpenURL=function(){var Rr=(0,d.Z)(function*(hn){if(hn.toLowerCase().startsWith(vi)&&en({url:hn}),"function"==typeof Jt)try{Jt(hn)}catch(lr){console.error(lr)}});return function(hn){return Rr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=T.a,this._completeRedirectFn=T.aB,this._overrideRedirectResult=T.aC}_initialize(he){var ce=this;return(0,d.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(he)})()}_openPopup(he,ce,Ge,dt){var pt=this;return(0,d.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(he,ce,Ge,dt)})()}_openRedirect(he,ce,Ge,dt){var pt=this;return(0,d.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(he,ce,Ge,dt)})()}_isIframeWebStorageSupported(he,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(he,ce)}_originValidation(he){return this.assertedUnderlyingResolver._originValidation(he)}get _shouldInitProactively(){return _e()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ut(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var he=this;return(0,d.Z)(function*(){if(he.underlyingResolver)return;const ce=yield function pe(){return bt.apply(this,arguments)}();he.underlyingResolver=ce?he.cordovaResolver:he.browserResolver})()}}function xn(Ae){return Ae.unwrap()}function Bt(Ae){return pn(Ae)}function pn(Ae){const{_tokenResponse:he}=Ae instanceof F.ZR?Ae.customData:Ae;if(!he)return null;if(!(Ae instanceof F.ZR)&&"temporaryProof"in he&&"phoneNumber"in he)return T.P.credentialFromResult(Ae);const ce=he.providerId;if(!ce||ce===T.o.PASSWORD)return null;let Ge;switch(ce){case T.o.GOOGLE:Ge=T.Q;break;case T.o.FACEBOOK:Ge=T.N;break;case T.o.GITHUB:Ge=T.T;break;case T.o.TWITTER:Ge=T.W;break;default:const{oauthIdToken:dt,oauthAccessToken:pt,oauthTokenSecret:Mt,pendingToken:en,nonce:Jt}=he;return pt||Mt||dt||en?en?ce.startsWith("saml.")?T.aL._create(ce,en):T.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:en,idToken:dt,accessToken:pt}):new T.U(ce).credential({idToken:dt,accessToken:pt,rawNonce:Jt}):null}return Ae instanceof F.ZR?Ge.credentialFromError(Ae):Ge.credentialFromResult(Ae)}function Zt(Ae,he){return he.catch(ce=>{throw ce instanceof F.ZR&&function si(Ae,he){var ce;const Ge=null===(ce=he.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===he.code)he.resolver=new X(Ae,T.an(Ae,he));else if(Ge){const dt=pn(he),pt=he;dt&&(pt.credential=dt,pt.tenantId=Ge.tenantId||void 0,pt.email=Ge.email||void 0,pt.phoneNumber=Ge.phoneNumber||void 0)}}(Ae,ce),ce}).then(ce=>{const dt=ce.user;return{operationType:ce.operationType,credential:Bt(ce),additionalUserInfo:T.al(ce),user:Ve.getOrCreate(dt)}})}function Y(Ae,he){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(Ae,he){const ce=yield he;return{verificationId:ce.verificationId,confirm:Ge=>Zt(Ae,ce.confirm(Ge))}})).apply(this,arguments)}class X{constructor(he,ce){this.resolver=ce,this.auth=function $t(Ae){return Ae.wrapped()}(he)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(he){return Zt(xn(this.auth),this.resolver.resolveSignIn(he))}}class Ve{constructor(he){this._delegate=he,this.multiFactor=T.ao(he)}static getOrCreate(he){return Ve.USER_MAP.has(he)||Ve.USER_MAP.set(he,new Ve(he)),Ve.USER_MAP.get(he)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(he){return this._delegate.getIdTokenResult(he)}getIdToken(he){return this._delegate.getIdToken(he)}linkAndRetrieveDataWithCredential(he){return this.linkWithCredential(he)}linkWithCredential(he){var ce=this;return(0,d.Z)(function*(){return Zt(ce.auth,T.Z(ce._delegate,he))})()}linkWithPhoneNumber(he,ce){var Ge=this;return(0,d.Z)(function*(){return Y(Ge.auth,T.l(Ge._delegate,he,ce))})()}linkWithPopup(he){var ce=this;return(0,d.Z)(function*(){return Zt(ce.auth,T.d(ce._delegate,he,et))})()}linkWithRedirect(he){var ce=this;return(0,d.Z)(function*(){return yield ht(T.aE(ce.auth)),T.g(ce._delegate,he,et)})()}reauthenticateAndRetrieveDataWithCredential(he){return this.reauthenticateWithCredential(he)}reauthenticateWithCredential(he){var ce=this;return(0,d.Z)(function*(){return Zt(ce.auth,T._(ce._delegate,he))})()}reauthenticateWithPhoneNumber(he,ce){return Y(this.auth,T.r(this._delegate,he,ce))}reauthenticateWithPopup(he){return Zt(this.auth,T.e(this._delegate,he,et))}reauthenticateWithRedirect(he){var ce=this;return(0,d.Z)(function*(){return yield ht(T.aE(ce.auth)),T.h(ce._delegate,he,et)})()}sendEmailVerification(he){return T.ab(this._delegate,he)}unlink(he){var ce=this;return(0,d.Z)(function*(){return yield T.ak(ce._delegate,he),ce})()}updateEmail(he){return T.ag(this._delegate,he)}updatePassword(he){return T.ah(this._delegate,he)}updatePhoneNumber(he){return T.u(this._delegate,he)}updateProfile(he){return T.af(this._delegate,he)}verifyBeforeUpdateEmail(he,ce){return T.ac(this._delegate,he,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ve.USER_MAP=new WeakMap;const ie=T.ax;let be=(()=>{class Ae{constructor(ce,Ge){if(this.app=ce,Ge.isInitialized())return this._delegate=Ge.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:dt}=ce.options;ie(dt,"invalid-api-key",{appName:ce.name}),ie(dt,"invalid-api-key",{appName:ce.name});const pt="undefined"!=typeof window?et:void 0;this._delegate=Ge.initialize({options:{persistence:ft(dt,ce.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(T.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ve.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,Ge){T.G(this._delegate,ce,Ge)}applyActionCode(ce){return T.a2(this._delegate,ce)}checkActionCode(ce){return T.a3(this._delegate,ce)}confirmPasswordReset(ce,Ge){return T.a1(this._delegate,ce,Ge)}createUserWithEmailAndPassword(ce,Ge){var dt=this;return(0,d.Z)(function*(){return Zt(dt._delegate,T.a5(dt._delegate,ce,Ge))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return T.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return T.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,d.Z)(function*(){ie(re(),ce._delegate,"operation-not-supported-in-this-environment");const Ge=yield T.j(ce._delegate,et);return Ge?Zt(ce._delegate,Promise.resolve(Ge)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function dn(Ae,he){(0,T.aE)(Ae)._logFramework(he)}(this._delegate,ce)}onAuthStateChanged(ce,Ge,dt){const{next:pt,error:Mt,complete:en}=Ke(ce,Ge,dt);return this._delegate.onAuthStateChanged(pt,Mt,en)}onIdTokenChanged(ce,Ge,dt){const{next:pt,error:Mt,complete:en}=Ke(ce,Ge,dt);return this._delegate.onIdTokenChanged(pt,Mt,en)}sendSignInLinkToEmail(ce,Ge){return T.a7(this._delegate,ce,Ge)}sendPasswordResetEmail(ce,Ge){return T.a0(this._delegate,ce,Ge||void 0)}setPersistence(ce){var Ge=this;return(0,d.Z)(function*(){let dt;switch(function Ut(Ae,he){At(Object.values(vt).includes(he),Ae,"invalid-persistence-type"),(0,F.b$)()?At(he!==vt.SESSION,Ae,"unsupported-persistence-type"):(0,F.UG)()?At(he===vt.NONE,Ae,"unsupported-persistence-type"):$n()?At(he===vt.NONE||he===vt.LOCAL&&(0,F.hl)(),Ae,"unsupported-persistence-type"):At(he===vt.NONE||_i(),Ae,"unsupported-persistence-type")}(Ge._delegate,ce),ce){case vt.SESSION:dt=T.a;break;case vt.LOCAL:dt=(yield T.ay(T.i)._isAvailable())?T.i:T.b;break;case vt.NONE:dt=T.L;break;default:return T.at("argument-error",{appName:Ge._delegate.name})}return Ge._delegate.setPersistence(dt)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return Zt(this._delegate,T.X(this._delegate))}signInWithCredential(ce){return Zt(this._delegate,T.Y(this._delegate,ce))}signInWithCustomToken(ce){return Zt(this._delegate,T.$(this._delegate,ce))}signInWithEmailAndPassword(ce,Ge){return Zt(this._delegate,T.a6(this._delegate,ce,Ge))}signInWithEmailLink(ce,Ge){return Zt(this._delegate,T.a9(this._delegate,ce,Ge))}signInWithPhoneNumber(ce,Ge){return Y(this._delegate,T.s(this._delegate,ce,Ge))}signInWithPopup(ce){var Ge=this;return(0,d.Z)(function*(){return ie(re(),Ge._delegate,"operation-not-supported-in-this-environment"),Zt(Ge._delegate,T.c(Ge._delegate,ce,et))})()}signInWithRedirect(ce){var Ge=this;return(0,d.Z)(function*(){return ie(re(),Ge._delegate,"operation-not-supported-in-this-environment"),yield ht(Ge._delegate),T.f(Ge._delegate,ce,et)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return T.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ae.Persistence=vt,Ae})();function Ke(Ae,he,ce){let Ge=Ae;"function"!=typeof Ae&&({next:Ge,error:he,complete:ce}=Ae);const dt=Ge;return{next:Mt=>dt(Mt&&Ve.getOrCreate(Mt)),error:he,complete:ce}}function ft(Ae,he){const ce=function kn(Ae,he){const ce=kt();if(!ce)return[];const Ge=T.az(it,Ae,he);switch(ce.getItem(Ge)){case vt.NONE:return[T.L];case vt.LOCAL:return[T.i,T.a];case vt.SESSION:return[T.a];default:return[]}}(Ae,he);if("undefined"!=typeof self&&!ce.includes(T.i)&&ce.push(T.i),"undefined"!=typeof window)for(const Ge of[T.b,T.a])ce.includes(Ge)||ce.push(Ge);return ce.includes(T.L)||ce.push(T.L),ce}class St{constructor(){this.providerId="phone",this._delegate=new T.P(xn(M.Z.auth()))}static credential(he,ce){return T.P.credential(he,ce)}verifyPhoneNumber(he,ce){return this._delegate.verifyPhoneNumber(he,ce)}unwrap(){return this._delegate}}St.PHONE_SIGN_IN_METHOD=T.P.PHONE_SIGN_IN_METHOD,St.PROVIDER_ID=T.P.PROVIDER_ID;const Kt=T.ax;class Tn{constructor(he,ce,Ge=M.Z.app()){var dt;Kt(null===(dt=Ge.options)||void 0===dt?void 0:dt.apiKey,"invalid-api-key",{appName:Ge.name}),this._delegate=new T.R(he,ce,Ge.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oi(Ae){Ae.INTERNAL.registerComponent(new W.wA("auth-compat",he=>{const ce=he.getProvider("app-compat").getImmediate(),Ge=he.getProvider("auth");return new be(ce,Ge)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:T.A.EMAIL_SIGNIN,PASSWORD_RESET:T.A.PASSWORD_RESET,RECOVER_EMAIL:T.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:T.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:T.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:T.A.VERIFY_EMAIL}},EmailAuthProvider:T.M,FacebookAuthProvider:T.N,GithubAuthProvider:T.T,GoogleAuthProvider:T.Q,OAuthProvider:T.U,SAMLAuthProvider:T.V,PhoneAuthProvider:St,PhoneMultiFactorGenerator:T.m,RecaptchaVerifier:Tn,TwitterAuthProvider:T.W,Auth:be,AuthCredential:T.H,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ae.registerVersion("@firebase/auth-compat","0.2.14")}(M.Z)},7550:function(qe,q){var d,M;M="undefined"==typeof global?"undefined"==typeof window?this:window:global,d=function(){return function(M){"use strict";if(void 0===M&&void 0===M.document)return!1;var T,F,V,j,W,K="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",ue='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',G_Success="Success",G_Failure="Failure",G_Warning="Warning",G_Info="Info",Z={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},te_Success="Success",te_Failure="Failure",te_Warning="Warning",te_Info="Info",Pe={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},Ie_Show="Show",Ie_Ask="Ask",Ie_Prompt="Prompt",Oe={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},We_Standard="Standard",We_Hourglass="Hourglass",We_Circle="Circle",We_Arrows="Arrows",We_Dots="Dots",We_Pulse="Pulse",We_Custom="Custom",We_Notiflix="Notiflix",me={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},Ce_Standard="Standard",Ce_Hourglass="Hourglass",Ce_Circle="Circle",Ce_Arrows="Arrows",Ce_Dots="Dots",Ce_Pulse="Pulse",Be={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},Re=function(re){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+re+K)},je=function(re){return re||(re="head"),null!==M.document[re]||(Re('\nNotiflix needs to be appended to the "<'+re+'>" element, but you called it before the "<'+re+'>" element has been created.'),!1)},ge=function(re,_e){if(!je("head"))return!1;if(null!==re()&&!M.document.getElementById(_e)){var pe=M.document.createElement("style");pe.id=_e,pe.innerHTML=re(),M.document.head.appendChild(pe)}},Se=function(){var re={},_e=!1,pe=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(_e=arguments[0],pe++);for(var bt=function(yt){for(var vt in yt)Object.prototype.hasOwnProperty.call(yt,vt)&&(re[vt]=_e&&"[object Object]"===Object.prototype.toString.call(yt[vt])?Se(re[vt],yt[vt]):yt[vt])};pe<arguments.length;pe++)bt(arguments[pe]);return re},ne=function(re){var _e=M.document.createElement("div");return _e.innerHTML=re,_e.textContent||_e.innerText||""},fe=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+_e+'" width="'+re+'" height="'+re+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},we=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+_e+'" width="'+re+'" height="'+re+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},De=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+re+'" height="'+re+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+re+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+re+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+_e+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},Xe=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+_e+'" width="'+re+'" height="'+re+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},Tt=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+_e+'" width="'+re+'" height="'+re+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},sn=function(re,_e){return re||(re="60px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+_e+'" width="'+re+'" height="'+re+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},at=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},dn=0,Ln=function(re,_e,pe,bt){if(!je("body"))return!1;T||$n.Notify.init({});var yt=Se(!0,T,{});if("object"==typeof pe&&!Array.isArray(pe)||"object"==typeof bt&&!Array.isArray(bt)){var vt={};"object"==typeof pe?vt=pe:"object"==typeof bt&&(vt=bt),T=Se(!0,T,vt)}var At=T[re.toLocaleLowerCase("en")];dn++,"string"!=typeof _e&&(_e="Notiflix "+re),T.plainText&&(_e=ne(_e)),!T.plainText&&_e.length>T.messageMaxLength&&(T=Se(!0,T,{closeButton:!0,messageMaxLength:150}),_e='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),_e.length>T.messageMaxLength&&(_e=_e.substring(0,T.messageMaxLength)+"..."),"shadow"===T.fontAwesomeIconStyle&&(At.fontAwesomeIconColor=At.background),T.cssAnimation||(T.cssAnimationDuration=0);var it=M.document.getElementById(Z.wrapID)||M.document.createElement("div");if(it.id=Z.wrapID,it.style.width=T.width,it.style.zIndex=T.zindex,it.style.opacity=T.opacity,"center-center"===T.position?(it.style.left=T.distance,it.style.top=T.distance,it.style.right=T.distance,it.style.bottom=T.distance,it.style.margin="auto",it.classList.add("nx-flex-center-center"),it.style.maxHeight="calc((100vh - "+T.distance+") - "+T.distance+")",it.style.display="flex",it.style.flexWrap="wrap",it.style.flexDirection="column",it.style.justifyContent="center",it.style.alignItems="center",it.style.pointerEvents="none"):"center-top"===T.position?(it.style.left=T.distance,it.style.right=T.distance,it.style.top=T.distance,it.style.bottom="auto",it.style.margin="auto"):"center-bottom"===T.position?(it.style.left=T.distance,it.style.right=T.distance,it.style.bottom=T.distance,it.style.top="auto",it.style.margin="auto"):"right-bottom"===T.position?(it.style.right=T.distance,it.style.bottom=T.distance,it.style.top="auto",it.style.left="auto"):"left-top"===T.position?(it.style.left=T.distance,it.style.top=T.distance,it.style.right="auto",it.style.bottom="auto"):"left-bottom"===T.position?(it.style.left=T.distance,it.style.bottom=T.distance,it.style.top="auto",it.style.right="auto"):(it.style.right=T.distance,it.style.top=T.distance,it.style.left="auto",it.style.bottom="auto"),T.backOverlay){var Ut=M.document.getElementById(Z.overlayID)||M.document.createElement("div");Ut.id=Z.overlayID,Ut.style.width="100%",Ut.style.height="100%",Ut.style.position="fixed",Ut.style.zIndex=T.zindex-1,Ut.style.left=0,Ut.style.top=0,Ut.style.right=0,Ut.style.bottom=0,Ut.style.background=At.backOverlayColor||T.backOverlayColor,Ut.className=T.cssAnimation?"nx-with-animation":"",Ut.style.animationDuration=T.cssAnimation?T.cssAnimationDuration+"ms":"",M.document.getElementById(Z.overlayID)||M.document.body.appendChild(Ut)}M.document.getElementById(Z.wrapID)||M.document.body.appendChild(it);var ht=M.document.createElement("div");ht.id=T.ID+"-"+dn,ht.className=T.className+" "+At.childClassName+" "+(T.cssAnimation?"nx-with-animation":"")+" "+(T.useIcon?"nx-with-icon":"")+" nx-"+T.cssAnimationStyle+" "+(T.closeButton&&"function"!=typeof pe?"nx-with-close-button":"")+" "+("function"==typeof pe?"nx-with-callback":"")+" "+(T.clickToClose?"nx-notify-click-to-close":""),ht.style.fontSize=T.fontSize,ht.style.color=At.textColor,ht.style.background=At.background,ht.style.borderRadius=T.borderRadius,ht.style.pointerEvents="all",T.rtl&&(ht.setAttribute("dir","rtl"),ht.classList.add("nx-rtl-on")),ht.style.fontFamily='"'+T.fontFamily+'", '+ue,T.cssAnimation&&(ht.style.animationDuration=T.cssAnimationDuration+"ms");var jt="";if(T.closeButton&&"function"!=typeof pe&&(jt='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+At.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),T.useIcon)if(T.useFontAwesome)ht.innerHTML='<i style="color:'+At.fontAwesomeIconColor+"; font-size:"+T.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+At.fontAwesomeClassName+" "+("shadow"===T.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+_e+"</span>"+(T.closeButton?jt:"");else{var kn="";re===G_Success?kn='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+At.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':re===G_Failure?kn='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+At.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':re===G_Warning?kn='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+At.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':re===G_Info&&(kn='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+At.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),ht.innerHTML=kn+'<span class="nx-message nx-with-icon">'+_e+"</span>"+(T.closeButton?jt:"")}else ht.innerHTML='<span class="nx-message">'+_e+"</span>"+(T.closeButton?jt:"");if("left-bottom"===T.position||"right-bottom"===T.position){var kt=M.document.getElementById(Z.wrapID);kt.insertBefore(ht,kt.firstChild)}else M.document.getElementById(Z.wrapID).appendChild(ht);var ut=M.document.getElementById(ht.id);if(ut){var et,xn,$t=function(){ut.classList.add("nx-remove");var X=M.document.getElementById(Z.overlayID);X&&0>=it.childElementCount&&X.classList.add("nx-remove"),clearTimeout(et)},Bt=function(){if(ut&&null!==ut.parentNode&&ut.parentNode.removeChild(ut),0>=it.childElementCount&&null!==it.parentNode){it.parentNode.removeChild(it);var X=M.document.getElementById(Z.overlayID);X&&null!==X.parentNode&&X.parentNode.removeChild(X)}clearTimeout(xn)};if(T.closeButton&&"function"!=typeof pe&&M.document.getElementById(ht.id).querySelector("span.nx-close-button").addEventListener("click",function(){$t();var X=setTimeout(function(){Bt(),clearTimeout(X)},T.cssAnimationDuration)}),("function"==typeof pe||T.clickToClose)&&ut.addEventListener("click",function(){"function"==typeof pe&&pe(),$t();var X=setTimeout(function(){Bt(),clearTimeout(X)},T.cssAnimationDuration)}),!T.closeButton&&"function"!=typeof pe){var pn=function(){et=setTimeout(function(){$t()},T.timeout),xn=setTimeout(function(){Bt()},T.timeout+T.cssAnimationDuration)};pn(),T.pauseOnHover&&(ut.addEventListener("mouseenter",function(){ut.classList.add("nx-paused"),clearTimeout(et),clearTimeout(xn)}),ut.addEventListener("mouseleave",function(){ut.classList.remove("nx-paused"),pn()}))}}if(T.showOnlyTheLastOne&&0<dn)for(var Zt,Y=M.document.querySelectorAll("[id^="+T.ID+"-]:not([id="+T.ID+"-"+dn+"])"),se=0;se<Y.length;se++)null!==(Zt=Y[se]).parentNode&&Zt.parentNode.removeChild(Zt);T=Se(!0,T,yt)},wn=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},an=function(re,_e,pe,bt,yt,vt){if(!je("body"))return!1;F||$n.Report.init({});var At={};if("object"==typeof yt&&!Array.isArray(yt)||"object"==typeof vt&&!Array.isArray(vt)){var it={};"object"==typeof yt?it=yt:"object"==typeof vt&&(it=vt),At=Se(!0,F,{}),F=Se(!0,F,it)}var Ut=F[re.toLocaleLowerCase("en")];"string"!=typeof _e&&(_e="Notiflix "+re),"string"!=typeof pe&&(re===te_Success?pe='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':re===te_Failure?pe='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':re===te_Warning?pe='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':re===te_Info&&(pe='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof bt&&(bt="Okay"),F.plainText&&(_e=ne(_e),pe=ne(pe),bt=ne(bt)),F.plainText||(_e.length>F.titleMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',bt="Okay"),pe.length>F.messageMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',bt="Okay"),bt.length>F.buttonMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',bt="Okay")),_e.length>F.titleMaxLength&&(_e=_e.substring(0,F.titleMaxLength)+"..."),pe.length>F.messageMaxLength&&(pe=pe.substring(0,F.messageMaxLength)+"..."),bt.length>F.buttonMaxLength&&(bt=bt.substring(0,F.buttonMaxLength)+"..."),F.cssAnimation||(F.cssAnimationDuration=0);var ht=M.document.createElement("div");ht.id=Pe.ID,ht.className=F.className,ht.style.zIndex=F.zindex,ht.style.borderRadius=F.borderRadius,ht.style.fontFamily='"'+F.fontFamily+'", '+ue,F.rtl&&(ht.setAttribute("dir","rtl"),ht.classList.add("nx-rtl-on")),ht.style.display="flex",ht.style.flexWrap="wrap",ht.style.flexDirection="column",ht.style.alignItems="center",ht.style.justifyContent="center";var jt="",kn=!0===F.backOverlayClickToClose;F.backOverlay&&(jt='<div class="'+F.className+"-overlay"+(F.cssAnimation?" nx-with-animation":"")+(kn?" nx-report-click-to-close":"")+'" style="background:'+(Ut.backOverlayColor||F.backOverlayColor)+";animation-duration:"+F.cssAnimationDuration+'ms;"></div>');var kt="";if(re===te_Success?kt=function(re,_e){return re||(re="110px"),_e||(_e="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+re+'" height="'+re+'" fill="'+_e+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(F.svgSize,Ut.svgColor):re===te_Failure?kt=function(re,_e){return re||(re="110px"),_e||(_e="#ff5549"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+re+'" height="'+re+'" fill="'+_e+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(F.svgSize,Ut.svgColor):re===te_Warning?kt=function(re,_e){return re||(re="110px"),_e||(_e="#eebf31"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+re+'" height="'+re+'" fill="'+_e+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(F.svgSize,Ut.svgColor):re===te_Info&&(kt=function(re,_e){return re||(re="110px"),_e||(_e="#26c0d3"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+re+'" height="'+re+'" fill="'+_e+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'}(F.svgSize,Ut.svgColor)),ht.innerHTML=jt+'<div class="'+F.className+"-content"+(F.cssAnimation?" nx-with-animation ":"")+" nx-"+F.cssAnimationStyle+'" style="width:'+F.width+"; background:"+F.backgroundColor+"; animation-duration:"+F.cssAnimationDuration+'ms;"><div style="width:'+F.svgSize+"; height:"+F.svgSize+';" class="'+F.className+'-icon">'+kt+'</div><h5 class="'+F.className+'-title" style="font-weight:500; font-size:'+F.titleFontSize+"; color:"+Ut.titleColor+';">'+_e+'</h5><p class="'+F.className+'-message" style="font-size:'+F.messageFontSize+"; color:"+Ut.messageColor+';">'+pe+'</p><a id="NXReportButton" class="'+F.className+'-button" style="font-weight:500; font-size:'+F.buttonFontSize+"; background:"+Ut.buttonBackground+"; color:"+Ut.buttonColor+';">'+bt+"</a></div>",!M.document.getElementById(ht.id)){M.document.body.appendChild(ht);var ut=function(){var $t=M.document.getElementById(ht.id);$t.classList.add("nx-remove");var Bt=setTimeout(function(){null!==$t.parentNode&&$t.parentNode.removeChild($t),clearTimeout(Bt)},F.cssAnimationDuration)};M.document.getElementById("NXReportButton").addEventListener("click",function(){"function"==typeof yt&&yt(),ut()}),jt&&kn&&M.document.querySelector(".nx-report-click-to-close").addEventListener("click",function(){ut()})}F=Se(!0,F,At)},Qt=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},on=function(re,_e,pe,bt,yt,vt,At,it,Ut){if(!je("body"))return!1;V||$n.Confirm.init({});var ht=Se(!0,V,{});"object"!=typeof Ut||Array.isArray(Ut)||(V=Se(!0,V,Ut)),"string"!=typeof _e&&(_e="Notiflix Confirm"),"string"!=typeof pe&&(pe="Do you agree with me?"),"string"!=typeof yt&&(yt="Yes"),"string"!=typeof vt&&(vt="No"),"function"!=typeof At&&(At=void 0),"function"!=typeof it&&(it=void 0),V.plainText&&(_e=ne(_e),pe=ne(pe),yt=ne(yt),vt=ne(vt)),V.plainText||(_e.length>V.titleMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',yt="Okay",vt="..."),pe.length>V.messageMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',yt="Okay",vt="..."),(yt.length||vt.length)>V.buttonsMaxLength&&(_e="Possible HTML Tags Error",pe='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',yt="Okay",vt="...")),_e.length>V.titleMaxLength&&(_e=_e.substring(0,V.titleMaxLength)+"..."),pe.length>V.messageMaxLength&&(pe=pe.substring(0,V.messageMaxLength)+"..."),yt.length>V.buttonsMaxLength&&(yt=yt.substring(0,V.buttonsMaxLength)+"..."),vt.length>V.buttonsMaxLength&&(vt=vt.substring(0,V.buttonsMaxLength)+"..."),V.cssAnimation||(V.cssAnimationDuration=0);var jt=M.document.createElement("div");jt.id=Oe.ID,jt.className=V.className+(V.cssAnimation?" nx-with-animation nx-"+V.cssAnimationStyle:""),jt.style.zIndex=V.zindex,jt.style.padding=V.distance,V.rtl&&(jt.setAttribute("dir","rtl"),jt.classList.add("nx-rtl-on"));var kn="string"==typeof V.position?V.position.trim():"center";jt.classList.add("nx-position-"+kn),jt.style.fontFamily='"'+V.fontFamily+'", '+ue;var kt="";V.backOverlay&&(kt='<div class="'+V.className+"-overlay"+(V.cssAnimation?" nx-with-animation":"")+'" style="background:'+V.backOverlayColor+";animation-duration:"+V.cssAnimationDuration+'ms;"></div>');var ut="";"function"==typeof At&&(ut='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+V.cancelButtonColor+";background:"+V.cancelButtonBackground+";font-size:"+V.buttonsFontSize+';">'+vt+"</a>");var et="",xn=null,$t=void 0;if(re===Ie_Ask||re===Ie_Prompt){xn=bt||"";var Bt=re===Ie_Ask||200<xn.length?Math.ceil(1.5*xn.length):250;et='<div><input id="NXConfirmValidationInput" type="text" '+(re===Ie_Prompt?'value="'+xn+'"':"")+' maxlength="'+Bt+'" style="font-size:'+V.messageFontSize+";border-radius: "+V.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(jt.innerHTML=kt+'<div class="'+V.className+'-content" style="width:'+V.width+"; background:"+V.backgroundColor+"; animation-duration:"+V.cssAnimationDuration+"ms; border-radius: "+V.borderRadius+';"><div class="'+V.className+'-head"><h5 style="color:'+V.titleColor+";font-size:"+V.titleFontSize+';">'+_e+'</h5><div style="color:'+V.messageColor+";font-size:"+V.messageFontSize+';">'+pe+et+'</div></div><div class="'+V.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof At?"":" nx-full")+'" style="color:'+V.okButtonColor+";background:"+V.okButtonBackground+";font-size:"+V.buttonsFontSize+';">'+yt+"</a>"+ut+"</div></div>",!M.document.getElementById(jt.id)){M.document.body.appendChild(jt);var pn=M.document.getElementById(jt.id),Zt=M.document.getElementById("NXConfirmButtonOk"),Y=M.document.getElementById("NXConfirmValidationInput");Y&&(Y.focus(),Y.setSelectionRange(0,(Y.value||"").length),Y.addEventListener("keyup",function(X){re===Ie_Ask&&X.target.value!==xn?(X.preventDefault(),Y.classList.add("nx-validation-failure"),Y.classList.remove("nx-validation-success")):(re===Ie_Ask&&(Y.classList.remove("nx-validation-failure"),Y.classList.add("nx-validation-success")),("enter"===(X.key||"").toLocaleLowerCase("en")||13===X.keyCode)&&Zt.dispatchEvent(new Event("click")))})),Zt.addEventListener("click",function(X){if(re===Ie_Ask&&xn&&Y){if((Y.value||"").toString()!==xn)return Y.focus(),Y.classList.add("nx-validation-failure"),X.stopPropagation(),X.preventDefault(),X.returnValue=!1,X.cancelBubble=!0,!1;Y.classList.remove("nx-validation-failure")}"function"==typeof At&&(re===Ie_Prompt&&Y&&($t=Y.value||""),At($t)),pn.classList.add("nx-remove");var ie=setTimeout(function(){null!==pn.parentNode&&(pn.parentNode.removeChild(pn),clearTimeout(ie))},V.cssAnimationDuration)}),"function"==typeof At&&M.document.getElementById("NXConfirmButtonCancel").addEventListener("click",function(){"function"==typeof it&&(re===Ie_Prompt&&Y&&($t=Y.value||""),it($t)),pn.classList.add("nx-remove");var X=setTimeout(function(){null!==pn.parentNode&&(pn.parentNode.removeChild(pn),clearTimeout(X))},V.cssAnimationDuration)})}V=Se(!0,V,ht)},yn=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Sn=function(re,_e,pe,bt,yt){if(!je("body"))return!1;j||$n.Loading.init({});var vt=Se(!0,j,{});if("object"==typeof _e&&!Array.isArray(_e)||"object"==typeof pe&&!Array.isArray(pe)){var At={};"object"==typeof _e?At=_e:"object"==typeof pe&&(At=pe),j=Se(!0,j,At)}var it="";if("string"==typeof _e&&0<_e.length&&(it=_e),bt){var Ut="";0<(it=it.length>j.messageMaxLength?ne(it).toString().substring(0,j.messageMaxLength)+"...":ne(it).toString()).length&&(Ut='<p id="'+j.messageID+'" class="nx-loading-message" style="color:'+j.messageColor+";font-size:"+j.messageFontSize+';">'+it+"</p>"),j.cssAnimation||(j.cssAnimationDuration=0);var ht="";if(re===We_Standard)ht=fe(j.svgSize,j.svgColor);else if(re===We_Hourglass)ht=we(j.svgSize,j.svgColor);else if(re===We_Circle)ht=De(j.svgSize,j.svgColor);else if(re===We_Arrows)ht=Xe(j.svgSize,j.svgColor);else if(re===We_Dots)ht=Tt(j.svgSize,j.svgColor);else if(re===We_Pulse)ht=sn(j.svgSize,j.svgColor);else if(re===We_Custom&&null!==j.customSvgCode&&null===j.customSvgUrl)ht=j.customSvgCode||"";else if(re===We_Custom&&null!==j.customSvgUrl&&null===j.customSvgCode)ht='<img class="nx-custom-loading-icon" width="'+j.svgSize+'" height="'+j.svgSize+'" src="'+j.customSvgUrl+'" alt="Notiflix">';else{if(re===We_Custom&&(null===j.customSvgUrl||null===j.customSvgCode))return Re('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;ht=function(re,_e,pe){return re||(re="60px"),_e||(_e="#f8f8f8"),pe||(pe="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+re+'" height="'+re+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+_e+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+pe+'" stroke="'+pe+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'}(j.svgSize,"#f8f8f8","#32c682")}var jt=parseInt((j.svgSize||"").replace(/[^0-9]/g,"")),kn=M.innerWidth,kt=jt>=kn?kn-40+"px":jt+"px",ut='<div style="width:'+kt+"; height:"+kt+';" class="'+j.className+"-icon"+(0<it.length?" nx-with-message":"")+'">'+ht+"</div>",et=M.document.createElement("div");et.id=me.ID,et.className=j.className+(j.cssAnimation?" nx-with-animation":"")+(j.clickToClose?" nx-loading-click-to-close":""),et.style.zIndex=j.zindex,et.style.background=j.backgroundColor,et.style.animationDuration=j.cssAnimationDuration+"ms",et.style.fontFamily='"'+j.fontFamily+'", '+ue,et.style.display="flex",et.style.flexWrap="wrap",et.style.flexDirection="column",et.style.alignItems="center",et.style.justifyContent="center",j.rtl&&(et.setAttribute("dir","rtl"),et.classList.add("nx-rtl-on")),et.innerHTML=ut+Ut,!M.document.getElementById(et.id)&&(M.document.body.appendChild(et),j.clickToClose)&&M.document.getElementById(et.id).addEventListener("click",function(){et.classList.add("nx-remove");var si=setTimeout(function(){null!==et.parentNode&&(et.parentNode.removeChild(et),clearTimeout(si))},j.cssAnimationDuration)})}else if(M.document.getElementById(me.ID))var $t=M.document.getElementById(me.ID),Bt=setTimeout(function(){$t.classList.add("nx-remove");var si=setTimeout(function(){null!==$t.parentNode&&($t.parentNode.removeChild($t),clearTimeout(si))},j.cssAnimationDuration);clearTimeout(Bt)},yt);j=Se(!0,j,vt)},Fn=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},mr=0,_i=function(re,_e,pe,bt,yt,vt){var At;if(Array.isArray(pe)){if(1>pe.length)return Re("Array of HTMLElements should contains at least one HTMLElement."),!1;At=pe}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,pe)){if(1>pe.length)return Re("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;At=Array.prototype.slice.call(pe)}else{if("string"!=typeof pe||1>(pe||"").length||1===(pe||"").length&&("#"===(pe||"")[0]||"."===(pe||"")[0]))return Re("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var Ut=M.document.querySelectorAll(pe);if(1>Ut.length)return Re('You called the "Notiflix.Block..." function with "'+pe+'" selector, but there is no such element(s) in the document.'),!1;At=Ut}W||$n.Block.init({});var ht=Se(!0,W,{});if("object"==typeof bt&&!Array.isArray(bt)||"object"==typeof yt&&!Array.isArray(yt)){var jt={};"object"==typeof bt?jt=bt:"object"==typeof yt&&(jt=yt),W=Se(!0,W,jt)}var kn="";"string"==typeof bt&&0<bt.length&&(kn=bt),W.cssAnimation||(W.cssAnimationDuration=0);var kt=Be.className;"string"==typeof W.className&&(kt=W.className.trim());var ut="number"==typeof W.querySelectorLimit?W.querySelectorLimit:200,et=(At||[]).length>=ut?ut:At.length,xn="nx-block-temporary-position";if(re){for(var $t,Bt=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],si=0;si<et;si++)if($t=At[si]){if(-1<Bt.indexOf($t.tagName.toLocaleLowerCase("en")))break;var pn=$t.querySelectorAll("[id^="+Be.ID+"]");if(1>pn.length){var Zt="";_e&&(Zt=_e===Ce_Hourglass?we(W.svgSize,W.svgColor):_e===Ce_Circle?De(W.svgSize,W.svgColor):_e===Ce_Arrows?Xe(W.svgSize,W.svgColor):_e===Ce_Dots?Tt(W.svgSize,W.svgColor):_e===Ce_Pulse?sn(W.svgSize,W.svgColor):fe(W.svgSize,W.svgColor));var Y='<span class="'+kt+'-icon" style="width:'+W.svgSize+";height:"+W.svgSize+';">'+Zt+"</span>",se="";0<kn.length&&(kn=kn.length>W.messageMaxLength?ne(kn).substring(0,W.messageMaxLength)+"...":ne(kn),se='<span style="font-size:'+W.messageFontSize+";color:"+W.messageColor+';" class="'+kt+'-message">'+kn+"</span>"),mr++;var X=M.document.createElement("div");X.id=Be.ID+"-"+mr,X.className=kt+(W.cssAnimation?" nx-with-animation":""),X.style.position=W.position,X.style.zIndex=W.zindex,X.style.background=W.backgroundColor,X.style.animationDuration=W.cssAnimationDuration+"ms",X.style.fontFamily='"'+W.fontFamily+'", '+ue,X.style.display="flex",X.style.flexWrap="wrap",X.style.flexDirection="column",X.style.alignItems="center",X.style.justifyContent="center",W.rtl&&(X.setAttribute("dir","rtl"),X.classList.add("nx-rtl-on")),X.innerHTML=Y+se;var Ve=M.getComputedStyle($t).getPropertyValue("position"),ie="string"==typeof Ve?Ve.toLocaleLowerCase("en"):"relative",be=Math.round(1.25*parseInt(W.svgSize))+40,ft="";be>($t.offsetHeight||0)&&(ft="min-height:"+be+"px;");var St;St=$t.getAttribute("id")?"#"+$t.getAttribute("id"):$t.classList[0]?"."+$t.classList[0]:($t.tagName||"").toLocaleLowerCase("en");var Kt="",Tn=-1>=["absolute","relative","fixed","sticky"].indexOf(ie);if(Tn||0<ft.length){if(!je("head"))return!1;Tn&&(Kt="position:relative!important;");var Ft='<style id="Style-'+Be.ID+"-"+mr+'">'+St+"."+xn+"{"+Kt+ft+"}</style>",oi=M.document.createRange();oi.selectNode(M.document.head);var Ae=oi.createContextualFragment(Ft);M.document.head.appendChild(Ae),$t.classList.add(xn)}$t.appendChild(X)}}}else var he=function(pt){var Mt=setTimeout(function(){null!==pt.parentNode&&pt.parentNode.removeChild(pt);var en=pt.getAttribute("id"),Jt=M.document.getElementById("Style-"+en);Jt&&null!==Jt.parentNode&&Jt.parentNode.removeChild(Jt),clearTimeout(Mt)},W.cssAnimationDuration)},ce=function(pt){if(pt&&0<pt.length)for(var Mt,en=0;en<pt.length;en++)(Mt=pt[en])&&(Mt.classList.add("nx-remove"),he(Mt));else!function(re){console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+re+K)}("string"==typeof pe?'"Notiflix.Block.remove();" function called with "'+pe+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+pe+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Ge=function(pt){var Mt=setTimeout(function(){pt.classList.remove(xn),clearTimeout(Mt)},W.cssAnimationDuration+300)},dt=setTimeout(function(){for(var pt,Mt=0;Mt<et;Mt++)(pt=At[Mt])&&(Ge(pt),pn=pt.querySelectorAll("[id^="+Be.ID+"]"),ce(pn));clearTimeout(dt)},vt);W=Se(!0,W,ht)},$n={Notify:{init:function(re){T=Se(!0,Z,re),ge(at,"NotiflixNotifyInternalCSS")},merge:function(re){return T?void(T=Se(!0,T,re)):(Re("You have to initialize the Notify module before call Merge function."),!1)},success:function(re,_e,pe){Ln(G_Success,re,_e,pe)},failure:function(re,_e,pe){Ln(G_Failure,re,_e,pe)},warning:function(re,_e,pe){Ln(G_Warning,re,_e,pe)},info:function(re,_e,pe){Ln(G_Info,re,_e,pe)}},Report:{init:function(re){F=Se(!0,Pe,re),ge(wn,"NotiflixReportInternalCSS")},merge:function(re){return F?void(F=Se(!0,F,re)):(Re("You have to initialize the Report module before call Merge function."),!1)},success:function(re,_e,pe,bt,yt){an(te_Success,re,_e,pe,bt,yt)},failure:function(re,_e,pe,bt,yt){an(te_Failure,re,_e,pe,bt,yt)},warning:function(re,_e,pe,bt,yt){an(te_Warning,re,_e,pe,bt,yt)},info:function(re,_e,pe,bt,yt){an(te_Info,re,_e,pe,bt,yt)}},Confirm:{init:function(re){V=Se(!0,Oe,re),ge(Qt,"NotiflixConfirmInternalCSS")},merge:function(re){return V?void(V=Se(!0,V,re)):(Re("You have to initialize the Confirm module before call Merge function."),!1)},show:function(re,_e,pe,bt,yt,vt,At){on(Ie_Show,re,_e,null,pe,bt,yt,vt,At)},ask:function(re,_e,pe,bt,yt,vt,At,it){on(Ie_Ask,re,_e,pe,bt,yt,vt,At,it)},prompt:function(re,_e,pe,bt,yt,vt,At,it){on(Ie_Prompt,re,_e,pe,bt,yt,vt,At,it)}},Loading:{init:function(re){j=Se(!0,me,re),ge(yn,"NotiflixLoadingInternalCSS")},merge:function(re){return j?void(j=Se(!0,j,re)):(Re("You have to initialize the Loading module before call Merge function."),!1)},standard:function(re,_e){Sn(We_Standard,re,_e,!0,0)},hourglass:function(re,_e){Sn(We_Hourglass,re,_e,!0,0)},circle:function(re,_e){Sn(We_Circle,re,_e,!0,0)},arrows:function(re,_e){Sn(We_Arrows,re,_e,!0,0)},dots:function(re,_e){Sn(We_Dots,re,_e,!0,0)},pulse:function(re,_e){Sn(We_Pulse,re,_e,!0,0)},custom:function(re,_e){Sn(We_Custom,re,_e,!0,0)},notiflix:function(re,_e){Sn(We_Notiflix,re,_e,!0,0)},remove:function(re){"number"!=typeof re&&(re=0),Sn(null,null,null,!1,re)},change:function(re){!function(re){"string"!=typeof re&&(re="");var _e=M.document.getElementById(me.ID);if(_e)if(0<re.length){re=re.length>j.messageMaxLength?ne(re).substring(0,j.messageMaxLength)+"...":ne(re);var pe=_e.getElementsByTagName("p")[0];if(pe)pe.innerHTML=re;else{var bt=M.document.createElement("p");bt.id=j.messageID,bt.className="nx-loading-message nx-loading-message-new",bt.style.color=j.messageColor,bt.style.fontSize=j.messageFontSize,bt.innerHTML=re,_e.appendChild(bt)}}else Re("Where is the new message?")}(re)}},Block:{init:function(re){W=Se(!0,Be,re),ge(Fn,"NotiflixBlockInternalCSS")},merge:function(re){return W?void(W=Se(!0,W,re)):(Re('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(re,_e,pe){_i(!0,Ce_Standard,re,_e,pe)},hourglass:function(re,_e,pe){_i(!0,Ce_Hourglass,re,_e,pe)},circle:function(re,_e,pe){_i(!0,Ce_Circle,re,_e,pe)},arrows:function(re,_e,pe){_i(!0,Ce_Arrows,re,_e,pe)},dots:function(re,_e,pe){_i(!0,Ce_Dots,re,_e,pe)},pulse:function(re,_e,pe){_i(!0,Ce_Pulse,re,_e,pe)},remove:function(re,_e){"number"!=typeof _e&&(_e=0),_i(!1,null,re,null,null,_e)}}};return"object"==typeof M.Notiflix?Se(!0,M.Notiflix,{Notify:$n.Notify,Report:$n.Report,Confirm:$n.Confirm,Loading:$n.Loading,Block:$n.Block}):{Notify:$n.Notify,Report:$n.Report,Confirm:$n.Confirm,Loading:$n.Loading,Block:$n.Block}}(M)}.apply(q,[]),void 0!==d&&(qe.exports=d)},8306:(qe,q,R)=>{"use strict";R.d(q,{y:()=>G});var d=R(930),M=R(727),T=R(8822),F=R(4671);var W=R(2416),K=R(576),ue=R(2806);let G=(()=>{class Ie{constructor(We){We&&(this._subscribe=We)}lift(We){const me=new Ie;return me.source=this,me.operator=We,me}subscribe(We,me,Ce){const Be=function Pe(Ie){return Ie&&Ie instanceof d.Lv||function te(Ie){return Ie&&(0,K.m)(Ie.next)&&(0,K.m)(Ie.error)&&(0,K.m)(Ie.complete)}(Ie)&&(0,M.Nn)(Ie)}(We)?We:new d.Hp(We,me,Ce);return(0,ue.x)(()=>{const{operator:Re,source:Ue}=this;Be.add(Re?Re.call(Be,Ue):Ue?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(We){try{return this._subscribe(We)}catch(me){We.error(me)}}forEach(We,me){return new(me=Z(me))((Ce,Be)=>{const Re=new d.Hp({next:Ue=>{try{We(Ue)}catch(je){Be(je),Re.unsubscribe()}},error:Be,complete:Ce});this.subscribe(Re)})}_subscribe(We){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(We)}[T.L](){return this}pipe(...We){return function j(Ie){return 0===Ie.length?F.y:1===Ie.length?Ie[0]:function(We){return Ie.reduce((me,Ce)=>Ce(me),We)}}(We)(this)}toPromise(We){return new(We=Z(We))((me,Ce)=>{let Be;this.subscribe(Re=>Be=Re,Re=>Ce(Re),()=>me(Be))})}}return Ie.create=Oe=>new Ie(Oe),Ie})();function Z(Ie){var Oe;return null!==(Oe=null!=Ie?Ie:W.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(qe,q,R)=>{"use strict";R.d(q,{x:()=>W});var d=R(8306),M=R(727);const F=(0,R(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=R(8737),j=R(2806);let W=(()=>{class ue extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new K(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new F}next(Z){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:Pe,observers:Ie}=this;return te||Pe?M.Lc:(this.currentObservers=null,Ie.push(Z),new M.w0(()=>{this.currentObservers=null,(0,V.P)(Ie,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:Pe,isStopped:Ie}=this;te?Z.error(Pe):Ie&&Z.complete()}asObservable(){const Z=new d.y;return Z.source=this,Z}}return ue.create=(G,Z)=>new K(G,Z),ue})();class K extends W{constructor(G,Z){super(),this.destination=G,this.source=Z}next(G){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,G)}error(G){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,G)}complete(){var G,Z;null===(Z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===Z||Z.call(G)}_subscribe(G){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(G))&&void 0!==te?te:M.Lc}}},930:(qe,q,R)=>{"use strict";R.d(q,{Hp:()=>We,Lv:()=>te});var d=R(576),M=R(727),T=R(2416),F=R(7849),V=R(5032);const j=ue("C",void 0,void 0);function ue(Ue,je,ge){return{kind:Ue,value:je,error:ge}}var G=R(3410),Z=R(2806);class te extends M.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,M.Nn)(je)&&je.add(this)):this.destination=Re}static create(je,ge,Se){return new We(je,ge,Se)}next(je){this.isStopped?Be(function K(Ue){return ue("N",Ue,void 0)}(je),this):this._next(je)}error(je){this.isStopped?Be(function W(Ue){return ue("E",void 0,Ue)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?Be(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ie(Ue,je){return Pe.call(Ue,je)}class Oe{constructor(je){this.partialObserver=je}next(je){const{partialObserver:ge}=this;if(ge.next)try{ge.next(je)}catch(Se){me(Se)}}error(je){const{partialObserver:ge}=this;if(ge.error)try{ge.error(je)}catch(Se){me(Se)}else me(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(ge){me(ge)}}}class We extends te{constructor(je,ge,Se){let ne;if(super(),(0,d.m)(je)||!je)ne={next:null!=je?je:void 0,error:null!=ge?ge:void 0,complete:null!=Se?Se:void 0};else{let de;this&&T.v.useDeprecatedNextContext?(de=Object.create(je),de.unsubscribe=()=>this.unsubscribe(),ne={next:je.next&&Ie(je.next,de),error:je.error&&Ie(je.error,de),complete:je.complete&&Ie(je.complete,de)}):ne=je}this.destination=new Oe(ne)}}function me(Ue){T.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ue):(0,F.h)(Ue)}function Be(Ue,je){const{onStoppedNotification:ge}=T.v;ge&&G.z.setTimeout(()=>ge(Ue,je))}const Re={closed:!0,next:V.Z,error:function Ce(Ue){throw Ue},complete:V.Z}},727:(qe,q,R)=>{"use strict";R.d(q,{Lc:()=>j,w0:()=>V,Nn:()=>W});var d=R(576);const T=(0,R(3888).d)(ue=>function(Z){ue(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,Pe)=>`${Pe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var F=R(8737);class V{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ie of Z)Ie.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Ie){G=Ie instanceof T?Ie.errors:[Ie]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ie of Pe)try{K(Ie)}catch(Oe){G=null!=G?G:[],Oe instanceof T?G=[...G,...Oe.errors]:G.push(Oe)}}if(G)throw new T(G)}}add(G){var Z;if(G&&G!==this)if(this.closed)K(G);else{if(G instanceof V){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(G)}}_hasParent(G){const{_parentage:Z}=this;return Z===G||Array.isArray(Z)&&Z.includes(G)}_addParent(G){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(G),Z):Z?[Z,G]:G}_removeParent(G){const{_parentage:Z}=this;Z===G?this._parentage=null:Array.isArray(Z)&&(0,F.P)(Z,G)}remove(G){const{_finalizers:Z}=this;Z&&(0,F.P)(Z,G),G instanceof V&&G._removeParent(this)}}V.EMPTY=(()=>{const ue=new V;return ue.closed=!0,ue})();const j=V.EMPTY;function W(ue){return ue instanceof V||ue&&"closed"in ue&&(0,d.m)(ue.remove)&&(0,d.m)(ue.add)&&(0,d.m)(ue.unsubscribe)}function K(ue){(0,d.m)(ue)?ue():ue.unsubscribe()}},2416:(qe,q,R)=>{"use strict";R.d(q,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(qe,q,R)=>{"use strict";R.d(q,{E:()=>M});const M=new(R(8306).y)(V=>V.complete())},8996:(qe,q,R)=>{"use strict";R.d(q,{D:()=>je});var d=R(8421),M=R(5363),T=R(9468),j=R(8306),K=R(2202),ue=R(576),G=R(9672);function te(ge,Se){if(!ge)throw new Error("Iterable cannot be null");return new j.y(ne=>{(0,G.f)(ne,Se,()=>{const de=ge[Symbol.asyncIterator]();(0,G.f)(ne,Se,()=>{de.next().then(xe=>{xe.done?ne.complete():ne.next(xe.value)})},0,!0)})})}var Pe=R(3670),Ie=R(8239),Oe=R(1144),We=R(6495),me=R(2206),Ce=R(4532),Be=R(3260);function je(ge,Se){return Se?function Ue(ge,Se){if(null!=ge){if((0,Pe.c)(ge))return function F(ge,Se){return(0,d.Xf)(ge).pipe((0,T.R)(Se),(0,M.Q)(Se))}(ge,Se);if((0,Oe.z)(ge))return function W(ge,Se){return new j.y(ne=>{let de=0;return Se.schedule(function(){de===ge.length?ne.complete():(ne.next(ge[de++]),ne.closed||this.schedule())})})}(ge,Se);if((0,Ie.t)(ge))return function V(ge,Se){return(0,d.Xf)(ge).pipe((0,T.R)(Se),(0,M.Q)(Se))}(ge,Se);if((0,me.D)(ge))return te(ge,Se);if((0,We.T)(ge))return function Z(ge,Se){return new j.y(ne=>{let de;return(0,G.f)(ne,Se,()=>{de=ge[K.h](),(0,G.f)(ne,Se,()=>{let xe,ee;try{({value:xe,done:ee}=de.next())}catch(oe){return void ne.error(oe)}ee?ne.complete():ne.next(xe)},0,!0)}),()=>(0,ue.m)(null==de?void 0:de.return)&&de.return()})}(ge,Se);if((0,Be.L)(ge))return function Re(ge,Se){return te((0,Be.Q)(ge),Se)}(ge,Se)}throw(0,Ce.z)(ge)}(ge,Se):(0,d.Xf)(ge)}},8421:(qe,q,R)=>{"use strict";R.d(q,{Xf:()=>Pe});var d=R(655),M=R(1144),T=R(8239),F=R(8306),V=R(3670),j=R(2206),W=R(4532),K=R(6495),ue=R(3260),G=R(576),Z=R(7849),te=R(8822);function Pe(Ue){if(Ue instanceof F.y)return Ue;if(null!=Ue){if((0,V.c)(Ue))return function Ie(Ue){return new F.y(je=>{const ge=Ue[te.L]();if((0,G.m)(ge.subscribe))return ge.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,M.z)(Ue))return function Oe(Ue){return new F.y(je=>{for(let ge=0;ge<Ue.length&&!je.closed;ge++)je.next(Ue[ge]);je.complete()})}(Ue);if((0,T.t)(Ue))return function We(Ue){return new F.y(je=>{Ue.then(ge=>{je.closed||(je.next(ge),je.complete())},ge=>je.error(ge)).then(null,Z.h)})}(Ue);if((0,j.D)(Ue))return Ce(Ue);if((0,K.T)(Ue))return function me(Ue){return new F.y(je=>{for(const ge of Ue)if(je.next(ge),je.closed)return;je.complete()})}(Ue);if((0,ue.L)(Ue))return function Be(Ue){return Ce((0,ue.Q)(Ue))}(Ue)}throw(0,W.z)(Ue)}function Ce(Ue){return new F.y(je=>{(function Re(Ue,je){var ge,Se,ne,de;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ge=(0,d.KL)(Ue);!(Se=yield ge.next()).done;)if(je.next(Se.value),je.closed)return}catch(xe){ne={error:xe}}finally{try{Se&&!Se.done&&(de=ge.return)&&(yield de.call(ge))}finally{if(ne)throw ne.error}}je.complete()})})(Ue,je).catch(ge=>je.error(ge))})}},6451:(qe,q,R)=>{"use strict";R.d(q,{T:()=>j});var d=R(8189),M=R(8421),T=R(515),F=R(7669),V=R(8996);function j(...W){const K=(0,F.yG)(W),ue=(0,F._6)(W,1/0),G=W;return G.length?1===G.length?(0,M.Xf)(G[0]):(0,d.J)(ue)((0,V.D)(G,K)):T.E}},5403:(qe,q,R)=>{"use strict";R.d(q,{x:()=>M});var d=R(930);function M(F,V,j,W,K){return new T(F,V,j,W,K)}class T extends d.Lv{constructor(V,j,W,K,ue,G){super(V),this.onFinalize=ue,this.shouldUnsubscribe=G,this._next=j?function(Z){try{j(Z)}catch(te){V.error(te)}}:super._next,this._error=K?function(Z){try{K(Z)}catch(te){V.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(Z){V.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},4004:(qe,q,R)=>{"use strict";R.d(q,{U:()=>T});var d=R(4482),M=R(5403);function T(F,V){return(0,d.e)((j,W)=>{let K=0;j.subscribe((0,M.x)(W,ue=>{W.next(F.call(V,ue,K++))}))})}},8189:(qe,q,R)=>{"use strict";R.d(q,{J:()=>T});var d=R(5577),M=R(4671);function T(F=1/0){return(0,d.z)(M.y,F)}},5577:(qe,q,R)=>{"use strict";R.d(q,{z:()=>K});var d=R(4004),M=R(8421),T=R(4482),F=R(9672),V=R(5403),W=R(576);function K(ue,G,Z=1/0){return(0,W.m)(G)?K((te,Pe)=>(0,d.U)((Ie,Oe)=>G(te,Ie,Pe,Oe))((0,M.Xf)(ue(te,Pe))),Z):("number"==typeof G&&(Z=G),(0,T.e)((te,Pe)=>function j(ue,G,Z,te,Pe,Ie,Oe,We){const me=[];let Ce=0,Be=0,Re=!1;const Ue=()=>{Re&&!me.length&&!Ce&&G.complete()},je=Se=>Ce<te?ge(Se):me.push(Se),ge=Se=>{Ie&&G.next(Se),Ce++;let ne=!1;(0,M.Xf)(Z(Se,Be++)).subscribe((0,V.x)(G,de=>{null==Pe||Pe(de),Ie?je(de):G.next(de)},()=>{ne=!0},void 0,()=>{if(ne)try{for(Ce--;me.length&&Ce<te;){const de=me.shift();Oe?(0,F.f)(G,Oe,()=>ge(de)):ge(de)}Ue()}catch(de){G.error(de)}}))};return ue.subscribe((0,V.x)(G,je,()=>{Re=!0,Ue()})),()=>{null==We||We()}}(te,Pe,ue,Z)))}},5363:(qe,q,R)=>{"use strict";R.d(q,{Q:()=>F});var d=R(9672),M=R(4482),T=R(5403);function F(V,j=0){return(0,M.e)((W,K)=>{W.subscribe((0,T.x)(K,ue=>(0,d.f)(K,V,()=>K.next(ue),j),()=>(0,d.f)(K,V,()=>K.complete(),j),ue=>(0,d.f)(K,V,()=>K.error(ue),j)))})}},3099:(qe,q,R)=>{"use strict";R.d(q,{B:()=>j});var d=R(8996),M=R(5698),T=R(7579),F=R(930),V=R(4482);function j(K={}){const{connector:ue=(()=>new T.x),resetOnError:G=!0,resetOnComplete:Z=!0,resetOnRefCountZero:te=!0}=K;return Pe=>{let Ie=null,Oe=null,We=null,me=0,Ce=!1,Be=!1;const Re=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ue=()=>{Re(),Ie=We=null,Ce=Be=!1},je=()=>{const ge=Ie;Ue(),null==ge||ge.unsubscribe()};return(0,V.e)((ge,Se)=>{me++,!Be&&!Ce&&Re();const ne=We=null!=We?We:ue();Se.add(()=>{me--,0===me&&!Be&&!Ce&&(Oe=W(je,te))}),ne.subscribe(Se),Ie||(Ie=new F.Hp({next:de=>ne.next(de),error:de=>{Be=!0,Re(),Oe=W(Ue,G,de),ne.error(de)},complete:()=>{Ce=!0,Re(),Oe=W(Ue,Z),ne.complete()}}),(0,d.D)(ge).subscribe(Ie))})(Pe)}}function W(K,ue,...G){return!0===ue?(K(),null):!1===ue?null:ue(...G).pipe((0,M.q)(1)).subscribe(()=>K())}},9468:(qe,q,R)=>{"use strict";R.d(q,{R:()=>M});var d=R(4482);function M(T,F=0){return(0,d.e)((V,j)=>{j.add(T.schedule(()=>V.subscribe(j),F))})}},5698:(qe,q,R)=>{"use strict";R.d(q,{q:()=>F});var d=R(515),M=R(4482),T=R(5403);function F(V){return V<=0?()=>d.E:(0,M.e)((j,W)=>{let K=0;j.subscribe((0,T.x)(W,ue=>{++K<=V&&(W.next(ue),V<=K&&W.complete())}))})}},8505:(qe,q,R)=>{"use strict";R.d(q,{b:()=>V});var d=R(576),M=R(4482),T=R(5403),F=R(4671);function V(j,W,K){const ue=(0,d.m)(j)||W||K?{next:j,error:W,complete:K}:j;return ue?(0,M.e)((G,Z)=>{var te;null===(te=ue.subscribe)||void 0===te||te.call(ue);let Pe=!0;G.subscribe((0,T.x)(Z,Ie=>{var Oe;null===(Oe=ue.next)||void 0===Oe||Oe.call(ue,Ie),Z.next(Ie)},()=>{var Ie;Pe=!1,null===(Ie=ue.complete)||void 0===Ie||Ie.call(ue),Z.complete()},Ie=>{var Oe;Pe=!1,null===(Oe=ue.error)||void 0===Oe||Oe.call(ue,Ie),Z.error(Ie)},()=>{var Ie,Oe;Pe&&(null===(Ie=ue.unsubscribe)||void 0===Ie||Ie.call(ue)),null===(Oe=ue.finalize)||void 0===Oe||Oe.call(ue)}))}):F.y}},4408:(qe,q,R)=>{"use strict";R.d(q,{o:()=>V});var d=R(727);class M extends d.w0{constructor(W,K){super()}schedule(W,K=0){return this}}const T={setInterval(j,W,...K){const{delegate:ue}=T;return(null==ue?void 0:ue.setInterval)?ue.setInterval(j,W,...K):setInterval(j,W,...K)},clearInterval(j){const{delegate:W}=T;return((null==W?void 0:W.clearInterval)||clearInterval)(j)},delegate:void 0};var F=R(8737);class V extends M{constructor(W,K){super(W,K),this.scheduler=W,this.work=K,this.pending=!1}schedule(W,K=0){if(this.closed)return this;this.state=W;const ue=this.id,G=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(G,ue,K)),this.pending=!0,this.delay=K,this.id=this.id||this.requestAsyncId(G,this.id,K),this}requestAsyncId(W,K,ue=0){return T.setInterval(W.flush.bind(W,this),ue)}recycleAsyncId(W,K,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return K;T.clearInterval(K)}execute(W,K){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(W,K);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,K){let G,ue=!1;try{this.work(W)}catch(Z){ue=!0,G=Z||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:W,scheduler:K}=this,{actions:ue}=K;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(ue,this),null!=W&&(this.id=this.recycleAsyncId(K,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(qe,q,R)=>{"use strict";R.d(q,{v:()=>T});var d=R(6063);class M{constructor(V,j=M.now){this.schedulerActionCtor=V,this.now=j}schedule(V,j=0,W){return new this.schedulerActionCtor(this,V).schedule(W,j)}}M.now=d.l.now;class T extends M{constructor(V,j=M.now){super(V,j),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:j}=this;if(this._active)return void j.push(V);let W;this._active=!0;do{if(W=V.execute(V.state,V.delay))break}while(V=j.shift());if(this._active=!1,W){for(;V=j.shift();)V.unsubscribe();throw W}}}},4986:(qe,q,R)=>{"use strict";R.d(q,{z:()=>T});var d=R(4408);const T=new(R(7565).v)(d.o)},6063:(qe,q,R)=>{"use strict";R.d(q,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(qe,q,R)=>{"use strict";R.d(q,{z:()=>d});const d={setTimeout(M,T,...F){const{delegate:V}=d;return(null==V?void 0:V.setTimeout)?V.setTimeout(M,T,...F):setTimeout(M,T,...F)},clearTimeout(M){const{delegate:T}=d;return((null==T?void 0:T.clearTimeout)||clearTimeout)(M)},delegate:void 0}},2202:(qe,q,R)=>{"use strict";R.d(q,{h:()=>M});const M=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(qe,q,R)=>{"use strict";R.d(q,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(qe,q,R)=>{"use strict";R.d(q,{_6:()=>j,jO:()=>F,yG:()=>V});var d=R(576);function T(W){return W[W.length-1]}function F(W){return(0,d.m)(T(W))?W.pop():void 0}function V(W){return function M(W){return W&&(0,d.m)(W.schedule)}(T(W))?W.pop():void 0}function j(W,K){return"number"==typeof T(W)?W.pop():K}},8737:(qe,q,R)=>{"use strict";function d(M,T){if(M){const F=M.indexOf(T);0<=F&&M.splice(F,1)}}R.d(q,{P:()=>d})},3888:(qe,q,R)=>{"use strict";function d(M){const F=M(V=>{Error.call(V),V.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}R.d(q,{d:()=>d})},2806:(qe,q,R)=>{"use strict";R.d(q,{O:()=>F,x:()=>T});var d=R(2416);let M=null;function T(V){if(d.v.useDeprecatedSynchronousErrorHandling){const j=!M;if(j&&(M={errorThrown:!1,error:null}),V(),j){const{errorThrown:W,error:K}=M;if(M=null,W)throw K}}else V()}function F(V){d.v.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=V)}},9672:(qe,q,R)=>{"use strict";function d(M,T,F,V=0,j=!1){const W=T.schedule(function(){F(),j?M.add(this.schedule(null,V)):this.unsubscribe()},V);if(M.add(W),!j)return W}R.d(q,{f:()=>d})},4671:(qe,q,R)=>{"use strict";function d(M){return M}R.d(q,{y:()=>d})},1144:(qe,q,R)=>{"use strict";R.d(q,{z:()=>d});const d=M=>M&&"number"==typeof M.length&&"function"!=typeof M},2206:(qe,q,R)=>{"use strict";R.d(q,{D:()=>M});var d=R(576);function M(T){return Symbol.asyncIterator&&(0,d.m)(null==T?void 0:T[Symbol.asyncIterator])}},576:(qe,q,R)=>{"use strict";function d(M){return"function"==typeof M}R.d(q,{m:()=>d})},3670:(qe,q,R)=>{"use strict";R.d(q,{c:()=>T});var d=R(8822),M=R(576);function T(F){return(0,M.m)(F[d.L])}},6495:(qe,q,R)=>{"use strict";R.d(q,{T:()=>T});var d=R(2202),M=R(576);function T(F){return(0,M.m)(null==F?void 0:F[d.h])}},8239:(qe,q,R)=>{"use strict";R.d(q,{t:()=>M});var d=R(576);function M(T){return(0,d.m)(null==T?void 0:T.then)}},3260:(qe,q,R)=>{"use strict";R.d(q,{L:()=>F,Q:()=>T});var d=R(655),M=R(576);function T(V){return(0,d.FC)(this,arguments,function*(){const W=V.getReader();try{for(;;){const{value:K,done:ue}=yield(0,d.qq)(W.read());if(ue)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(K)}}finally{W.releaseLock()}})}function F(V){return(0,M.m)(null==V?void 0:V.getReader)}},4482:(qe,q,R)=>{"use strict";R.d(q,{A:()=>M,e:()=>T});var d=R(576);function M(F){return(0,d.m)(null==F?void 0:F.lift)}function T(F){return V=>{if(M(V))return V.lift(function(j){try{return F(j,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(qe,q,R)=>{"use strict";function d(){}R.d(q,{Z:()=>d})},7849:(qe,q,R)=>{"use strict";R.d(q,{h:()=>T});var d=R(2416),M=R(3410);function T(F){M.z.setTimeout(()=>{const{onUnhandledError:V}=d.v;if(!V)throw F;V(F)})}},4532:(qe,q,R)=>{"use strict";function d(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(q,{z:()=>d})},655:(qe,q,R)=>{"use strict";function F(ee,oe){var fe={};for(var we in ee)Object.prototype.hasOwnProperty.call(ee,we)&&oe.indexOf(we)<0&&(fe[we]=ee[we]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(we=Object.getOwnPropertySymbols(ee);De<we.length;De++)oe.indexOf(we[De])<0&&Object.prototype.propertyIsEnumerable.call(ee,we[De])&&(fe[we[De]]=ee[we[De]])}return fe}function K(ee,oe,fe,we){return new(fe||(fe=Promise))(function(Xe,Tt){function sn(dn){try{at(we.next(dn))}catch(Ln){Tt(Ln)}}function Xt(dn){try{at(we.throw(dn))}catch(Ln){Tt(Ln)}}function at(dn){dn.done?Xe(dn.value):function De(Xe){return Xe instanceof fe?Xe:new fe(function(Tt){Tt(Xe)})}(dn.value).then(sn,Xt)}at((we=we.apply(ee,oe||[])).next())})}function me(ee){return this instanceof me?(this.v=ee,this):new me(ee)}function Ce(ee,oe,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,we=fe.apply(ee,oe||[]),Xe=[];return De={},Tt("next"),Tt("throw"),Tt("return"),De[Symbol.asyncIterator]=function(){return this},De;function Tt(wn){we[wn]&&(De[wn]=function(an){return new Promise(function(Qt,on){Xe.push([wn,an,Qt,on])>1||sn(wn,an)})})}function sn(wn,an){try{!function Xt(wn){wn.value instanceof me?Promise.resolve(wn.value.v).then(at,dn):Ln(Xe[0][2],wn)}(we[wn](an))}catch(Qt){Ln(Xe[0][3],Qt)}}function at(wn){sn("next",wn)}function dn(wn){sn("throw",wn)}function Ln(wn,an){wn(an),Xe.shift(),Xe.length&&sn(Xe[0][0],Xe[0][1])}}function Re(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,oe=ee[Symbol.asyncIterator];return oe?oe.call(ee):(ee=function te(ee){var oe="function"==typeof Symbol&&Symbol.iterator,fe=oe&&ee[oe],we=0;if(fe)return fe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&we>=ee.length&&(ee=void 0),{value:ee&&ee[we++],done:!ee}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),fe={},we("next"),we("throw"),we("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function we(Xe){fe[Xe]=ee[Xe]&&function(Tt){return new Promise(function(sn,Xt){!function De(Xe,Tt,sn,Xt){Promise.resolve(Xt).then(function(at){Xe({value:at,done:sn})},Tt)}(sn,Xt,(Tt=ee[Xe](Tt)).done,Tt.value)})}}}R.d(q,{FC:()=>Ce,KL:()=>Re,_T:()=>F,mG:()=>K,qq:()=>me})},5e3:(qe,q,R)=>{"use strict";R.d(q,{$8M:()=>Ur,$Z:()=>IE,AFp:()=>UI,ALo:()=>af,AaK:()=>K,BQk:()=>Gu,CHM:()=>sc,CRH:()=>jb,CZH:()=>p_,CqO:()=>TE,DdM:()=>Qi,EJc:()=>cS,EiD:()=>pp,EpF:()=>Vv,F$t:()=>SE,F4k:()=>$p,FYo:()=>_g,FiY:()=>br,G48:()=>vS,Gf:()=>SI,GfV:()=>Oc,GkF:()=>Bh,Gpc:()=>Z,Gre:()=>rg,Hsn:()=>jh,JOm:()=>wi,JVY:()=>Iu,L6k:()=>zm,LAX:()=>rx,LFG:()=>ct,LSH:()=>k0,Lbi:()=>ld,MAs:()=>Av,MGl:()=>qp,NdJ:()=>Bv,OlP:()=>_n,Oqu:()=>tg,PXZ:()=>hd,Q6J:()=>zp,QGY:()=>ci,Qsj:()=>OA,R0b:()=>Ar,RDi:()=>iu,Rgc:()=>Eg,SBq:()=>ef,Sil:()=>HI,Suo:()=>kI,TTD:()=>ul,TgZ:()=>ja,Tol:()=>Qv,Udp:()=>Kv,VLi:()=>pS,W1O:()=>Tg,WLB:()=>Mb,X6Q:()=>fw,XFs:()=>pe,Xpm:()=>St,Y36:()=>Wu,YKP:()=>Ab,YNc:()=>yE,Yjl:()=>dt,Yz7:()=>an,ZZ4:()=>Cw,_Bn:()=>td,_UZ:()=>Fv,_Vd:()=>yg,_c5:()=>NS,_uU:()=>zy,aQg:()=>_f,c2e:()=>lS,cJS:()=>on,cg1:()=>lb,dDg:()=>v_,deG:()=>Xo,dqk:()=>Bt,eBb:()=>Wm,eFA:()=>lw,ekj:()=>Yv,g9A:()=>zc,h0i:()=>rf,hGG:()=>RS,hYB:()=>By,hij:()=>ng,iGM:()=>AI,ifc:()=>kt,ip1:()=>BI,kL8:()=>ZE,lG2:()=>Ge,lcZ:()=>Rb,lnq:()=>Wy,mCW:()=>v,n5z:()=>hu,oAB:()=>Ae,oJD:()=>sx,oxw:()=>AE,pB0:()=>D0,q3G:()=>Zi,q4F:()=>Eb,qLn:()=>O0,qOj:()=>Ir,qZA:()=>Wp,qzn:()=>Fa,sBO:()=>wS,sIi:()=>Ih,s_b:()=>io,soG:()=>ff,tBr:()=>Js,tb:()=>nw,tp0:()=>fs,uIk:()=>Lp,vHH:()=>Oe,vpe:()=>Ga,wAp:()=>Ht,xp6:()=>kx,yhl:()=>yc,ynx:()=>$u,z2F:()=>cw,z3N:()=>aa,zSh:()=>xt,zs3:()=>Do});var d=R(7579),M=R(727),T=R(8306),F=R(6451),V=R(3099);function j(o){for(let l in o)if(o[l]===j)return l;throw Error("Could not find renamed property on target object.")}function W(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function K(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(K).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function ue(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const G=j({__forward_ref__:j});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return K(this())},o}function te(o){return Pe(o)?o():o}function Pe(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===Z}class Oe extends Error{constructor(l,c){super(function We(o,l){return`NG0${Math.abs(o)}${l?": "+l:""}`}(l,c)),this.code=l}}function me(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():me(o)}function je(o,l){const c=l?` in ${l}`:"";throw new Oe(-201,`No provider for ${Ce(o)} found${c}`)}function Xt(o,l){null==o&&function at(o,l,c,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${c} ${f} ${l} <=Actual]`))}(l,o,null,"!=")}function an(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function on(o){return{providers:o.providers||[],imports:o.imports||[]}}function yn(o){return Sn(o,_i)||Sn(o,re)}function Sn(o,l){return o.hasOwnProperty(l)?o[l]:null}function mr(o){return o&&(o.hasOwnProperty($n)||o.hasOwnProperty(_e))?o[$n]:null}const _i=j({\u0275prov:j}),$n=j({\u0275inj:j}),re=j({ngInjectableDef:j}),_e=j({ngInjectorDef:j});var pe=(()=>((pe=pe||{})[pe.Default=0]="Default",pe[pe.Host=1]="Host",pe[pe.Self=2]="Self",pe[pe.SkipSelf=4]="SkipSelf",pe[pe.Optional=8]="Optional",pe))();let bt;function vt(o){const l=bt;return bt=o,l}function At(o,l,c){const f=yn(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:c&pe.Optional?null:void 0!==l?l:void je(K(o),"Injector")}function Ut(o){return{toString:o}.toString()}var ht=(()=>((ht=ht||{})[ht.OnPush=0]="OnPush",ht[ht.Default=1]="Default",ht))(),kt=(()=>{return(o=kt||(kt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",kt;var o})();const ut="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=ut||"undefined"!=typeof global&&global||et||xn,Zt={},Y=[],se=j({\u0275cmp:j}),X=j({\u0275dir:j}),Ve=j({\u0275pipe:j}),ie=j({\u0275mod:j}),be=j({\u0275fac:j}),Ke=j({__NG_ELEMENT_ID__:j});let ft=0;function St(o){return Ut(()=>{const c={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Y,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||kt.Emulated,id:"c",styles:o.styles||Y,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,w=o.pipes;return f.id+=ft++,f.inputs=ce(o.inputs,c),f.outputs=ce(o.outputs),m&&m.forEach(x=>x(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Tn):null,f.pipeDefs=w?()=>("function"==typeof w?w():w).map(Ft):null,f})}function Tn(o){return pt(o)||function Mt(o){return o[X]||null}(o)}function Ft(o){return function en(o){return o[Ve]||null}(o)}const oi={};function Ae(o){return Ut(()=>{const l={type:o.type,bootstrap:o.bootstrap||Y,declarations:o.declarations||Y,imports:o.imports||Y,exports:o.exports||Y,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(oi[o.id]=o.type),l})}function ce(o,l){if(null==o)return Zt;const c={};for(const f in o)if(o.hasOwnProperty(f)){let p=o[f],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=f,l&&(l[p]=m)}return c}const Ge=St;function dt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function pt(o){return o[se]||null}function Jt(o,l){const c=o[ie]||null;if(!c&&!0===l)throw new Error(`Type ${K(o)} does not have '\u0275mod' property.`);return c}function Zr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Or(o){return Array.isArray(o)&&!0===o[1]}function Nd(o){return 0!=(8&o.flags)}function Yl(o){return 2==(2&o.flags)}function fo(o){return 1==(1&o.flags)}function Kr(o){return null!==o.template}function Ql(o){return 0!=(512&o[2])}function Yr(o,l){return o.hasOwnProperty(be)?o[be]:null}class Ea{constructor(l,c,f){this.previousValue=l,this.currentValue=c,this.firstChange=f}isFirstChange(){return this.firstChange}}function ul(){return dl}function dl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Nm),zf}function zf(){const o=Fd(this),l=null==o?void 0:o.current;if(l){const c=o.previous;if(c===Zt)o.previous=l;else for(let f in l)c[f]=l[f];o.current=null,this.ngOnChanges(l)}}function Nm(o,l,c,f){const p=Fd(o)||function zs(o,l){return o[Hs]=l}(o,{previous:Zt,current:null}),m=p.current||(p.current={}),w=p.previous,x=this.declaredInputs[c],D=w[x];m[x]=new Ea(D&&D.currentValue,l,w===Zt),o[f]=l}ul.ngInherit=!0;const Hs="__ngSimpleChanges__";function Fd(o){return o[Hs]||null}let tc;function iu(o){tc=o}function Ws(){return void 0!==tc?tc:"undefined"!=typeof document?document:void 0}function Gn(o){return!!o.listen}const hl={createRenderer:(o,l)=>Ws()};function Hn(o){for(;Array.isArray(o);)o=o[0];return o}function Ho(o,l){return Hn(l[o])}function zi(o,l){return Hn(l[o.index])}function fi(o,l){return o.data[l]}function $s(o,l){return o[l]}function Wi(o,l){const c=l[o];return Zr(c)?c:c[0]}function Ia(o){return 4==(4&o[2])}function ws(o){return 128==(128&o[2])}function Lr(o,l){return null==l?null:o[l]}function mo(o){o[18]=0}function yo(o,l){o[5]+=l;let c=o,f=o[3];for(;null!==f&&(1===l&&1===c[5]||-1===l&&0===c[5]);)f[5]+=l,c=f,f=f[3]}const Rt={lFrame:Kd(null),bindingsEnabled:!0};function Ta(){return Rt.bindingsEnabled}function Ye(){return Rt.lFrame.lView}function gn(){return Rt.lFrame.tView}function sc(o){return Rt.lFrame.contextLView=o,o[8]}function Xn(){let o=zd();for(;null!==o&&64===o.type;)o=o.parent;return o}function zd(){return Rt.lFrame.currentTNode}function Cs(o,l){const c=Rt.lFrame;c.currentTNode=o,c.isParent=l}function ou(){return Rt.lFrame.isParent}function gl(){Rt.lFrame.isParent=!1}function $i(){const o=Rt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function xs(){return Rt.lFrame.bindingIndex}function Aa(){return Rt.lFrame.bindingIndex++}function Fr(o){const l=Rt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function Gd(o,l){const c=Rt.lFrame;c.bindingIndex=c.bindingRootIndex=o,au(l)}function au(o){Rt.lFrame.currentDirectiveIndex=o}function qd(){return Rt.lFrame.currentQueryIndex}function Zd(o){Rt.lFrame.currentQueryIndex=o}function lu(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function yl(o,l,c){if(c&pe.SkipSelf){let p=l,m=o;for(;!(p=p.parent,null!==p||c&pe.Host||(p=lu(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,o=m}const f=Rt.lFrame=$o();return f.currentTNode=l,f.lView=o,!0}function _l(o){const l=$o(),c=o[1];Rt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function $o(){const o=Rt.lFrame,l=null===o?null:o.child;return null===l?Kd(o):l}function Kd(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function qf(){const o=Rt.lFrame;return Rt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const oc=qf;function Vr(){const o=qf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function er(){return Rt.lFrame.selectedIndex}function Go(o){Rt.lFrame.selectedIndex=o}function Si(){const o=Rt.lFrame;return fi(o.tView,o.selectedIndex)}function qs(o,l){for(let c=l.directiveStart,f=l.directiveEnd;c<f;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:D,ngAfterViewChecked:N,ngOnDestroy:L}=m;w&&(o.contentHooks||(o.contentHooks=[])).push(-c,w),x&&((o.contentHooks||(o.contentHooks=[])).push(c,x),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,x)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),N&&((o.viewHooks||(o.viewHooks=[])).push(c,N),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,N)),null!=L&&(o.destroyHooks||(o.destroyHooks=[])).push(c,L)}}function vl(o,l,c){Xd(o,l,3,c)}function bl(o,l,c,f){(3&o[2])===c&&Xd(o,l,c,f)}function Ri(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function Xd(o,l,c,f){const m=null!=f?f:-1,w=l.length-1;let x=0;for(let D=void 0!==f?65535&o[18]:0;D<w;D++)if("number"==typeof l[D+1]){if(x=l[D],null!=f&&x>=f)break}else l[D]<0&&(o[18]+=65536),(x<m||-1==m)&&(Pm(o,c,l,D),o[18]=(4294901760&o[18])+D+2),D++}function Pm(o,l,c,f){const p=c[f]<0,m=c[f+1],x=o[p?-c[f]:c[f]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(x)}finally{}}}else try{m.call(x)}finally{}}class Ma{constructor(l,c,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=f}}function Zo(o,l,c){const f=Gn(o);let p=0;for(;p<c.length;){const m=c[p];if("number"==typeof m){if(0!==m)break;p++;const w=c[p++],x=c[p++],D=c[p++];f?o.setAttribute(l,x,D,w):l.setAttributeNS(w,x,D)}else{const w=m,x=c[++p];th(w)?f&&o.setProperty(l,w,x):f?o.setAttribute(l,w,x):l.setAttribute(w,x),p++}}return p}function Cl(o){return 3===o||4===o||6===o}function th(o){return 64===o.charCodeAt(0)}function xl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let f=0;f<l.length;f++){const p=l[f];"number"==typeof p?c=p:0===c||bo(o,c,p,null,-1===c||2===c?l[++f]:null)}}return o}function bo(o,l,c,f,p){let m=0,w=o.length;if(-1===l)w=-1;else for(;m<o.length;){const x=o[m++];if("number"==typeof x){if(x===l){w=-1;break}if(x>l){w=m-1;break}}}for(;m<o.length;){const x=o[m];if("number"==typeof x)break;if(x===c){if(null===f)return void(null!==p&&(o[m+1]=p));if(f===o[m+1])return void(o[m+2]=p)}m++,null!==f&&m++,null!==p&&m++}-1!==w&&(o.splice(w,0,l),m=w+1),o.splice(m++,0,c),null!==f&&o.splice(m++,0,f),null!==p&&o.splice(m++,0,p)}function nh(o){return-1!==o}function Kn(o){return 32767&o}function Es(o,l){let c=function Yf(o){return o>>16}(o),f=l;for(;c>0;)f=f[15],c--;return f}let lc=!0;function Ko(o){const l=lc;return lc=o,l}let Lm=0;function Il(o,l){const c=Pi(o,l);if(-1!==c)return c;const f=l[1];f.firstCreatePass&&(o.injectorIndex=l.length,Cn(f.data,o),Cn(l,null),Cn(f.blueprint,null));const p=Qr(o,l),m=o.injectorIndex;if(nh(p)){const w=Kn(p),x=Es(p,l),D=x[1].data;for(let N=0;N<8;N++)l[m+N]=x[w+N]|D[w+N]}return l[m+8]=p,m}function Cn(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Pi(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Qr(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,f=null,p=l;for(;null!==p;){const m=p[1],w=m.type;if(f=2===w?m.declTNode:1===w?p[6]:null,null===f)return-1;if(c++,p=p[15],-1!==f.injectorIndex)return f.injectorIndex|c<<16}return-1}function Yo(o,l,c){!function El(o,l,c){let f;"string"==typeof c?f=c.charCodeAt(0)||0:c.hasOwnProperty(Ke)&&(f=c[Ke]),null==f&&(f=c[Ke]=Lm++);const p=255&f;l.data[o+(p>>5)]|=1<<p}(o,l,c)}function Qo(o,l,c){if(c&pe.Optional)return o;je(l,"NodeInjector")}function cc(o,l,c,f){if(c&pe.Optional&&void 0===f&&(f=null),0==(c&(pe.Self|pe.Host))){const p=o[9],m=vt(void 0);try{return p?p.get(l,f,c&pe.Optional):At(l,f,c&pe.Optional)}finally{vt(m)}}return Qo(f,l,c)}function Tl(o,l,c,f=pe.Default,p){if(null!==o){const m=function Jf(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Ke)?o[Ke]:void 0;return"number"==typeof l?l>=0?255&l:Ks:l}(c);if("function"==typeof m){if(!yl(l,o,f))return f&pe.Host?Qo(p,c,f):cc(l,c,f,p);try{const w=m(f);if(null!=w||f&pe.Optional)return w;je(c)}finally{oc()}}else if("number"==typeof m){let w=null,x=Pi(o,l),D=-1,N=f&pe.Host?l[16][6]:null;for((-1===x||f&pe.SkipSelf)&&(D=-1===x?Qr(o,l):l[x+8],-1!==D&&du(f,!1)?(w=l[1],x=Kn(D),l=Es(D,l)):x=-1);-1!==x;){const L=l[1];if(Dl(m,x,L.data)){const $=Gi(x,l,c,w,f,N);if($!==Br)return $}D=l[x+8],-1!==D&&du(f,l[1].data[x+8]===N)&&Dl(m,x,l)?(w=L,x=Kn(D),l=Es(D,l)):x=-1}}}return cc(l,c,f,p)}const Br={};function Ks(){return new Is(Xn(),Ye())}function Gi(o,l,c,f,p,m){const w=l[1],x=w.data[o+8],L=Pt(x,w,c,null==f?Yl(x)&&lc:f!=w&&0!=(3&x.type),p&pe.Host&&m===x);return null!==L?Na(l,w,L,x):Br}function Pt(o,l,c,f,p){const m=o.providerIndexes,w=l.data,x=1048575&m,D=o.directiveStart,L=m>>20,ae=p?x+L:o.directiveEnd;for(let ve=f?x:x+L;ve<ae;ve++){const ze=w[ve];if(ve<D&&c===ze||ve>=D&&ze.type===c)return ve}if(p){const ve=w[D];if(ve&&Kr(ve)&&ve.type===c)return D}return null}function Na(o,l,c,f){let p=o[c];const m=l.data;if(function eh(o){return o instanceof Ma}(p)){const w=p;w.resolving&&function Be(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${o}${c}`)}(Ce(m[c]));const x=Ko(w.canSeeViewProviders);w.resolving=!0;const D=w.injectImpl?vt(w.injectImpl):null;yl(o,f,pe.Default);try{p=o[c]=w.factory(void 0,m,o,f),l.firstCreatePass&&c>=f.directiveStart&&function Jd(o,l,c){const{ngOnChanges:f,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(f){const w=dl(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,w)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],l)}finally{null!==D&&vt(D),Ko(x),w.resolving=!1,oc()}}return p}function Dl(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function du(o,l){return!(o&pe.Self||o&pe.Host&&l)}class Is{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,f){return Tl(this._tNode,this._lView,l,f,c)}}function hu(o){return Ut(()=>{const l=o.prototype.constructor,c=l[be]||Jr(l),f=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==f;){const m=p[be]||Jr(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Jr(o){return Pe(o)?()=>{const l=Jr(te(o));return l&&l()}:Yr(o)}function Ur(o){return function uu(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const f=c.length;let p=0;for(;p<f;){const m=c[p];if(Cl(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<f&&"string"==typeof c[p];)p++;else{if(m===l)return c[p+1];p+=2}}}return null}(Xn(),o)}const Jo="__parameters__";function _r(o,l,c){return Ut(()=>{const f=function fu(o){return function(...c){if(o){const f=o(...c);for(const p in f)this[p]=f[p]}}}(l);function p(...m){if(this instanceof p)return f.apply(this,m),this;const w=new p(...m);return x.annotation=w,x;function x(D,N,L){const $=D.hasOwnProperty(Jo)?D[Jo]:Object.defineProperty(D,Jo,{value:[]})[Jo];for(;$.length<=L;)$.push(null);return($[L]=$[L]||[]).push(w),D}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class _n{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xo=new _n("AnalyzeForEntryComponents");function tr(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let f=o[c];Array.isArray(f)?(l===o&&(l=o.slice(0,c)),tr(f,l)):l!==o&&l.push(f)}return l}function vr(o,l){o.forEach(c=>Array.isArray(c)?vr(c,l):l(c))}function gu(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function ea(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function xo(o,l){const c=[];for(let f=0;f<o;f++)c.push(l);return c}function ur(o,l,c){let f=Pa(o,l);return f>=0?o[1|f]=c:(f=~f,function Sl(o,l,c,f){let p=o.length;if(p==l)o.push(c,f);else if(1===p)o.push(f,o[0]),o[0]=c;else{for(p--,o.push(o[p-1],o[p]);p>l;)o[p]=o[p-2],p--;o[l]=c,o[l+1]=f}}(o,f,l,c)),f}function kl(o,l){const c=Pa(o,l);if(c>=0)return o[1|c]}function Pa(o,l){return function vu(o,l,c){let f=0,p=o.length>>c;for(;p!==f;){const m=f+(p-f>>1),w=o[m<<c];if(l===w)return m<<c;w>l?p=m:f=m+1}return~(p<<c)}(o,l,1)}const Eo={},na="__NG_DI_FLAG__",fc="ngTempTokenPath",A=/\n/gm,B="__source",Q=j({provide:String,useValue:j});let ye;function Me(o){const l=ye;return ye=o,l}function nt(o,l=pe.Default){if(void 0===ye)throw new Oe(203,"");return null===ye?At(o,void 0,l):ye.get(o,l&pe.Optional?null:void 0,l)}function ct(o,l=pe.Default){return(function yt(){return bt}()||nt)(te(o),l)}const Gt=ct;function cn(o){const l=[];for(let c=0;c<o.length;c++){const f=te(o[c]);if(Array.isArray(f)){if(0===f.length)throw new Oe(900,"");let p,m=pe.Default;for(let w=0;w<f.length;w++){const x=f[w],D=qi(x);"number"==typeof D?-1===D?p=x.token:m|=D:p=x}l.push(ct(p,m))}else l.push(ct(f))}return l}function Vt(o,l){return o[na]=l,o.prototype[na]=l,o}function qi(o){return o[na]}const Js=Vt(_r("Inject",o=>({token:o})),-1),br=Vt(_r("Optional"),8),fs=Vt(_r("SkipSelf"),4);let ra,Eu;function gc(o){var l;return(null===(l=function Nl(){if(void 0===ra&&(ra=null,Bt.trustedTypes))try{ra=Bt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ra}())||void 0===l?void 0:l.createHTML(o))||o}function dp(o){var l;return(null===(l=function mc(){if(void 0===Eu&&(Eu=null,Bt.trustedTypes))try{Eu=Bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Eu}())||void 0===l?void 0:l.createHTML(o))||o}class sa{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jm extends sa{getTypeName(){return"HTML"}}class Hm extends sa{getTypeName(){return"Style"}}class hp extends sa{getTypeName(){return"Script"}}class ts extends sa{getTypeName(){return"URL"}}class oa extends sa{getTypeName(){return"ResourceURL"}}function aa(o){return o instanceof sa?o.changingThisBreaksApplicationSecurity:o}function Fa(o,l){const c=yc(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function yc(o){return o instanceof sa&&o.getTypeName()||null}function Iu(o){return new jm(o)}function zm(o){return new Hm(o)}function Wm(o){return new hp(o)}function rx(o){return new ts(o)}function D0(o){return new oa(o)}class A0{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(gc(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Gm{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const f=this.inertDocument.createElement("body");c.appendChild(f)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=gc(l),c;const f=this.inertDocument.createElement("body");return f.innerHTML=gc(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const c=l.attributes;for(let p=c.length-1;0<p;p--){const w=c.item(p).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const qm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function v(o){return(o=String(o)).match(qm)||o.match(y)?o:"unsafe:"+o}function O(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function z(...o){const l={};for(const c of o)for(const f in c)c.hasOwnProperty(f)&&(l[f]=!0);return l}const Ee=O("area,br,col,hr,img,wbr"),Je=O("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wt=O("rp,rt"),Ts=z(Ee,z(Je,O("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),z(wt,O("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),z(wt,Je)),Ds=O("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_c=O("srcset"),Tu=z(Ds,_c,O("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),O("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Km=O("script,style,template");class Du{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,f=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?f=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,f&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!Ts.hasOwnProperty(c))return this.sanitizedSomething=!0,!Km.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const f=l.attributes;for(let p=0;p<f.length;p++){const m=f.item(p),w=m.name,x=w.toLowerCase();if(!Tu.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let D=m.value;Ds[x]&&(D=v(D)),_c[x]&&(o=D,D=(o=String(o)).split(",").map(l=>v(l.trim())).join(", ")),this.buf.push(" ",w,'="',Va(D),'"')}var o;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();Ts.hasOwnProperty(c)&&!Ee.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(Va(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const fp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ym=/([^\#-~ |!])/g;function Va(o){return o.replace(/&/g,"&amp;").replace(fp,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ym,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Au;function pp(o,l){let c=null;try{Au=Au||function $m(o){const l=new Gm(o);return function S0(){try{return!!(new window.DOMParser).parseFromString(gc(""),"text/html")}catch(o){return!1}}()?new A0(l):l}(o);let f=l?String(l):"";c=Au.getInertBodyElement(f);let p=5,m=f;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,f=m,m=c.innerHTML,c=Au.getInertBodyElement(f)}while(f!==m);return gc((new Du).sanitizeChildren(Su(c)||c))}finally{if(c){const f=Su(c)||c;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Su(o){return"content"in o&&function gp(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Zi=(()=>((Zi=Zi||{})[Zi.NONE=0]="NONE",Zi[Zi.HTML=1]="HTML",Zi[Zi.STYLE=2]="STYLE",Zi[Zi.SCRIPT=3]="SCRIPT",Zi[Zi.URL=4]="URL",Zi[Zi.RESOURCE_URL=5]="RESOURCE_URL",Zi))();function sx(o){const l=dh();return l?dp(l.sanitize(Zi.HTML,o)||""):Fa(o,"HTML")?dp(aa(o)):pp(Ws(),me(o))}function k0(o){const l=dh();return l?l.sanitize(Zi.URL,o)||"":Fa(o,"URL")?aa(o):v(me(o))}function dh(){const o=Ye();return o&&o[12]}const ux="__ngContext__";function wr(o,l){o[ux]=l}function N0(o){const l=function hh(o){return o[ux]||null}(o);return l?Array.isArray(l)?l:l.lView:null}function Xm(o){return o.ngOriginalError}function PR(o,...l){o.error(...l)}class O0{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),f=function RR(o){return o&&o.ngErrorLogger||PR}(l);f(this._console,"ERROR",l),c&&f(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Xm(l);for(;c&&Xm(c);)c=Xm(c);return c||null}}const ey=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function da(o){return o instanceof Function?o():o}var wi=(()=>((wi=wi||{})[wi.Important=1]="Important",wi[wi.DashCase=2]="DashCase",wi))();function ty(o,l){return undefined(o,l)}function bc(o){const l=o[3];return Or(l)?l[3]:l}function V0(o){return mx(o[13])}function B0(o){return mx(o[4])}function mx(o){for(;null!==o&&!Or(o);)o=o[4];return o}function gh(o,l,c,f,p){if(null!=f){let m,w=!1;Or(f)?m=f:Zr(f)&&(w=!0,f=f[0]);const x=Hn(f);0===o&&null!==c?null==p?G0(l,c,x):Pl(l,c,x,p||null,!0):1===o&&null!==c?Pl(l,c,x,p||null,!0):2===o?function bx(o,l,c){const f=ay(o,l);f&&function Z0(o,l,c,f){Gn(o)?o.removeChild(l,c,f):l.removeChild(c)}(o,f,l,c)}(l,x,w):3===o&&l.destroyNode(x),null!=m&&function yD(o,l,c,f,p){const m=c[7];m!==Hn(c)&&gh(l,o,f,m,p);for(let x=10;x<c.length;x++){const D=c[x];bp(D[1],D,o,l,f,m)}}(l,o,m,c,p)}}function oy(o,l,c){if(Gn(o))return o.createElement(l,c);{const f=null!==c?function ec(o){const l=o.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(c):null;return null===f?o.createElement(l):o.createElementNS(f,l)}}function H0(o,l){const c=o[9],f=c.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,yo(p,-1)),c.splice(f,1)}function mp(o,l){if(o.length<=10)return;const c=10+l,f=o[c];if(f){const p=f[17];null!==p&&p!==o&&H0(p,f),l>0&&(o[c-1][4]=f[4]);const m=ea(o,10+l);!function uD(o,l){bp(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const w=m[19];null!==w&&w.detachView(m[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function z0(o,l){if(!(256&l[2])){const c=l[11];Gn(c)&&c.destroyNode&&bp(o,l,c,3,null,null),function fD(o){let l=o[13];if(!l)return Mu(o[1],o);for(;l;){let c=null;if(Zr(l))c=l[13];else{const f=l[10];f&&(c=f)}if(!c){for(;l&&!l[4]&&l!==o;)Zr(l)&&Mu(l[1],l),l=l[3];null===l&&(l=o),Zr(l)&&Mu(l[1],l),c=l&&l[4]}l=c}}(l)}}function Mu(o,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function W0(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let f=0;f<c.length;f+=2){const p=l[c[f]];if(!(p instanceof Ma)){const m=c[f+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const x=p[m[w]],D=m[w+1];try{D.call(x)}finally{}}else try{m.call(p)}finally{}}}}(o,l),function pD(o,l){const c=o.cleanup,f=l[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const w=c[m+1],x="function"==typeof w?w(l):Hn(l[w]),D=f[p=c[m+2]],N=c[m+3];"boolean"==typeof N?x.removeEventListener(c[m],D,N):N>=0?f[p=N]():f[p=-N].unsubscribe(),m+=2}else{const w=f[p=c[m+1]];c[m].call(w)}if(null!==f){for(let m=p+1;m<f.length;m++)f[m]();l[7]=null}}(o,l),1===l[1].type&&Gn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Or(l[3])){c!==l[3]&&H0(c,l);const f=l[19];null!==f&&f.detachView(o)}}}function $0(o,l,c){return function _x(o,l,c){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return c[0];if(2&f.flags){const p=o.data[f.directiveStart].encapsulation;if(p===kt.None||p===kt.Emulated)return null}return zi(f,c)}(o,l.parent,c)}function Pl(o,l,c,f,p){Gn(o)?o.insertBefore(l,c,f,p):l.insertBefore(c,f,p)}function G0(o,l,c){Gn(o)?o.appendChild(l,c):l.appendChild(c)}function q0(o,l,c,f,p){null!==f?Pl(o,l,c,f,p):G0(o,l,c)}function ay(o,l){return Gn(o)?o.parentNode(l):l.parentNode}function vx(o,l,c){return ly(o,l,c)}let ly=function yp(o,l,c){return 40&o.type?zi(o,c):null};function vp(o,l,c,f){const p=$0(o,f,l),m=l[11],x=vx(f.parent||l[6],f,l);if(null!=p)if(Array.isArray(c))for(let D=0;D<c.length;D++)q0(m,p,c[D],x,!1);else q0(m,p,c,x,!1)}function uy(o,l){if(null!==l){const c=l.type;if(3&c)return zi(l,o);if(4&c)return mh(-1,o[l.index]);if(8&c){const f=l.child;if(null!==f)return uy(o,f);{const p=o[l.index];return Or(p)?mh(-1,p):Hn(p)}}if(32&c)return ty(l,o)()||Hn(o[l.index]);{const f=K0(o,l);return null!==f?Array.isArray(f)?f[0]:uy(bc(o[16]),f):uy(o,l.next)}}return null}function K0(o,l){return null!==l?o[16][6].projection[l.projection]:null}function mh(o,l){const c=10+o+1;if(c<l.length){const f=l[c],p=f[1].firstChild;if(null!==p)return uy(f,p)}return l[7]}function Y0(o,l,c,f,p,m,w){for(;null!=c;){const x=f[c.index],D=c.type;if(w&&0===l&&(x&&wr(Hn(x),f),c.flags|=4),64!=(64&c.flags))if(8&D)Y0(o,l,c.child,f,p,m,!1),gh(l,o,p,x,m);else if(32&D){const N=ty(c,f);let L;for(;L=N();)gh(l,o,p,L,m);gh(l,o,p,x,m)}else 16&D?wx(o,l,f,c,p,m):gh(l,o,p,x,m);c=w?c.projectionNext:c.next}}function bp(o,l,c,f,p,m){Y0(c,f,o.firstChild,l,p,m,!1)}function wx(o,l,c,f,p,m){const w=c[16],D=w[6].projection[f.projection];if(Array.isArray(D))for(let N=0;N<D.length;N++)gh(l,o,p,D[N],m);else Y0(o,l,D,w[3],p,m,!0)}function Cx(o,l,c){Gn(o)?o.setAttribute(l,"style",c):l.style.cssText=c}function Q0(o,l,c){Gn(o)?""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c):l.className=c}function xx(o,l,c){let f=o.length;for(;;){const p=o.indexOf(l,c);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=l.length;if(p+m===f||o.charCodeAt(p+m)<=32)return p}c=p+1}}const X0="ng-template";function Ex(o,l,c){let f=0;for(;f<o.length;){let p=o[f++];if(c&&"class"===p){if(p=o[f],-1!==xx(p.toLowerCase(),l,0))return!0}else if(1===p){for(;f<o.length&&"string"==typeof(p=o[f++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function dy(o){return 4===o.type&&o.value!==X0}function vD(o,l,c){return l===(4!==o.type||c?o.value:X0)}function bD(o,l,c){let f=4;const p=o.attrs||[],m=function Dx(o){for(let l=0;l<o.length;l++)if(Cl(o[l]))return l;return o.length}(p);let w=!1;for(let x=0;x<l.length;x++){const D=l[x];if("number"!=typeof D){if(!w)if(4&f){if(f=2|1&f,""!==D&&!vD(o,D,c)||""===D&&1===l.length){if(ha(f))return!1;w=!0}}else{const N=8&f?D:l[++x];if(8&f&&null!==o.attrs){if(!Ex(o.attrs,N,c)){if(ha(f))return!1;w=!0}continue}const $=Ix(8&f?"class":D,p,dy(o),c);if(-1===$){if(ha(f))return!1;w=!0;continue}if(""!==N){let ae;ae=$>m?"":p[$+1].toLowerCase();const ve=8&f?ae:null;if(ve&&-1!==xx(ve,N,0)||2&f&&N!==ae){if(ha(f))return!1;w=!0}}}}else{if(!w&&!ha(f)&&!ha(D))return!1;if(w&&ha(D))continue;w=!1,f=D|1&f}}return ha(f)||w}function ha(o){return 0==(1&o)}function Ix(o,l,c,f){if(null===l)return-1;let p=0;if(f||!c){let m=!1;for(;p<l.length;){const w=l[p];if(w===o)return p;if(3===w||6===w)m=!0;else{if(1===w||2===w){let x=l[++p];for(;"string"==typeof x;)x=l[++p];continue}if(4===w)break;if(0===w){p+=4;continue}}p+=m?1:2}return-1}return function Ax(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const f=o[c];if("number"==typeof f)return-1;if(f===l)return c;c++}return-1}(l,o)}function ev(o,l,c=!1){for(let f=0;f<l.length;f++)if(bD(o,l[f],c))return!0;return!1}function BR(o,l){e:for(let c=0;c<l.length;c++){const f=l[c];if(o.length===f.length){for(let p=0;p<o.length;p++)if(o[p]!==f[p])continue e;return!0}}return!1}function Sx(o,l){return o?":not("+l.trim()+")":l}function UR(o){let l=o[0],c=1,f=2,p="",m=!1;for(;c<o.length;){let w=o[c];if("string"==typeof w)if(2&f){const x=o[++c];p+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&f?p+="."+w:4&f&&(p+=" "+w);else""!==p&&!ha(w)&&(l+=Sx(m,p),p=""),f=w,m=m||!ha(f);c++}return""!==p&&(l+=Sx(m,p)),l}const un={};function kx(o){nv(gn(),Ye(),er()+o,!1)}function nv(o,l,c,f){if(!f)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&vl(l,m,c)}else{const m=o.preOrderHooks;null!==m&&bl(l,m,0,c)}Go(c)}function wp(o,l){return o<<17|l<<2}function Xs(o){return o>>17&32767}function Cp(o){return 2|o}function wc(o){return(131068&o)>>2}function iv(o,l){return-131069&o|l<<2}function rv(o){return 1|o}function kD(o,l){const c=o.contentQueries;if(null!==c)for(let f=0;f<c.length;f+=2){const p=c[f],m=c[f+1];if(-1!==m){const w=o.data[m];Zd(p),w.contentQueries(2,l[m],m)}}}function py(o,l,c,f,p,m,w,x,D,N){const L=l.blueprint.slice();return L[0]=p,L[2]=140|f,mo(L),L[3]=L[15]=o,L[8]=c,L[10]=w||o&&o[10],L[11]=x||o&&o[11],L[12]=D||o&&o[12]||null,L[9]=N||o&&o[9]||null,L[6]=m,L[16]=2==l.type?o[16]:L,L}function xp(o,l,c,f,p){let m=o.data[l];if(null===m)m=function Ux(o,l,c,f,p){const m=zd(),w=ou(),D=o.data[l]=function iP(o,l,c,f,p,m){return{type:c,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,c,l,f,p);return null===o.firstChild&&(o.firstChild=D),null!==m&&(w?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(o,l,c,f,p),function Gf(){return Rt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=f,m.attrs=p;const w=function Gs(){const o=Rt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Cs(m,!0),m}function Ep(o,l,c,f){if(0===c)return-1;const p=l.length;for(let m=0;m<c;m++)l.push(f),o.blueprint.push(f),o.data.push(null);return p}function gy(o,l,c){_l(l);try{const f=o.viewQuery;null!==f&&gv(1,f,c);const p=o.template;null!==p&&MD(o,l,p,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kD(o,l),o.staticViewQueries&&gv(2,o.viewQuery,c);const m=o.components;null!==m&&function eP(o,l){for(let c=0;c<l.length;c++)Ba(o,l[c])}(l,m)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{l[2]&=-5,Vr()}}function Ip(o,l,c,f){const p=l[2];if(256!=(256&p)){_l(l);try{mo(l),function Da(o){return Rt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&MD(o,l,c,2,f);const w=3==(3&p);if(w){const N=o.preOrderCheckHooks;null!==N&&vl(l,N,null)}else{const N=o.preOrderHooks;null!==N&&bl(l,N,0,null),Ri(l,0)}if(function hv(o){for(let l=V0(o);null!==l;l=B0(l)){if(!l[2])continue;const c=l[9];for(let f=0;f<c.length;f++){const p=c[f],m=p[3];0==(1024&p[2])&&yo(m,1),p[2]|=1024}}}(l),function Lu(o){for(let l=V0(o);null!==l;l=B0(l))for(let c=10;c<l.length;c++){const f=l[c],p=f[1];ws(f)&&Ip(p,f,p.template,f[8])}}(l),null!==o.contentQueries&&kD(o,l),w){const N=o.contentCheckHooks;null!==N&&vl(l,N)}else{const N=o.contentHooks;null!==N&&bl(l,N,1),Ri(l,1)}!function JR(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let f=0;f<c.length;f++){const p=c[f];if(p<0)Go(~p);else{const m=p,w=c[++f],x=c[++f];Gd(w,m),x(2,l[m])}}}finally{Go(-1)}}(o,l);const x=o.components;null!==x&&function XR(o,l){for(let c=0;c<l.length;c++)Zx(o,l[c])}(l,x);const D=o.viewQuery;if(null!==D&&gv(2,D,f),w){const N=o.viewCheckHooks;null!==N&&vl(l,N)}else{const N=o.viewHooks;null!==N&&bl(l,N,2),Ri(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,yo(l[3],-1))}finally{Vr()}}}function tP(o,l,c,f){const p=l[10],w=Ia(l);try{!w&&p.begin&&p.begin(),w&&gy(o,l,f),Ip(o,l,c,f)}finally{!w&&p.end&&p.end()}}function MD(o,l,c,f,p){const m=er(),w=2&f;try{Go(-1),w&&l.length>20&&nv(o,l,20,!1),c(f,p)}finally{Go(m)}}function ND(o,l,c){if(Nd(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const w=o.data[m];w.contentQueries&&w.contentQueries(1,c[m],m)}}}function jx(o,l,c){!Ta()||(function uv(o,l,c,f){const p=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||Il(c,l),wr(f,l);const w=c.initialInputs;for(let x=p;x<m;x++){const D=o.data[x],N=Kr(D);N&&yy(l,c,D);const L=Na(l,o,x,c);wr(L,l),null!==w&&Gx(0,x-p,L,D,0,w),N&&(Wi(c.index,l)[8]=L)}}(o,l,c,zi(c,l)),128==(128&c.flags)&&function my(o,l,c){const f=c.directiveStart,p=c.directiveEnd,w=c.index,x=function ml(){return Rt.lFrame.currentDirectiveIndex}();try{Go(w);for(let D=f;D<p;D++){const N=o.data[D],L=l[D];au(D),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&ns(N,L)}}finally{Go(-1),au(x)}}(o,l,c))}function Hx(o,l,c=zi){const f=l.localNames;if(null!==f){let p=l.index+1;for(let m=0;m<f.length;m+=2){const w=f[m+1],x=-1===w?c(l,o):o[w];o[p++]=x}}}function RD(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=cv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function cv(o,l,c,f,p,m,w,x,D,N){const L=20+f,$=L+p,ae=function nP(o,l){const c=[];for(let f=0;f<l;f++)c.push(f<o?null:un);return c}(L,$),ve="function"==typeof N?N():N;return ae[1]={type:o,blueprint:ae,template:c,queries:null,viewQuery:x,declTNode:l,data:ae.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:D,consts:ve,incompleteFirstPass:!1}}function LD(o,l,c,f){const p=Yx(l);null===c?p.push(f):(p.push(c),o.firstCreatePass&&by(o).push(f,p.length-1))}function FD(o,l,c){for(let f in o)if(o.hasOwnProperty(f)){const p=o[f];(c=null===c?{}:c).hasOwnProperty(f)?c[f].push(l,p):c[f]=[l,p]}return c}function To(o,l,c,f,p,m,w,x){const D=zi(l,c);let L,N=l.inputs;!x&&null!=N&&(L=N[f])?(Qx(o,c,L,f,p),Yl(l)&&function oP(o,l){const c=Wi(l,o);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(f=function sP(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),p=null!=w?w(p,l.value||"",f):p,Gn(m)?m.setProperty(D,f,p):th(f)||(D.setProperty?D.setProperty(f,p):D[f]=p))}function Hr(o,l,c,f){let p=!1;if(Ta()){const m=function zr(o,l,c){const f=o.directiveRegistry;let p=null;if(f)for(let m=0;m<f.length;m++){const w=f[m];ev(c,w.selectors,!1)&&(p||(p=[]),Yo(Il(c,l),o,w.type),Kr(w)?(zx(o,c),p.unshift(w)):p.push(w))}return p}(o,l,c),w=null===f?null:{"":-1};if(null!==m){p=!0,dv(c,o.data.length,m.length);for(let L=0;L<m.length;L++){const $=m[L];$.providersResolver&&$.providersResolver($)}let x=!1,D=!1,N=Ep(o,l,m.length,null);for(let L=0;L<m.length;L++){const $=m[L];c.mergedAttrs=xl(c.mergedAttrs,$.hostAttrs),$x(o,c,l,N,$),Wx(N,$,w),null!==$.contentQueries&&(c.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(c.flags|=128);const ae=$.type.prototype;!x&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),x=!0),!D&&(ae.ngOnChanges||ae.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),N++}!function rP(o,l){const f=l.directiveEnd,p=o.data,m=l.attrs,w=[];let x=null,D=null;for(let N=l.directiveStart;N<f;N++){const L=p[N],$=L.inputs,ae=null===m||dy(l)?null:qx($,m);w.push(ae),x=FD($,N,x),D=FD(L.outputs,N,D)}null!==x&&(x.hasOwnProperty("class")&&(l.flags|=16),x.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=x,l.outputs=D}(o,c)}w&&function BD(o,l,c){if(l){const f=o.localNames=[];for(let p=0;p<l.length;p+=2){const m=c[l[p+1]];if(null==m)throw new Oe(-301,!1);f.push(l[p],m)}}}(c,f,w)}return c.mergedAttrs=xl(c.mergedAttrs,c.attrs),p}function fa(o,l,c,f,p,m){const w=m.hostBindings;if(w){let x=o.hostBindingOpCodes;null===x&&(x=o.hostBindingOpCodes=[]);const D=~l.index;(function qt(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(x)!=D&&x.push(D),x.push(f,p,w)}}function ns(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function zx(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function Wx(o,l,c){if(c){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)c[l.exportAs[f]]=o;Kr(l)&&(c[""]=o)}}function dv(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function $x(o,l,c,f,p){o.data[f]=p;const m=p.factory||(p.factory=Yr(p.type)),w=new Ma(m,Kr(p),null);o.blueprint[f]=w,c[f]=w,fa(o,l,0,f,Ep(o,c,p.hostVars,un),p)}function yy(o,l,c){const f=zi(l,o),p=RD(c),m=o[10],w=_h(o,py(o,p,null,c.onPush?64:16,f,l,m,m.createRenderer(f,c),null,null));o[l.index]=w}function ir(o,l,c,f,p,m){const w=zi(o,l);!function Tp(o,l,c,f,p,m,w){if(null==m)Gn(o)?o.removeAttribute(l,p,c):l.removeAttribute(p);else{const x=null==w?me(m):w(m,f||"",p);Gn(o)?o.setAttribute(l,p,x,c):c?l.setAttributeNS(c,p,x):l.setAttribute(p,x)}}(l[11],w,m,o.value,c,f,p)}function Gx(o,l,c,f,p,m){const w=m[l];if(null!==w){const x=f.setInput;for(let D=0;D<w.length;){const N=w[D++],L=w[D++],$=w[D++];null!==x?f.setInput(c,$,N,L):c[L]=$}}}function qx(o,l){let c=null,f=0;for(;f<l.length;){const p=l[f];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,o[p],l[f+1])),f+=2}else f+=2;else f+=4}return c}function Ou(o,l,c,f){return new Array(o,!0,!1,l,null,0,f,c,null,null)}function Zx(o,l){const c=Wi(l,o);if(ws(c)){const f=c[1];80&c[2]?Ip(f,c,f.template,c[8]):c[5]>0&&Dp(c)}}function Dp(o){for(let f=V0(o);null!==f;f=B0(f))for(let p=10;p<f.length;p++){const m=f[p];if(1024&m[2]){const w=m[1];Ip(w,m,w.template,m[8])}else m[5]>0&&Dp(m)}const c=o[1].components;if(null!==c)for(let f=0;f<c.length;f++){const p=Wi(c[f],o);ws(p)&&p[5]>0&&Dp(p)}}function Ba(o,l){const c=Wi(l,o),f=c[1];(function UD(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(f,c),gy(f,c,c[8])}function _h(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Ap(o){for(;o;){o[2]|=64;const l=bc(o);if(Ql(o)&&!l)return o;o=l}return null}function _y(o){!function Sp(o){for(let l=0;l<o.components.length;l++){const c=o.components[l],f=N0(c),p=f[1];tP(p,f,p.template,c)}}(o[8])}function gv(o,l,c){Zd(0),l(o,c)}const vy=(()=>Promise.resolve(null))();function Yx(o){return o[7]||(o[7]=[])}function by(o){return o.cleanup||(o.cleanup=[])}function wy(o,l){const c=o[9],f=c?c.get(O0,null):null;f&&f.handleError(l)}function Qx(o,l,c,f,p){for(let m=0;m<c.length;){const w=c[m++],x=c[m++],D=l[w],N=o.data[w];null!==N.setInput?N.setInput(D,p,f,x):D[x]=p}}function gs(o,l,c){const f=Ho(l,o);!function U0(o,l,c){Gn(o)?o.setValue(l,c):l.textContent=c}(o[11],f,c)}function vh(o,l,c){let f=c?o.styles:null,p=c?o.classes:null,m=0;if(null!==l)for(let w=0;w<l.length;w++){const x=l[w];"number"==typeof x?m=x:1==m?p=ue(p,x):2==m&&(f=ue(f,x+": "+l[++w]+";"))}c?o.styles=f:o.stylesWithoutHost=f,c?o.classes=p:o.classesWithoutHost=p}const mv=new _n("INJECTOR",-1);class Ua{get(l,c=Eo){if(c===Eo){const f=new Error(`NullInjectorError: No provider for ${K(l)}!`);throw f.name="NullInjectorError",f}return c}}const xt=new _n("Set Injector scope."),Fu={},nn={};let bh;function Cy(){return void 0===bh&&(bh=new Ua),bh}function wh(o,l=null,c=null,f){const p=Jx(o,l,c,f);return p._resolveInjectorDefTypes(),p}function Jx(o,l=null,c=null,f){return new yv(o,c,l||Cy(),f)}class yv{constructor(l,c,f,p=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&vr(c,x=>this.processProvider(x,l,c)),vr([l],x=>this.processInjectorType(x,[],m)),this.records.set(mv,Ol(void 0,this));const w=this.records.get(xt);this.scope=null!=w?w.value:null,this.source=p||("object"==typeof l?null:K(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Eo,f=pe.Default){this.assertNotDestroyed();const p=Me(this),m=vt(void 0);try{if(!(f&pe.SkipSelf)){let x=this.records.get(l);if(void 0===x){const D=function tE(o){return"function"==typeof o||"object"==typeof o&&o instanceof _n}(l)&&yn(l);x=D&&this.injectableDefInScope(D)?Ol(_v(l),Fu):null,this.records.set(l,x)}if(null!=x)return this.hydrate(l,x)}return(f&pe.Self?Cy():this.parent).get(l,c=f&pe.Optional&&c===Eo?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[fc]=w[fc]||[]).unshift(K(l)),p)throw w;return function li(o,l,c,f){const p=o[fc];throw l[B]&&p.unshift(l[B]),o.message=function La(o,l,c,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=K(l);if(Array.isArray(l))p=l.map(K).join(" -> ");else if("object"==typeof l){let m=[];for(let w in l)if(l.hasOwnProperty(w)){let x=l[w];m.push(w+":"+("string"==typeof x?JSON.stringify(x):K(x)))}p=`{${m.join(", ")}}`}return`${c}${f?"("+f+")":""}[${p}]: ${o.replace(A,"\n  ")}`}("\n"+o.message,p,c,f),o.ngTokenPath=p,o[fc]=null,o}(w,l,"R3InjectorError",this.source)}throw w}finally{vt(m),Me(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((f,p)=>l.push(K(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(l,c,f){if(!(l=te(l)))return!1;let p=mr(l);const m=null==p&&l.ngModule||void 0,w=void 0===m?l:m,x=-1!==f.indexOf(w);if(void 0!==m&&(p=mr(m)),null==p)return!1;if(null!=p.imports&&!x){let L;f.push(w);try{vr(p.imports,$=>{this.processInjectorType($,c,f)&&(void 0===L&&(L=[]),L.push($))})}finally{}if(void 0!==L)for(let $=0;$<L.length;$++){const{ngModule:ae,providers:ve}=L[$];vr(ve,ze=>this.processProvider(ze,ae,ve||Y))}}this.injectorDefTypes.add(w);const D=Yr(w)||(()=>new w);this.records.set(w,Ol(D,Fu));const N=p.providers;if(null!=N&&!x){const L=l;vr(N,$=>this.processProvider($,L,N))}return void 0!==m&&void 0!==l.providers}processProvider(l,c,f){let p=Ch(l=te(l))?l:te(l&&l.provide);const m=function $D(o,l,c){return Er(o)?Ol(void 0,o.useValue):Ol(xr(o),Fu)}(l);if(Ch(l)||!0!==l.multi)this.records.get(p);else{let w=this.records.get(p);w||(w=Ol(void 0,Fu,!0),w.factory=()=>cn(w.multi),this.records.set(p,w)),p=l,w.multi.push(l)}this.records.set(p,m)}hydrate(l,c){return c.value===Fu&&(c.value=nn,c.value=c.factory()),"object"==typeof c.value&&c.value&&function qD(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=te(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function _v(o){const l=yn(o),c=null!==l?l.factory:Yr(o);if(null!==c)return c;if(o instanceof _n)throw new Oe(204,!1);if(o instanceof Function)return function WD(o){const l=o.length;if(l>0)throw xo(l,"?"),new Oe(204,!1);const c=function ei(o){const l=o&&(o[_i]||o[re]);if(l){const c=function Fn(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Oe(204,!1)}function xr(o,l,c){let f;if(Ch(o)){const p=te(o);return Yr(p)||_v(p)}if(Er(o))f=()=>te(o.useValue);else if(function GD(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...cn(o.deps||[]));else if(function Cc(o){return!(!o||!o.useExisting)}(o))f=()=>ct(te(o.useExisting));else{const p=te(o&&(o.useClass||o.provide));if(!function eE(o){return!!o.deps}(o))return Yr(p)||_v(p);f=()=>new p(...cn(o.deps))}return f}function Ol(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function Er(o){return null!==o&&"object"==typeof o&&Q in o}function Ch(o){return"function"==typeof o}let Do=(()=>{class o{static create(c,f){var p;if(Array.isArray(c))return wh({name:""},f,c,"");{const m=null!==(p=c.name)&&void 0!==p?p:"";return wh({name:m},c.parent,c.providers,m)}}}return o.THROW_IF_NOT_FOUND=Eo,o.NULL=new Ua,o.\u0275prov=an({token:o,providedIn:"any",factory:()=>ct(mv)}),o.__NG_ELEMENT_ID__=-1,o})();function dE(o,l){qs(N0(o)[1],Xn())}function Ir(o){let l=function hE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const f=[o];for(;l;){let p;if(Kr(o))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Oe(903,"");p=l.\u0275dir}if(p){if(c){f.push(p);const w=o;w.inputs=Ev(o.inputs),w.declaredInputs=Ev(o.declaredInputs),w.outputs=Ev(o.outputs);const x=p.hostBindings;x&&XD(o,x);const D=p.viewQuery,N=p.contentQueries;if(D&&Op(o,D),N&&JD(o,N),W(o.inputs,p.inputs),W(o.declaredInputs,p.declaredInputs),W(o.outputs,p.outputs),Kr(p)&&p.data.animation){const L=o.data;L.animation=(L.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let w=0;w<m.length;w++){const x=m[w];x&&x.ngInherit&&x(o),x===Ir&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Pp(o){let l=0,c=null;for(let f=o.length-1;f>=0;f--){const p=o[f];p.hostVars=l+=p.hostVars,p.hostAttrs=xl(p.hostAttrs,c=xl(c,p.hostAttrs))}}(f)}function Ev(o){return o===Zt?{}:o===Y?[]:o}function Op(o,l){const c=o.viewQuery;o.viewQuery=c?(f,p)=>{l(f,p),c(f,p)}:l}function JD(o,l){const c=o.contentQueries;o.contentQueries=c?(f,p,m)=>{l(f,p,m),c(f,p,m)}:l}function XD(o,l){const c=o.hostBindings;o.hostBindings=c?(f,p)=>{l(f,p),c(f,p)}:l}let Eh=null;function xc(){if(!Eh){const o=Bt.Symbol;if(o&&o.iterator)Eh=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const f=l[c];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Eh=f)}}}return Eh}function Ih(o){return!!Ay(o)&&(Array.isArray(o)||!(o instanceof Map)&&xc()in o)}function Ay(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function pa(o,l,c){return o[l]=c}function Wr(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function Bu(o,l,c,f){const p=Wr(o,l,c);return Wr(o,l+1,f)||p}function Lp(o,l,c,f){const p=Ye();return Wr(p,Aa(),l)&&(gn(),ir(Si(),p,o,l,c,f)),Lp}function Oi(o,l,c,f){return Wr(o,Aa(),c)?l+me(c)+f:un}function Ec(o,l,c,f,p,m,w,x){const N=function Th(o,l,c,f,p){const m=Bu(o,l,c,f);return Wr(o,l+2,p)||m}(o,xs(),c,p,w);return Fr(3),N?l+me(c)+f+me(p)+m+me(w)+x:un}function yE(o,l,c,f,p,m,w,x){const D=Ye(),N=gn(),L=o+20,$=N.firstCreatePass?function mE(o,l,c,f,p,m,w,x,D){const N=l.consts,L=xp(l,o,4,w||null,Lr(N,x));Hr(l,c,L,Lr(N,D)),qs(l,L);const $=L.tViews=cv(2,L,f,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,N);return null!==l.queries&&(l.queries.template(l,L),$.queries=l.queries.embeddedTView(L)),L}(L,N,D,l,c,f,p,m,w):N.data[L];Cs($,!1);const ae=D[11].createComment("");vp(N,D,ae,$),wr(ae,D),_h(D,D[L]=Ou(ae,D,ae,$)),fo($)&&jx(N,D,$),null!=w&&Hx(D,$,x)}function Av(o){return $s(function Wd(){return Rt.lFrame.contextLView}(),20+o)}function Wu(o,l=pe.Default){const c=Ye();return null===c?ct(o,l):Tl(Xn(),c,te(o),l)}function IE(){throw new Error("invalid")}function zp(o,l,c){const f=Ye();return Wr(f,Aa(),l)&&To(gn(),Si(),f,o,l,f[11],c,!1),zp}function Ic(o,l,c,f,p){const w=p?"class":"style";Qx(o,c,l.inputs[w],w,f)}function ja(o,l,c,f){const p=Ye(),m=gn(),w=20+o,x=p[11],D=p[w]=oy(x,l,function Rm(){return Rt.lFrame.currentNamespace}()),N=m.firstCreatePass?function Lv(o,l,c,f,p,m,w){const x=l.consts,N=xp(l,o,2,p,Lr(x,m));return Hr(l,c,N,Lr(x,w)),null!==N.attrs&&vh(N,N.attrs,!1),null!==N.mergedAttrs&&vh(N,N.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,N),N}(w,m,p,0,l,c,f):m.data[w];Cs(N,!0);const L=N.mergedAttrs;null!==L&&Zo(x,D,L);const $=N.classes;null!==$&&Q0(x,D,$);const ae=N.styles;return null!==ae&&Cx(x,D,ae),64!=(64&N.flags)&&vp(m,p,D,N),0===function jd(){return Rt.lFrame.elementDepthCount}()&&wr(D,p),function pl(){Rt.lFrame.elementDepthCount++}(),fo(N)&&(jx(m,p,N),ND(m,N,p)),null!==f&&Hx(p,N),ja}function Wp(){let o=Xn();ou()?gl():(o=o.parent,Cs(o,!1));const l=o;!function Hd(){Rt.lFrame.elementDepthCount--}();const c=gn();return c.firstCreatePass&&(qs(c,o),Nd(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Om(o){return 0!=(16&o.flags)}(l)&&Ic(c,l,Ye(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function qo(o){return 0!=(32&o.flags)}(l)&&Ic(c,l,Ye(),l.stylesWithoutHost,!1),Wp}function Fv(o,l,c,f){return ja(o,l,c,f),Wp(),Fv}function $u(o,l,c){const f=Ye(),p=gn(),m=o+20,w=p.firstCreatePass?function Fl(o,l,c,f,p){const m=l.consts,w=Lr(m,f),x=xp(l,o,8,"ng-container",w);return null!==w&&vh(x,w,!0),Hr(l,c,x,Lr(m,p)),null!==l.queries&&l.queries.elementStart(l,x),x}(m,p,f,l,c):p.data[m];Cs(w,!0);const x=f[m]=f[11].createComment("");return vp(p,f,x,w),wr(x,f),fo(w)&&(jx(p,f,w),ND(p,w,f)),null!=c&&Hx(f,w),$u}function Gu(){let o=Xn();const l=gn();return ou()?gl():(o=o.parent,Cs(o,!1)),l.firstCreatePass&&(qs(l,o),Nd(o)&&l.queries.elementEnd(o)),Gu}function Bh(o,l,c){return $u(o,l,c),Gu(),Bh}function Vv(){return Ye()}function ci(o){return!!o&&"function"==typeof o.then}function $p(o){return!!o&&"function"==typeof o.subscribe}const TE=$p;function Bv(o,l,c,f){const p=Ye(),m=gn(),w=Xn();return function DE(o,l,c,f,p,m,w,x){const D=fo(f),L=o.firstCreatePass&&by(o),$=l[8],ae=Yx(l);let ve=!0;if(3&f.type||x){const gt=zi(f,l),Et=x?x(gt):gt,Ze=ae.length,Ot=x?vn=>x(Hn(vn[f.index])):f.index;if(Gn(c)){let vn=null;if(!x&&D&&(vn=function Gp(o,l,c,f){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const w=p[m];if(w===c&&p[m+1]===f){const x=l[7],D=p[m+2];return x.length>D?x[D]:null}"string"==typeof w&&(m+=2)}return null}(o,l,p,f.index)),null!==vn)(vn.__ngLastListenerFn__||vn).__ngNextListenerFn__=m,vn.__ngLastListenerFn__=m,ve=!1;else{m=jv(f,l,$,m,!1);const Yn=c.listen(Et,p,m);ae.push(m,Yn),L&&L.push(p,Ot,Ze,Ze+1)}}else m=jv(f,l,$,m,!0),Et.addEventListener(p,m,w),ae.push(m),L&&L.push(p,Ot,Ze,w)}else m=jv(f,l,$,m,!1);const ze=f.outputs;let ot;if(ve&&null!==ze&&(ot=ze[p])){const gt=ot.length;if(gt)for(let Et=0;Et<gt;Et+=2){const ys=l[ot[Et]][ot[Et+1]].subscribe(m),pd=ae.length;ae.push(m,ys),L&&L.push(p,f.index,pd,-(pd+1))}}}(m,p,p[11],w,o,l,!!c,f),Bv}function Uv(o,l,c,f){try{return!1!==c(f)}catch(p){return wy(o,p),!1}}function jv(o,l,c,f,p){return function m(w){if(w===Function)return f;const x=2&o.flags?Wi(o.index,l):l;0==(32&l[2])&&Ap(x);let D=Uv(l,0,f,w),N=m.__ngNextListenerFn__;for(;N;)D=Uv(l,0,N,w)&&D,N=N.__ngNextListenerFn__;return p&&!1===D&&(w.preventDefault(),w.returnValue=!1),D}}function AE(o=1){return function Zf(o){return(Rt.lFrame.contextLView=function cu(o,l){for(;o>0;)l=l[15],o--;return l}(o,Rt.lFrame.contextLView))[8]}(o)}function cA(o,l){let c=null;const f=function Tx(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===f?ev(o,m,!0):BR(f,m))return p}else c=p}return c}function SE(o){const l=Ye()[16][6];if(!l.projection){const f=l.projection=xo(o?o.length:1,null),p=f.slice();let m=l.child;for(;null!==m;){const w=o?cA(m,o):0;null!==w&&(p[w]?p[w].projectionNext=m:f[w]=m,p[w]=m),m=m.next}}}function jh(o,l=0,c){const f=Ye(),p=gn(),m=xp(p,20+o,16,null,c||null);null===m.projection&&(m.projection=l),gl(),64!=(64&m.flags)&&function mD(o,l,c){wx(l[11],0,l,c,$0(o,c,l),vx(c.parent||l[6],c,l))}(p,f,m)}function qp(o,l,c,f,p){const m=Ye(),w=Oi(m,l,c,f);return w!==un&&To(gn(),Si(),m,o,w,m[11],p,!1),qp}function By(o,l,c,f,p,m,w){const x=Ye(),D=function Ll(o,l,c,f,p,m){const x=Bu(o,xs(),c,p);return Fr(2),x?l+me(c)+f+me(p)+m:un}(x,l,c,f,p,m);return D!==un&&To(gn(),Si(),x,o,D,x[11],w,!1),By}function qv(o,l,c,f,p){const m=o[c+1],w=null===l;let x=f?Xs(m):wc(m),D=!1;for(;0!==x&&(!1===D||w);){const L=o[x+1];RE(o[x],l)&&(D=!0,o[x+1]=f?rv(L):Cp(L)),x=f?Xs(L):wc(L)}D&&(o[c+1]=f?Cp(m):rv(m))}function RE(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Pa(o,l)>=0}const Ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PE(o){return o.substring(Ki.key,Ki.keyEnd)}function Zp(o,l){const c=Ki.textEnd;return c===l?-1:(l=Ki.keyEnd=function Qp(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,Ki.key=l,c),Zu(o,l,c))}function Zu(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function Kv(o,l,c){return ks(o,l,c,!1),Kv}function Yv(o,l){return ks(o,l,null,!0),Yv}function Qv(o){Ao(ur,ga,o,!0)}function ga(o,l){for(let c=function hA(o){return function Uy(o){Ki.key=0,Ki.keyEnd=0,Ki.value=0,Ki.valueEnd=0,Ki.textEnd=o.length}(o),Zp(o,Zu(o,0,Ki.textEnd))}(l);c>=0;c=Zp(l,c))ur(o,PE(l),!0)}function ks(o,l,c,f){const p=Ye(),m=gn(),w=Fr(2);m.firstUpdatePass&&Jv(m,o,w,f),l!==un&&Wr(p,w,l)&&BE(m,m.data[er()],p,p[11],o,p[w+1]=function UE(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=K(aa(o)))),o}(l,c),f,w)}function Ao(o,l,c,f){const p=gn(),m=Fr(2);p.firstUpdatePass&&Jv(p,null,m,f);const w=Ye();if(c!==un&&Wr(w,m,c)){const x=p.data[er()];if(tb(x,f)&&!za(p,m)){let D=f?x.classesWithoutHost:x.stylesWithoutHost;null!==D&&(c=ue(D,c||"")),Ic(p,x,w,c,f)}else!function Hy(o,l,c,f,p,m,w,x){p===un&&(p=Y);let D=0,N=0,L=0<p.length?p[0]:null,$=0<m.length?m[0]:null;for(;null!==L||null!==$;){const ae=D<p.length?p[D+1]:void 0,ve=N<m.length?m[N+1]:void 0;let ot,ze=null;L===$?(D+=2,N+=2,ae!==ve&&(ze=$,ot=ve)):null===$||null!==L&&L<$?(D+=2,ze=L):(N+=2,ze=$,ot=ve),null!==ze&&BE(o,l,c,f,ze,ot,w,x),L=D<p.length?p[D]:null,$=N<m.length?m[N]:null}}(p,x,w,w[11],w[m+1],w[m+1]=function VE(o,l,c){if(null==c||""===c)return Y;const f=[],p=aa(c);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(f,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(f,m,p[m]);else"string"==typeof p&&l(f,p);return f}(o,l,c),f,m)}}function za(o,l){return l>=o.expandoStartIndex}function Jv(o,l,c,f){const p=o.data;if(null===p[c+1]){const m=p[er()],w=za(o,c);tb(m,f)&&null===l&&!w&&(l=!1),l=function fA(o,l,c,f){const p=function ka(o){const l=Rt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}(o);let m=f?l.residualClasses:l.residualStyles;if(null===p)0===(f?l.classBindings:l.styleBindings)&&(c=Tc(c=eg(null,o,l,c,f),l.attrs,f),m=null);else{const w=l.directiveStylingLast;if(-1===w||o[w]!==p)if(c=eg(p,o,l,c,f),null===m){let D=function Xv(o,l,c){const f=c?l.classBindings:l.styleBindings;if(0!==wc(f))return o[Xs(f)]}(o,l,f);void 0!==D&&Array.isArray(D)&&(D=eg(null,o,l,D[1],f),D=Tc(D,l.attrs,f),function Xp(o,l,c,f){o[Xs(c?l.classBindings:l.styleBindings)]=f}(o,l,f,D))}else m=function FE(o,l,c){let f;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)f=Tc(f,o[m].hostAttrs,c);return Tc(f,l.attrs,c)}(o,l,f)}return void 0!==m&&(f?l.residualClasses=m:l.residualStyles=m),c}(p,m,l,f),function $v(o,l,c,f,p,m){let w=m?l.classBindings:l.styleBindings,x=Xs(w),D=wc(w);o[f]=c;let L,N=!1;if(Array.isArray(c)){const $=c;L=$[1],(null===L||Pa($,L)>0)&&(N=!0)}else L=c;if(p)if(0!==D){const ae=Xs(o[x+1]);o[f+1]=wp(ae,x),0!==ae&&(o[ae+1]=iv(o[ae+1],f)),o[x+1]=function HR(o,l){return 131071&o|l<<17}(o[x+1],f)}else o[f+1]=wp(x,0),0!==x&&(o[x+1]=iv(o[x+1],f)),x=f;else o[f+1]=wp(D,0),0===x?x=f:o[D+1]=iv(o[D+1],f),D=f;N&&(o[f+1]=Cp(o[f+1])),qv(o,L,f,!0),qv(o,L,f,!1),function Gv(o,l,c,f,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&Pa(m,l)>=0&&(c[f+1]=rv(c[f+1]))}(l,L,o,f,m),w=wp(x,D),m?l.classBindings=w:l.styleBindings=w}(p,m,l,c,w,f)}}function eg(o,l,c,f,p){let m=null;const w=c.directiveEnd;let x=c.directiveStylingLast;for(-1===x?x=c.directiveStart:x++;x<w&&(m=l[x],f=Tc(f,m.hostAttrs,p),m!==o);)x++;return null!==o&&(c.directiveStylingLast=x),f}function Tc(o,l,c){const f=c?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const w=l[m];"number"==typeof w?p=w:p===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ur(o,w,!!c||l[++m]))}return void 0===o?null:o}function BE(o,l,c,f,p,m,w,x){if(!(3&l.type))return;const D=o.data,N=D[x+1];Dc(function wD(o){return 1==(1&o)}(N)?eb(D,l,c,p,wc(N),w):void 0)||(Dc(m)||function yh(o){return 2==(2&o)}(N)&&(m=eb(D,null,c,p,x,w)),function _D(o,l,c,f,p){const m=Gn(o);if(l)p?m?o.addClass(c,f):c.classList.add(f):m?o.removeClass(c,f):c.classList.remove(f);else{let w=-1===f.indexOf("-")?void 0:wi.DashCase;if(null==p)m?o.removeStyle(c,f,w):c.style.removeProperty(f);else{const x="string"==typeof p&&p.endsWith("!important");x&&(p=p.slice(0,-10),w|=wi.Important),m?o.setStyle(c,f,p,w):c.style.setProperty(f,p,x?"important":"")}}}(f,w,Ho(er(),c),p,m))}function eb(o,l,c,f,p,m){const w=null===l;let x;for(;p>0;){const D=o[p],N=Array.isArray(D),L=N?D[1]:D,$=null===L;let ae=c[p+1];ae===un&&(ae=$?Y:void 0);let ve=$?kl(ae,f):L===f?ae:void 0;if(N&&!Dc(ve)&&(ve=kl(D,f)),Dc(ve)&&(x=ve,w))return x;const ze=o[p+1];p=w?Xs(ze):wc(ze)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(x=kl(D,f))}return x}function Dc(o){return void 0!==o}function tb(o,l){return 0!=(o.flags&(l?16:32))}function zy(o,l=""){const c=Ye(),f=gn(),p=o+20,m=f.firstCreatePass?xp(f,p,1,l,null):f.data[p],w=c[p]=function ku(o,l){return Gn(o)?o.createText(l):o.createTextNode(l)}(c[11],l);vp(f,c,w,m),Cs(m,!1)}function tg(o){return ng("",o,""),tg}function ng(o,l,c){const f=Ye(),p=Oi(f,o,l,c);return p!==un&&gs(f,er(),p),ng}function Wy(o,l,c,f,p,m,w){const x=Ye(),D=Ec(x,o,l,c,f,p,m,w);return D!==un&&gs(x,er(),D),Wy}function rg(o,l,c){Ao(ur,ga,Oi(Ye(),o,l,c),!0)}const Qe=void 0;var qE=["en",[["a","p"],["AM","PM"],Qe],[["AM","PM"],Qe,Qe],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qe,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qe,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qe,"{1} 'at' {0}",Qe],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Tr(o){const c=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===f?1:5}];let $h={};function lb(o){const l=function no(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=cb(l);if(c)return c;const f=l.split("-")[0];if(c=cb(f),c)return c;if("en"===f)return qE;throw new Error(`Missing locale data for the locale "${o}".`)}function ZE(o){return lb(o)[Ht.PluralCase]}function cb(o){return o in $h||($h[o]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[o]),$h[o]}var Ht=(()=>((Ht=Ht||{})[Ht.LocaleId=0]="LocaleId",Ht[Ht.DayPeriodsFormat=1]="DayPeriodsFormat",Ht[Ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ht[Ht.DaysFormat=3]="DaysFormat",Ht[Ht.DaysStandalone=4]="DaysStandalone",Ht[Ht.MonthsFormat=5]="MonthsFormat",Ht[Ht.MonthsStandalone=6]="MonthsStandalone",Ht[Ht.Eras=7]="Eras",Ht[Ht.FirstDayOfWeek=8]="FirstDayOfWeek",Ht[Ht.WeekendRange=9]="WeekendRange",Ht[Ht.DateFormat=10]="DateFormat",Ht[Ht.TimeFormat=11]="TimeFormat",Ht[Ht.DateTimeFormat=12]="DateTimeFormat",Ht[Ht.NumberSymbols=13]="NumberSymbols",Ht[Ht.NumberFormats=14]="NumberFormats",Ht[Ht.CurrencyCode=15]="CurrencyCode",Ht[Ht.CurrencySymbol=16]="CurrencySymbol",Ht[Ht.CurrencyName=17]="CurrencyName",Ht[Ht.Currencies=18]="Currencies",Ht[Ht.Directionality=19]="Directionality",Ht[Ht.PluralCase=20]="PluralCase",Ht[Ht.ExtraData=21]="ExtraData",Ht))();const rn="en-US";let kc=rn;function Jy(o,l,c,f,p){if(o=te(o),Array.isArray(o))for(let m=0;m<o.length;m++)Jy(o[m],l,c,f,p);else{const m=gn(),w=Ye();let x=Ch(o)?o:te(o.provide),D=xr(o);const N=Xn(),L=1048575&N.providerIndexes,$=N.directiveStart,ae=N.providerIndexes>>20;if(Ch(o)||!o.multi){const ve=new Ma(D,p,Wu),ze=Pc(x,l,p?L:L+ae,$);-1===ze?(Yo(Il(N,w),m,x),ya(m,o,l.length),l.push(x),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),c.push(ve),w.push(ve)):(c[ze]=ve,w[ze]=ve)}else{const ve=Pc(x,l,L+ae,$),ze=Pc(x,l,L,L+ae),ot=ve>=0&&c[ve],gt=ze>=0&&c[ze];if(p&&!gt||!p&&!ot){Yo(Il(N,w),m,x);const Et=function bb(o,l,c,f,p){const m=new Ma(o,c,Wu);return m.multi=[],m.index=l,m.componentProviders=0,_b(m,p,f&&!c),m}(p?vb:RA,c.length,p,f,D);!p&&gt&&(c[ze].providerFactory=Et),ya(m,o,l.length,0),l.push(x),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),c.push(Et),w.push(Et)}else ya(m,o,ve>-1?ve:ze,_b(c[p?ze:ve],D,!p&&f));!p&&f&&gt&&c[ze].componentProviders++}}}function ya(o,l,c,f){const p=Ch(l),m=function Xx(o){return!!o.useClass}(l);if(p||m){const D=(m?te(l.useClass):l).prototype.ngOnDestroy;if(D){const N=o.destroyHooks||(o.destroyHooks=[]);if(!p&&l.multi){const L=N.indexOf(c);-1===L?N.push(c,[f,D]):N[L+1].push(f,D)}else N.push(c,D)}}}function _b(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function Pc(o,l,c,f){for(let p=c;p<f;p++)if(l[p]===o)return p;return-1}function RA(o,l,c,f){return gg(this.multi,[])}function vb(o,l,c,f){const p=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=Na(c,c[1],this.providerFactory.index,f);m=x.slice(0,w),gg(p,m);for(let D=w;D<x.length;D++)m.push(x[D])}else m=[],gg(p,m);return m}function gg(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function td(o,l=[]){return c=>{c.providersResolver=(f,p)=>function hI(o,l,c){const f=gn();if(f.firstCreatePass){const p=Kr(o);Jy(c,f.data,f.blueprint,p,!0),Jy(l,f.data,f.blueprint,p,!1)}}(f,p?p(o):o,l)}}class wb{}class xb{resolveComponentFactory(l){throw function mg(o){const l=Error(`No component factory found for ${K(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let yg=(()=>{class o{}return o.NULL=new xb,o})();function pI(){return Xh(Xn(),Ye())}function Xh(o,l){return new ef(zi(o,l))}let ef=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=pI,o})();function gI(o){return o instanceof ef?o.nativeElement:o}class _g{}let OA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function mI(){const o=Ye(),c=Wi(Xn().index,o);return function LA(o){return o[11]}(Zr(c)?c:o)}(),o})(),tf=(()=>{class o{}return o.\u0275prov=an({token:o,providedIn:"root",factory:()=>null}),o})();class Oc{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Eb=new Oc("13.3.9"),Hl={};function vg(o,l,c,f,p=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&f.push(Hn(m)),Or(m))for(let x=10;x<m.length;x++){const D=m[x],N=D[1].firstChild;null!==N&&vg(D[1],D,N,f)}const w=c.type;if(8&w)vg(o,l,c.child,f);else if(32&w){const x=ty(c,l);let D;for(;D=x();)f.push(D)}else if(16&w){const x=K0(l,c);if(Array.isArray(x))f.push(...x);else{const D=bc(l[16]);vg(D[1],D,x,f,!0)}}c=p?c.projectionNext:c.next}return f}class $a{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return vg(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Or(l)){const c=l[8],f=c?c.indexOf(this):-1;f>-1&&(mp(l,f),ea(c,f))}this._attachedToViewContainer=!1}z0(this._lView[1],this._lView)}onDestroy(l){LD(this._lView[1],this._lView,null,l)}markForCheck(){Ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function kp(o,l,c){const f=l[10];f.begin&&f.begin();try{Ip(o,l,o.template,c)}catch(p){throw wy(l,p),p}finally{f.end&&f.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hD(o,l){bp(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=l}}class yI extends $a{constructor(l){super(l),this._view=l}detectChanges(){_y(this._view)}checkNoChanges(){}get context(){return null}}class Ib extends yg{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=pt(l);return new Vi(c,this.ngModule)}}function nf(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class Vi extends wb{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function jR(o){return o.map(UR).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return nf(this.componentDef.inputs)}get outputs(){return nf(this.componentDef.outputs)}create(l,c,f,p){const m=(p=p||this.ngModule)?function VA(o,l){return{get:(c,f,p)=>{const m=o.get(c,Hl,p);return m!==Hl||f===Hl?m:l.get(c,f,p)}}}(l,p.injector):l,w=m.get(_g,hl),x=m.get(tf,null),D=w.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",L=f?function OD(o,l,c){if(Gn(o))return o.selectRootElement(l,c===kt.ShadowDom);let f="string"==typeof l?o.querySelector(l):l;return f.textContent="",f}(D,f,this.componentDef.encapsulation):oy(w.createRenderer(null,this.componentDef),N,function FA(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(N)),$=this.componentDef.onPush?576:528,ae=function Iy(o,l){return{components:[],scheduler:o||ey,clean:vy,playerHandler:l||null,flags:0}}(),ve=cv(0,null,null,1,0,null,null,null,null,null),ze=py(null,ve,ae,$,null,null,w,D,x,m);let ot,gt;_l(ze);try{const Et=function cE(o,l,c,f,p,m){const w=c[1];c[20]=o;const D=xp(w,20,2,"#host",null),N=D.mergedAttrs=l.hostAttrs;null!==N&&(vh(D,N,!0),null!==o&&(Zo(p,o,N),null!==D.classes&&Q0(p,o,D.classes),null!==D.styles&&Cx(p,o,D.styles)));const L=f.createRenderer(o,l),$=py(c,RD(l),null,l.onPush?64:16,c[20],D,f,L,m||null,null);return w.firstCreatePass&&(Yo(Il(D,c),w,l.type),zx(w,D),dv(D,c.length,1)),_h(c,$),c[20]=$}(L,this.componentDef,ze,w,D);if(L)if(f)Zo(D,L,["ng-version",Eb.full]);else{const{attrs:Ze,classes:Ot}=function tv(o){const l=[],c=[];let f=1,p=2;for(;f<o.length;){let m=o[f];if("string"==typeof m)2===p?""!==m&&l.push(m,o[++f]):8===p&&c.push(m);else{if(!ha(p))break;p=m}f++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ze&&Zo(D,L,Ze),Ot&&Ot.length>0&&Q0(D,L,Ot.join(" "))}if(gt=fi(ve,20),void 0!==c){const Ze=gt.projection=[];for(let Ot=0;Ot<this.ngContentSelectors.length;Ot++){const vn=c[Ot];Ze.push(null!=vn?Array.from(vn):null)}}ot=function uE(o,l,c,f,p){const m=c[1],w=function lP(o,l,c){const f=Xn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),$x(o,f,l,Ep(o,l,1,null),c));const p=Na(l,o,f.directiveStart,f);wr(p,l);const m=zi(f,l);return m&&wr(m,l),p}(m,c,l);if(f.components.push(w),o[8]=w,p&&p.forEach(D=>D(w,l)),l.contentQueries){const D=Xn();l.contentQueries(1,w,D.directiveStart)}const x=Xn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Go(x.index),fa(c[1],x,0,x.directiveStart,x.directiveEnd,l),ns(l,w)),w}(Et,this.componentDef,ze,ae,[dE]),gy(ve,ze,null)}finally{Vr()}return new BA(this.componentType,ot,Xh(gt,ze),ze,gt)}}class BA extends class Mo{}{constructor(l,c,f,p,m){super(),this.location=f,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new yI(p),this.componentType=l}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class rf{}class Ab{}const nd=new Map;class n_ extends rf{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ib(this);const f=Jt(l);this._bootstrapComponents=da(f.bootstrap),this._r3Injector=Jx(l,c,[{provide:rf,useValue:this},{provide:yg,useValue:this.componentFactoryResolver}],K(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Do.THROW_IF_NOT_FOUND,f=pe.Default){return l===Do||l===rf||l===mv?this:this._r3Injector.get(l,c,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class kb extends Ab{constructor(l){super(),this.moduleType=l,null!==Jt(l)&&function _I(o){const l=new Set;!function c(f){const p=Jt(f,!0),m=p.id;null!==m&&(function Lc(o,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${o} - ${K(l)} vs ${K(l.name)}`)}(m,nd.get(m),f),nd.set(m,f));const w=da(p.imports);for(const x of w)l.has(x)||(l.add(x),c(x))}(o)}(l)}create(l){return new n_(this.moduleType,l)}}function Qi(o,l,c){const f=$i()+o,p=Ye();return p[f]===un?pa(p,f,c?l.call(c):l()):function Vu(o,l){return o[l]}(p,f)}function Mb(o,l,c,f,p){return function qn(o,l,c,f,p,m,w){const x=l+c;return Bu(o,x,p,m)?pa(o,x+2,w?f.call(w,p,m):f(p,m)):wg(o,x+2)}(Ye(),$i(),o,l,c,f,p)}function wg(o,l){const c=o[l];return c===un?void 0:c}function af(o,l){const c=gn();let f;const p=o+20;c.firstCreatePass?(f=function i_(o,l){if(l)for(let c=l.length-1;c>=0;c--){const f=l[c];if(o===f.name)return f}}(l,c.pipeRegistry),c.data[p]=f,f.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,f.onDestroy)):f=c.data[p];const m=f.factory||(f.factory=Yr(f.type)),w=vt(Wu);try{const x=Ko(!1),D=m();return Ko(x),function Vp(o,l,c,f){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=f}(c,Ye(),p,D),D}finally{vt(w)}}function Rb(o,l,c){const f=o+20,p=Ye(),m=$s(p,f);return function lf(o,l){return o[1].data[l].pure}(p,f)?function bI(o,l,c,f,p,m){const w=l+c;return Wr(o,w,p)?pa(o,w+1,m?f.call(m,p):f(p)):wg(o,w+1)}(p,$i(),l,m.transform,c,m):m.transform(c)}function Pb(o){return l=>{setTimeout(o,void 0,l)}}const Ga=class WA extends d.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,f){var p,m,w;let x=l,D=c||(()=>null),N=f;if(l&&"object"==typeof l){const $=l;x=null===(p=$.next)||void 0===p?void 0:p.bind($),D=null===(m=$.error)||void 0===m?void 0:m.bind($),N=null===(w=$.complete)||void 0===w?void 0:w.bind($)}this.__isAsync&&(D=Pb(D),x&&(x=Pb(x)),N&&(N=Pb(N)));const L=super.subscribe({next:x,error:D,complete:N});return l instanceof M.w0&&l.add(L),L}};function xg(){return this._results[xc()]()}class r_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=xc(),f=r_.prototype;f[c]||(f[c]=xg)}get changes(){return this._changes||(this._changes=new Ga)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const f=this;f.dirty=!1;const p=tr(l);(this._changesDetected=!function Al(o,l,c){if(o.length!==l.length)return!1;for(let f=0;f<o.length;f++){let p=o[f],m=l[f];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(f._results,p,c))&&(f._results=p,f.length=p.length,f.last=p[this.length-1],f.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Eg=(()=>{class o{}return o.__NG_ELEMENT_ID__=II,o})();const Dr=Eg,Ob=class extends Dr{constructor(l,c,f){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=f}createEmbeddedView(l){const c=this._declarationTContainer.tViews,f=py(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(f[19]=m.createEmbeddedView(c)),gy(c,f,l),new $a(f)}};function II(){return Vc(Xn(),Ye())}function Vc(o,l){return 4&o.type?new Ob(l,o,Xh(o,l)):null}let io=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lb,o})();function Lb(){return Vb(Xn(),Ye())}const TI=io,cf=class extends TI{constructor(l,c,f){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=f}get element(){return Xh(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const l=Qr(this._hostTNode,this._hostLView);if(nh(l)){const c=Es(l,this._hostLView),f=Kn(l);return new Is(c[1].data[f+8],c)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Fb(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,f){const p=l.createEmbeddedView(c||{});return this.insert(p,f),p}createComponent(l,c,f,p,m){const w=l&&!function Qs(o){return"function"==typeof o}(l);let x;if(w)x=c;else{const $=c||{};x=$.index,f=$.injector,p=$.projectableNodes,m=$.ngModuleRef}const D=w?l:new Vi(pt(l)),N=f||this.parentInjector;if(!m&&null==D.ngModule){const ae=(w?N:this.parentInjector).get(rf,null);ae&&(m=ae)}const L=D.create(N,p,void 0,m);return this.insert(L.hostView,x),L}insert(l,c){const f=l._lView,p=f[1];if(function su(o){return Or(o[3])}(f)){const L=this.indexOf(l);if(-1!==L)this.detach(L);else{const $=f[3],ae=new cf($,$[6],$[3]);ae.detach(ae.indexOf(l))}}const m=this._adjustIndex(c),w=this._lContainer;!function yx(o,l,c,f){const p=10+f,m=c.length;f>0&&(c[p-1][4]=l),f<m-10?(l[4]=c[p],gu(c,10+f,l)):(c.push(l),l[4]=null),l[3]=c;const w=l[17];null!==w&&c!==w&&function j0(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(w,l);const x=l[19];null!==x&&x.insertView(o),l[2]|=128}(p,f,w,m);const x=mh(m,w),D=f[11],N=ay(D,w[7]);return null!==N&&function dD(o,l,c,f,p,m){f[0]=p,f[6]=l,bp(o,f,c,1,p,m)}(p,w[6],D,f,N,x),l.attachToViewContainerRef(),gu(s_(w),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Fb(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),f=mp(this._lContainer,c);f&&(ea(s_(this._lContainer),c),z0(f[1],f))}detach(l){const c=this._adjustIndex(l,-1),f=mp(this._lContainer,c);return f&&null!=ea(s_(this._lContainer),c)?new $a(f):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function Fb(o){return o[8]}function s_(o){return o[8]||(o[8]=[])}function Vb(o,l){let c;const f=l[o.index];if(Or(f))c=f;else{let p;if(8&o.type)p=Hn(f);else{const m=l[11];p=m.createComment("");const w=zi(o,l);Pl(m,ay(m,w),p,function gD(o,l){return Gn(o)?o.nextSibling(l):l.nextSibling}(m,w),!1)}l[o.index]=c=Ou(f,l,p,o),_h(l,c)}return new cf(c,o,l)}class Ig{constructor(l){this.queryList=l,this.matches=null}clone(){return new Ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const f=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let m=0;m<f;m++){const w=c.getByIndex(m);p.push(this.queries[w.indexInDeclarationView].clone())}return new Bb(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==zb(l,c).matches&&this.queries[c].setDirty()}}class Ub{constructor(l,c,f=null){this.predicate=l,this.flags=c,this.read=f}}class a_{constructor(l=[]){this.queries=l}elementStart(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let f=0;f<this.length;f++){const p=null!==c?c.length:0,m=this.getByIndex(f).embeddedTView(l,p);m&&(m.indexInDeclarationView=f,null!==c?c.push(m):c=[m])}return null!==c?new a_(c):null}template(l,c){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class l_{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new l_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==c;)f=f.parent;return c===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const f=this.metadata.predicate;if(Array.isArray(f))for(let p=0;p<f.length;p++){const m=f[p];this.matchTNodeWithReadOption(l,c,qA(c,m)),this.matchTNodeWithReadOption(l,c,Pt(c,l,m,!1,!1))}else f===Eg?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Pt(c,l,f,!1,!1))}matchTNodeWithReadOption(l,c,f){if(null!==f){const p=this.metadata.read;if(null!==p)if(p===ef||p===io||p===Eg&&4&c.type)this.addMatch(c.index,-2);else{const m=Pt(c,l,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,f)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function qA(o,l){const c=o.localNames;if(null!==c)for(let f=0;f<c.length;f+=2)if(c[f]===l)return c[f+1];return null}function ZA(o,l,c,f){return-1===c?function DI(o,l){return 11&o.type?Xh(o,l):4&o.type?Vc(o,l):null}(l,o):-2===c?function KA(o,l,c){return c===ef?Xh(l,o):c===Eg?Vc(l,o):c===io?Vb(l,o):void 0}(o,l,f):Na(o,o[1],c,l)}function id(o,l,c,f){const p=l[19].queries[f];if(null===p.matches){const m=o.data,w=c.matches,x=[];for(let D=0;D<w.length;D+=2){const N=w[D];x.push(N<0?null:ZA(l,m[N],w[D+1],c.metadata.read))}p.matches=x}return p.matches}function Bc(o,l,c,f){const p=o.queries.getByIndex(c),m=p.matches;if(null!==m){const w=id(o,l,p,c);for(let x=0;x<m.length;x+=2){const D=m[x];if(D>0)f.push(w[x/2]);else{const N=m[x+1],L=l[-D];for(let $=10;$<L.length;$++){const ae=L[$];ae[17]===ae[3]&&Bc(ae[1],ae,N,f)}if(null!==L[9]){const $=L[9];for(let ae=0;ae<$.length;ae++){const ve=$[ae];Bc(ve[1],ve,N,f)}}}}}return f}function AI(o){const l=Ye(),c=gn(),f=qd();Zd(f+1);const p=zb(c,f);if(o.dirty&&Ia(l)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?Bc(c,l,f,[]):id(c,l,p,f);o.reset(m,gI),o.notifyOnChanges()}return!0}return!1}function SI(o,l,c){const f=gn();f.firstCreatePass&&(Hb(f,new Ub(o,l,c),-1),2==(2&l)&&(f.staticViewQueries=!0)),MI(f,Ye(),l)}function kI(o,l,c,f){const p=gn();if(p.firstCreatePass){const m=Xn();Hb(p,new Ub(l,c,f),m.index),function qa(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(p,o),2==(2&c)&&(p.staticContentQueries=!0)}MI(p,Ye(),c)}function jb(){return function ms(o,l){return o[19].queries[l].queryList}(Ye(),qd())}function MI(o,l,c){const f=new r_(4==(4&c));LD(o,l,f,f.destroy),null===l[19]&&(l[19]=new Bb),l[19].queries.push(new Ig(f))}function Hb(o,l,c){null===o.queries&&(o.queries=new a_),o.queries.track(new l_(l,c))}function zb(o,l){return o.queries.getByIndex(l)}function Tg(o,l){return Vc(o,l)}function Hc(...o){}const BI=new _n("Application Initializer");let p_=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Hc,this.reject=Hc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,p)=>{this.resolve=f,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(ci(m))c.push(m);else if(TE(m)){const w=new Promise((x,D)=>{m.subscribe({complete:x,error:D})});c.push(w)}}Promise.all(c).then(()=>{f()}).catch(p=>{this.reject(p)}),0===c.length&&f(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(ct(BI,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const UI=new _n("AppId",{providedIn:"root",factory:function jI(){return`${ad()}${ad()}${ad()}`}});function ad(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zc=new _n("Platform Initializer"),ld=new _n("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nw=new _n("appBootstrapListener");let lS=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ff=new _n("LocaleId",{providedIn:"root",factory:()=>Gt(ff,pe.Optional|pe.SkipSelf)||function iw(){return"undefined"!=typeof $localize&&$localize.locale||rn}()}),cS=new _n("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class m_{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let HI=(()=>{class o{compileModuleSync(c){return new kb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const f=this.compileModuleSync(c),m=da(Jt(c).declarations).reduce((w,x)=>{const D=pt(x);return D&&w.push(new Vi(D)),w},[]);return new m_(f,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const y_=(()=>Promise.resolve(0))();function Mg(o){"undefined"==typeof Zone?y_.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ar{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ga(!1),this.onMicrotaskEmpty=new Ga(!1),this.onStable=new Ga(!1),this.onError=new Ga(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!f&&c,p.shouldCoalesceRunChangeDetection=f,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function zI(){let o=Bt.requestAnimationFrame,l=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function hS(o){const l=()=>{!function cd(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Bt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Wc(o),o.isCheckStableRunning=!0,__(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Wc(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,f,p,m,w,x)=>{try{return sw(o),c.invokeTask(p,m,w,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),zl(o)}},onInvoke:(c,f,p,m,w,x,D)=>{try{return sw(o),c.invoke(p,m,w,x,D)}finally{o.shouldCoalesceRunChangeDetection&&l(),zl(o)}},onHasTask:(c,f,p,m)=>{c.hasTask(p,m),f===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Wc(o),__(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,f,p,m)=>(c.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ar.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ar.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,f){return this._inner.run(l,c,f)}runTask(l,c,f,p){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+p,l,pf,Hc,Hc);try{return m.runTask(w,c,f)}finally{m.cancelTask(w)}}runGuarded(l,c,f){return this._inner.runGuarded(l,c,f)}runOutsideAngular(l){return this._outer.run(l)}}const pf={};function __(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Wc(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function sw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function zl(o){o._nesting--,__(o)}class ud{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ga,this.onMicrotaskEmpty=new Ga,this.onStable=new Ga,this.onError=new Ga}run(l,c,f){return l.apply(c,f)}runGuarded(l,c,f){return l.apply(c,f)}runOutsideAngular(l){return l()}runTask(l,c,f,p){return l.apply(c,f)}}let v_=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ar.assertNotInAngularZone(),Mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mg(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(c)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,f,p){let m=-1;f&&f>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),c(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,f,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,f,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,f,p){return[]}}return o.\u0275fac=function(c){return new(c||o)(ct(Ar))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})(),WI=(()=>{class o{constructor(){this._applications=new Map,ow.addToWindow(this)}registerApplication(c,f){this._applications.set(c,f)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,f=!0){return ow.findTestabilityInTree(this,c,f)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class fS{addToWindow(l){}findTestabilityInTree(l,c,f){return null}}function pS(o){ow=o}let ow=new fS,dd=null;const Ng=new _n("AllowMultipleToken"),aw=new _n("PlatformOnDestroy");class hd{constructor(l,c){this.name=l,this.token=c}}function lw(o,l,c=[]){const f=`Platform: ${l}`,p=new _n(f);return(m=[])=>{let w=Pg();if(!w||w.injector.get(Ng,!1)){const x=[...c,...m,{provide:p,useValue:!0}];o?o(x):function Rg(o){if(dd&&!dd.get(Ng,!1))throw new Oe(400,"");dd=o;const l=o.get(b_),c=o.get(zc,null);c&&c.forEach(f=>f())}(function mS(o=[],l){return Do.create({name:l,providers:[{provide:xt,useValue:"platform"},{provide:aw,useValue:()=>dd=null},...o]})}(x,f))}return function GI(o){const l=Pg();if(!l)throw new Oe(401,"");return l}()}}function Pg(){var o;return null!==(o=null==dd?void 0:dd.get(b_))&&void 0!==o?o:null}let b_=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,f){const x=function Og(o,l){let c;return c="noop"===o?new ud:("zone.js"===o?void 0:o)||new Ar({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),D=[{provide:Ar,useValue:x}];return x.run(()=>{const N=Do.create({providers:D,parent:this.injector,name:c.moduleType.name}),L=c.create(N),$=L.injector.get(O0,null);if(!$)throw new Oe(402,"");return x.runOutsideAngular(()=>{const ae=x.onError.subscribe({next:ve=>{$.handleError(ve)}});L.onDestroy(()=>{Lg(this._modules,L),ae.unsubscribe()})}),function w_(o,l,c){try{const f=c();return ci(f)?f.catch(p=>{throw l.runOutsideAngular(()=>o.handleError(p)),p}):f}catch(f){throw l.runOutsideAngular(()=>o.handleError(f)),f}}($,x,()=>{const ae=L.injector.get(p_);return ae.runInitializers(),ae.donePromise.then(()=>(function YE(o){Xt(o,"Expected localeId to be defined"),"string"==typeof o&&(kc=o.toLowerCase().replace(/_/g,"-"))}(L.injector.get(ff,rn)||rn),this._moduleDoBootstrap(L),L))})})}bootstrapModule(c,f=[]){const p=C_({},f);return function gS(o,l,c){const f=new kb(c);return Promise.resolve(f)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const f=c.injector.get(cw);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>f.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Oe(403,"");c.instance.ngDoBootstrap(f)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const c=this._injector.get(aw,null);null==c||c(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(ct(Do))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function C_(o,l){return Array.isArray(l)?l.reduce(C_,o):Object.assign(Object.assign({},o),l)}let cw=(()=>{class o{constructor(c,f,p,m){this._zone=c,this._injector=f,this._exceptionHandler=p,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new T.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),x=new T.y(D=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Ar.assertNotInAngularZone(),Mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Ar.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{N.unsubscribe(),L.unsubscribe()}});this.isStable=(0,F.T)(w,x.pipe((0,V.B)()))}bootstrap(c,f){if(!this._initStatus.done)throw new Oe(405,"");let p;p=c instanceof wb?c:this._injector.get(yg).resolveComponentFactory(c),this.componentTypes.push(p.componentType);const m=function $I(o){return o.isBoundToModule}(p)?void 0:this._injector.get(rf),x=p.create(Do.NULL,[],f||p.selector,m),D=x.location.nativeElement,N=x.injector.get(v_,null),L=N&&x.injector.get(WI);return N&&L&&L.registerApplication(D,N),x.onDestroy(()=>{this.detachView(x.hostView),Lg(this.components,x),L&&L.unregisterApplication(D)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const f=c;this._views.push(f),f.attachToAppRef(this)}detachView(c){const f=c;Lg(this._views,f),f.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(nw,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(ct(Ar),ct(Do),ct(O0),ct(p_))},o.\u0275prov=an({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Lg(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let dw=!0,hw=!1;function fw(){return hw=!0,dw}function vS(){if(hw)throw new Error("Cannot enable prod mode after platform setup.");dw=!1}let wS=(()=>{class o{}return o.__NG_ELEMENT_ID__=gf,o})();function gf(o){return function mf(o,l,c){if(Yl(o)&&!c){const f=Wi(o.index,l);return new $a(f,f)}return 47&o.type?new $a(l[16],l):null}(Xn(),Ye(),16==(16&o))}class I_{constructor(){}supports(l){return Ih(l)}create(l){return new Fg(l)}}const T_=(o,l)=>l;class Fg{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||T_}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,f=this._removalsHead,p=0,m=null;for(;c||f;){const w=!f||c&&c.currentIndex<S_(f,p,m)?c:f,x=S_(w,p,m),D=w.currentIndex;if(w===f)p--,f=f._nextRemoved;else if(c=c._next,null==w.previousIndex)p++;else{m||(m=[]);const N=x-p,L=D-p;if(N!=L){for(let ae=0;ae<N;ae++){const ve=ae<m.length?m[ae]:m[ae]=0,ze=ve+ae;L<=ze&&ze<N&&(m[ae]=ve+1)}m[w.previousIndex]=L-N}}x!==D&&l(w,x,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Ih(l))throw new Oe(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,w,c=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let x=0;x<this.length;x++)m=l[x],w=this._trackByFn(x,m),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,m,w,x)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,w,x),f=!0),c=c._next}else p=0,function eA(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[xc()]();let f;for(;!(f=c.next()).done;)l(f.value)}}(l,x=>{w=this._trackByFn(p,x),null!==c&&Object.is(c.trackById,w)?(f&&(c=this._verifyReinsertion(c,x,w,p)),Object.is(c.item,x)||this._addIdentityChange(c,x)):(c=this._mismatch(c,x,w,p),f=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,f,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,p)):l=this._addAfter(new D_(c,f),m,p),l}_verifyReinsertion(l,c,f,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,c,f),this._addToMoves(l,f),l}_moveAfter(l,c,f){return this._unlink(l),this._insertAfter(l,c,f),this._addToMoves(l,f),l}_addAfter(l,c,f){return this._insertAfter(l,c,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,f){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new A_),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,f=l._next;return null===c?this._itHead=f:c._next=f,null===f?this._itTail=c:f._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A_),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class D_{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===c||c<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const c=l._prevDup,f=l._nextDup;return null===c?this._head=f:c._nextDup=f,null===f?this._tail=c:f._prevDup=c,null===this._head}}class A_{constructor(){this.map=new Map}put(l){const c=l.trackById;let f=this.map.get(c);f||(f=new bw,this.map.set(c,f)),f.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S_(o,l,c){const f=o.previousIndex;if(null===f)return f;let p=0;return c&&f<c.length&&(p=c[f]),f+l+p}class ww{constructor(){}supports(l){return l instanceof Map||Ay(l)}create(){return new kS}}class kS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Ay(l)))throw new Oe(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,f),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,f);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let f=c;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const f=l._prev;return c._next=l,c._prev=f,l._prev=c,f&&(f._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const m=p._prev,w=p._next;return m&&(m._next=w),w&&(w._prev=m),p._next=null,p._prev=null,p}const f=new YI(l);return this._records.set(l,f),f.currentValue=c,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(f=>c(l[f],f))}}class YI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QI(){return new Cw([new I_])}let Cw=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(null!=f){const p=f.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||QI()),deps:[[o,new fs,new br]]}}find(c){const f=this.factories.find(p=>p.supports(c));if(null!=f)return f;throw new Oe(901,"")}}return o.\u0275prov=an({token:o,providedIn:"root",factory:QI}),o})();function xw(){return new _f([new ww])}let _f=(()=>{class o{constructor(c){this.factories=c}static create(c,f){if(f){const p=f.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:f=>o.create(c,f||xw()),deps:[[o,new fs,new br]]}}find(c){const f=this.factories.find(m=>m.supports(c));if(f)return f;throw new Oe(901,"")}}return o.\u0275prov=an({token:o,providedIn:"root",factory:xw}),o})();const NS=lw(null,"core",[]);let RS=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(ct(cw))},o.\u0275mod=Ae({type:o}),o.\u0275inj=on({}),o})()},3942:(qe,q,R)=>{"use strict";R.d(q,{Z:()=>Oe});var d=R(2090),M=R(4859),T=R(9681),F=R(1877);class V{constructor(me,Ce){this._delegate=me,this.firebase=Ce,(0,T._addComponent)(me,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(me,Ce=T._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(me);return!Re.isInitialized()&&"EXPLICIT"===(null===(Be=Re.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:Ce})}_removeServiceInstance(me,Ce=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ce)}_addComponent(me){(0,T._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,T._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ue(){const We=function K(We){const me={},Ce={__esModule:!0,initializeApp:function Ue(ne,de={}){const xe=T.initializeApp(ne,de);if((0,d.r3)(me,xe.name))return me[xe.name];const ee=new We(xe,Ce);return me[xe.name]=ee,ee},app:Re,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function ge(ne){const de=ne.name,xe=de.replace("-compat","");if(T._registerComponent(ne)&&"PUBLIC"===ne.type){const ee=(oe=Re())=>{if("function"!=typeof oe[xe])throw W.create("invalid-app-argument",{appName:de});return oe[xe]()};void 0!==ne.serviceProps&&(0,d.ZB)(ee,ne.serviceProps),Ce[xe]=ee,We.prototype[xe]=function(...oe){return this._getService.bind(this,de).apply(this,ne.multipleInstances?oe:[])}}return"PUBLIC"===ne.type?Ce[xe]:null},removeApp:function Be(ne){delete me[ne]},useAsService:function Se(ne,de){return"serverAuth"===de?null:de},modularAPIs:T}};function Re(ne){if(!(0,d.r3)(me,ne=ne||T._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:ne});return me[ne]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function je(){return Object.keys(me).map(ne=>me[ne])}}),Re.App=We,Ce}(V);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function me(Ce){(0,d.ZB)(We,Ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),We}(),Z=new F.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=G;!function Ie(We){(0,T.registerVersion)("@firebase/app-compat","0.1.25",We)}()},9681:(qe,q,R)=>{"use strict";R.r(q),R.d(q,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>_i,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>wn,_addOrOverwriteComponent:()=>an,_apps:()=>dn,_clearComponents:()=>Sn,_components:()=>Ln,_getProvider:()=>on,_registerComponent:()=>Qt,_removeServiceInstance:()=>yn,deleteApp:()=>pe,getApp:()=>re,getApps:()=>_e,initializeApp:()=>$n,onLog:()=>vt,registerVersion:()=>yt,setLogLevel:()=>At});var d=R(5861),M=R(4859),T=R(1877),F=R(2090),V=R(8766);class j{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function W(ie){const be=ie.getComponent();return"VERSION"===(null==be?void 0:be.type)}(Ke)){const ft=Ke.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ke=>Ke).join(" ")}}const K="@firebase/app",G=new T.Yd("@firebase/app"),Xt="[DEFAULT]",at={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dn=new Map,Ln=new Map;function wn(ie,be){try{ie.container.addComponent(be)}catch(Ke){G.debug(`Component ${be.name} failed to register with FirebaseApp ${ie.name}`,Ke)}}function an(ie,be){ie.container.addOrOverwriteComponent(be)}function Qt(ie){const be=ie.name;if(Ln.has(be))return G.debug(`There were multiple attempts to register component ${be}.`),!1;Ln.set(be,ie);for(const Ke of dn.values())wn(Ke,ie);return!0}function on(ie,be){const Ke=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),ie.container.getProvider(be)}function yn(ie,be,Ke=Xt){on(ie,be).clearInstance(Ke)}function Sn(){Ln.clear()}const Fn=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class mr{constructor(be,Ke,ft){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const _i="9.8.1";function $n(ie,be={}){"object"!=typeof be&&(be={name:be});const Ke=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},be),ft=Ke.name;if("string"!=typeof ft||!ft)throw Fn.create("bad-app-name",{appName:String(ft)});const St=dn.get(ft);if(St){if((0,F.vZ)(ie,St.options)&&(0,F.vZ)(Ke,St.config))return St;throw Fn.create("duplicate-app",{appName:ft})}const Kt=new M.H0(ft);for(const Ft of Ln.values())Kt.addComponent(Ft);const Tn=new mr(ie,Ke,Kt);return dn.set(ft,Tn),Tn}function re(ie=Xt){const be=dn.get(ie);if(!be)throw Fn.create("no-app",{appName:ie});return be}function _e(){return Array.from(dn.values())}function pe(ie){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(ie){const be=ie.name;dn.has(be)&&(dn.delete(be),yield Promise.all(ie.container.getProviders().map(Ke=>Ke.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function yt(ie,be,Ke){var ft;let St=null!==(ft=at[ie])&&void 0!==ft?ft:ie;Ke&&(St+=`-${Ke}`);const Kt=St.match(/\s|\//),Tn=be.match(/\s|\//);if(Kt||Tn){const Ft=[`Unable to register library "${St}" with version "${be}":`];return Kt&&Ft.push(`library name "${St}" contains illegal characters (whitespace or "/")`),Kt&&Tn&&Ft.push("and"),Tn&&Ft.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void G.warn(Ft.join(" "))}Qt(new M.wA(`${St}-version`,()=>({library:St,version:be}),"VERSION"))}function vt(ie,be){if(null!==ie&&"function"!=typeof ie)throw Fn.create("invalid-log-argument");(0,T.Am)(ie,be)}function At(ie){(0,T.Ub)(ie)}const ht="firebase-heartbeat-store";let jt=null;function kn(){return jt||(jt=(0,V.X3)("firebase-heartbeat-database",1,{upgrade:(ie,be)=>{0===be&&ie.createObjectStore(ht)}}).catch(ie=>{throw Fn.create("storage-open",{originalErrorMessage:ie.message})})),jt}function ut(){return(ut=(0,d.Z)(function*(ie){try{return(yield kn()).transaction(ht).objectStore(ht).get($t(ie))}catch(be){throw Fn.create("storage-get",{originalErrorMessage:be.message})}})).apply(this,arguments)}function et(ie,be){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(ie,be){try{const ft=(yield kn()).transaction(ht,"readwrite");return yield ft.objectStore(ht).put(be,$t(ie)),ft.done}catch(Ke){throw Fn.create("storage-set",{originalErrorMessage:Ke.message})}})).apply(this,arguments)}function $t(ie){return`${ie.name}!${ie.options.appId}`}class pn{constructor(be){this.container=be,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new se(Ke),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var be=this;return(0,d.Z)(function*(){const ft=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=Zt();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==St&&!be._heartbeatsCache.heartbeats.some(Kt=>Kt.date===St))return be._heartbeatsCache.heartbeats.push({date:St,agent:ft}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(Kt=>{const Tn=new Date(Kt.date).valueOf();return Date.now()-Tn<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,d.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const Ke=Zt(),{heartbeatsToSend:ft,unsentEntries:St}=function Y(ie,be=1024){const Ke=[];let ft=ie.slice();for(const St of ie){const Kt=Ke.find(Tn=>Tn.agent===St.agent);if(Kt){if(Kt.dates.push(St.date),X(Ke)>be){Kt.dates.pop();break}}else if(Ke.push({agent:St.agent,dates:[St.date]}),X(Ke)>be){Ke.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:ft}}(be._heartbeatsCache.heartbeats),Kt=(0,F.L)(JSON.stringify({version:2,heartbeats:ft}));return be._heartbeatsCache.lastSentHeartbeatDate=Ke,St.length>0?(be._heartbeatsCache.heartbeats=St,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),Kt})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class se{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,F.hl)()&&(0,F.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,d.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function kt(ie){return ut.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var Ke=this;return(0,d.Z)(function*(){var ft;if(yield Ke._canUseIndexedDBPromise){const Kt=yield Ke.read();return et(Ke.app,{lastSentHeartbeatDate:null!==(ft=be.lastSentHeartbeatDate)&&void 0!==ft?ft:Kt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var Ke=this;return(0,d.Z)(function*(){var ft;if(yield Ke._canUseIndexedDBPromise){const Kt=yield Ke.read();return et(Ke.app,{lastSentHeartbeatDate:null!==(ft=be.lastSentHeartbeatDate)&&void 0!==ft?ft:Kt.lastSentHeartbeatDate,heartbeats:[...Kt.heartbeats,...be.heartbeats]})}})()}}function X(ie){return(0,F.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function Ve(ie){Qt(new M.wA("platform-logger",be=>new j(be),"PRIVATE")),Qt(new M.wA("heartbeat",be=>new pn(be),"PRIVATE")),yt(K,"0.7.24",ie),yt(K,"0.7.24","esm2017"),yt("fire-js","")}("")},4859:(qe,q,R)=>{"use strict";R.d(q,{H0:()=>K,wA:()=>T,zt:()=>V});var d=R(5861),M=R(2090);class T{constructor(G,Z,te){this.name=G,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const F="[DEFAULT]";class V{constructor(G,Z){this.name=G,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const Z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(Z)){const te=new M.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:Z});Pe&&te.resolve(Pe)}catch(Pe){}}return this.instancesDeferred.get(Z).promise}getImmediate(G){var Z;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Pe=null!==(Z=null==G?void 0:G.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ie){if(Pe)return null;throw Ie}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function W(ue){return"EAGER"===ue.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:F})}catch(Z){}for(const[Z,te]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(Z);try{const Ie=this.getOrInitializeService({instanceIdentifier:Pe});te.resolve(Ie)}catch(Ie){}}}}clearInstance(G=F){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const Z=Array.from(G.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=F){return this.instances.has(G)}getOptions(G=F){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:Z={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Ie,Oe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ie)&&Oe.resolve(Pe);return Pe}onInit(G,Z){var te;const Pe=this.normalizeInstanceIdentifier(Z),Ie=null!==(te=this.onInitCallbacks.get(Pe))&&void 0!==te?te:new Set;Ie.add(G),this.onInitCallbacks.set(Pe,Ie);const Oe=this.instances.get(Pe);return Oe&&G(Oe,Pe),()=>{Ie.delete(G)}}invokeOnInitCallbacks(G,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const Pe of te)try{Pe(G,Z)}catch(Ie){}}getOrInitializeService({instanceIdentifier:G,options:Z={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=G,ue===F?void 0:ue),options:Z}),this.instances.set(G,te),this.instancesOptions.set(G,Z),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(Pe){}var ue;return te||null}normalizeInstanceIdentifier(G=F){return this.component?this.component.multipleInstances?G:F:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const Z=this.getProvider(G.name);if(Z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);Z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const Z=new V(G,this);return this.providers.set(G,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(qe,q,R)=>{"use strict";R.d(q,{Am:()=>ue,Ub:()=>K,Yd:()=>W,in:()=>M});const d=[];var M=(()=>{return(G=M||(M={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",M;var G})();const T={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},F=M.INFO,V={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},j=(G,Z,...te)=>{if(Z<G.logLevel)return;const Pe=(new Date).toISOString(),Ie=V[Z];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ie](`[${Pe}]  ${G.name}:`,...te)};class W{constructor(Z){this.name=Z,this._logLevel=F,this._logHandler=j,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in M))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?T[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...Z),this._logHandler(this,M.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...Z),this._logHandler(this,M.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,M.INFO,...Z),this._logHandler(this,M.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,M.WARN,...Z),this._logHandler(this,M.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...Z),this._logHandler(this,M.ERROR,...Z)}}function K(G){d.forEach(Z=>{Z.setLogLevel(G)})}function ue(G,Z){for(const te of d){let Pe=null;Z&&Z.level&&(Pe=T[Z.level]),te.userLogHandler=null===G?null:(Ie,Oe,...We)=>{const me=We.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Be){return null}}).filter(Ce=>Ce).join(" ");Oe>=(null!=Pe?Pe:Ie.logLevel)&&G({level:M[Oe].toLowerCase(),message:me,args:We,type:Ie.name})}}}},8766:(qe,q,R)=>{"use strict";R.d(q,{Lj:()=>Ue,X3:()=>Re});var d=R(5861);let T,F;const W=new WeakMap,K=new WeakMap,ue=new WeakMap,G=new WeakMap,Z=new WeakMap;let Ie={get(de,xe,ee){if(de instanceof IDBTransaction){if("done"===xe)return K.get(de);if("objectStoreNames"===xe)return de.objectStoreNames||ue.get(de);if("store"===xe)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Ce(de[xe])},set:(de,xe,ee)=>(de[xe]=ee,!0),has:(de,xe)=>de instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in de};function me(de){return"function"==typeof de?function We(de){return de!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return F||(F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(de)?function(...xe){return de.apply(Be(this),xe),Ce(W.get(this))}:function(...xe){return Ce(de.apply(Be(this),xe))}:function(xe,...ee){const oe=de.call(Be(this),xe,...ee);return ue.set(oe,xe.sort?xe.sort():[xe]),Ce(oe)}}(de):(de instanceof IDBTransaction&&function Pe(de){if(K.has(de))return;const xe=new Promise((ee,oe)=>{const fe=()=>{de.removeEventListener("complete",we),de.removeEventListener("error",De),de.removeEventListener("abort",De)},we=()=>{ee(),fe()},De=()=>{oe(de.error||new DOMException("AbortError","AbortError")),fe()};de.addEventListener("complete",we),de.addEventListener("error",De),de.addEventListener("abort",De)});K.set(de,xe)}(de),((de,xe)=>xe.some(ee=>de instanceof ee))(de,function V(){return T||(T=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(de,Ie):de)}function Ce(de){if(de instanceof IDBRequest)return function te(de){const xe=new Promise((ee,oe)=>{const fe=()=>{de.removeEventListener("success",we),de.removeEventListener("error",De)},we=()=>{ee(Ce(de.result)),fe()},De=()=>{oe(de.error),fe()};de.addEventListener("success",we),de.addEventListener("error",De)});return xe.then(ee=>{ee instanceof IDBCursor&&W.set(ee,de)}).catch(()=>{}),Z.set(xe,de),xe}(de);if(G.has(de))return G.get(de);const xe=me(de);return xe!==de&&(G.set(de,xe),Z.set(xe,de)),xe}const Be=de=>Z.get(de);function Re(de,xe,{blocked:ee,upgrade:oe,blocking:fe,terminated:we}={}){const De=indexedDB.open(de,xe),Xe=Ce(De);return oe&&De.addEventListener("upgradeneeded",Tt=>{oe(Ce(De.result),Tt.oldVersion,Tt.newVersion,Ce(De.transaction))}),ee&&De.addEventListener("blocked",()=>ee()),Xe.then(Tt=>{we&&Tt.addEventListener("close",()=>we()),fe&&Tt.addEventListener("versionchange",()=>fe())}).catch(()=>{}),Xe}function Ue(de,{blocked:xe}={}){const ee=indexedDB.deleteDatabase(de);return xe&&ee.addEventListener("blocked",()=>xe()),Ce(ee).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],ge=["put","add","delete","clear"],Se=new Map;function ne(de,xe){if(!(de instanceof IDBDatabase)||xe in de||"string"!=typeof xe)return;if(Se.get(xe))return Se.get(xe);const ee=xe.replace(/FromIndex$/,""),oe=xe!==ee,fe=ge.includes(ee);if(!(ee in(oe?IDBIndex:IDBObjectStore).prototype)||!fe&&!je.includes(ee))return;const we=function(){var De=(0,d.Z)(function*(Xe,...Tt){const sn=this.transaction(Xe,fe?"readwrite":"readonly");let Xt=sn.store;return oe&&(Xt=Xt.index(Tt.shift())),(yield Promise.all([Xt[ee](...Tt),fe&&sn.done]))[0]});return function(Tt){return De.apply(this,arguments)}}();return Se.set(xe,we),we}!function Oe(de){Ie=de(Ie)}(de=>J1(Q1({},de),{get:(xe,ee,oe)=>ne(xe,ee)||de.get(xe,ee,oe),has:(xe,ee)=>!!ne(xe,ee)||de.has(xe,ee)}))},5861:(qe,q,R)=>{"use strict";function d(T,F,V,j,W,K,ue){try{var G=T[K](ue),Z=G.value}catch(te){return void V(te)}G.done?F(Z):Promise.resolve(Z).then(j,W)}function M(T){return function(){var F=this,V=arguments;return new Promise(function(j,W){var K=T.apply(F,V);function ue(Z){d(K,j,W,ue,G,"next",Z)}function G(Z){d(K,j,W,ue,G,"throw",Z)}ue(void 0)})}}R.d(q,{Z:()=>M})}},qe=>{qe(qe.s=1015)}]);